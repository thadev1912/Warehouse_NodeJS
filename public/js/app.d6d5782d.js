(function(){"use strict";var e={6010:function(e,t,s){var a=s(9242),l=s(3396);function o(e,t,s,a,o,d){const r=(0,l.up)("router-view");return(0,l.wg)(),(0,l.j4)(r)}var d={},r=s(89);const i=(0,r.Z)(d,[["render",o]]);var n=i,c=s(2483);const u={class:"page"};function _(e,t,s,a,o,d){const r=(0,l.up)("Navbar"),i=(0,l.up)("router-view"),n=(0,l.up)("Footer");return(0,l.wg)(),(0,l.iD)("div",u,[(0,l.Wm)(r),(0,l.Wm)(i),(0,l.Wm)(n)])}var p=s(7139);const m={class:"main-header side-header sticky"},h={class:"main-container container-fluid"},b={class:"main-header-left"},g=(0,l._)("a",{class:"main-header-menu-icon",href:"javascript:void(0)",id:"mainSidebarToggle"},[(0,l._)("span")],-1),v={class:"hor-logo"},f=(0,l._)("img",{src:"/frontend/img/brand/logo.png",class:"header-brand-img desktop-logo",alt:"logo"},null,-1),y=(0,l._)("img",{src:"/frontend/img/brand/logo.png",class:"header-brand-img desktop-logo-dark",alt:"logo"},null,-1),w={class:"main-header-right"},k=(0,l._)("button",{class:"navbar-toggler navresponsive-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent-4","aria-controls":"navbarSupportedContent-4","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,l._)("i",{class:"fe fe-more-vertical header-icons navbar-toggler-icon"})],-1),x={class:"navbar navbar-expand-lg nav nav-item navbar-nav-right responsive-navbar navbar-dark"},C={class:"collapse navbar-collapse",id:"navbarSupportedContent-4"},D={class:"d-flex order-lg-2 ms-auto"},P=(0,l.uE)('<div class="dropdown d-flex main-header-theme"><a class="nav-link icon layout-setting"><span class="dark-layout"><i class="fe fe-sun header-icons"></i></span><span class="light-layout"><i class="fe fe-moon header-icons"></i></span></a></div><div class="dropdown"><a class="nav-link icon full-screen-link"><i class="fe fe-maximize fullscreen-button fullscreen header-icons"></i><i class="fe fe-minimize fullscreen-button exit-fullscreen header-icons"></i></a></div><div class="dropdown main-header-notification"><a class="nav-link icon"><i class="fe fe-bell header-icons"></i><span class="badge bg-danger nav-link-badge">3</span></a><div class="dropdown-menu"><div class="header-navheading"><p class="main-notification-text"> Bạn có 1 thông báo chưa xem<span class="badge bg-pill bg-primary ms-3">Xem tất cả</span></p></div><div class="main-notification-list"><div class="media new"><div class="main-img-user online"><img alt="avatar" src="/frontend/img/notification_images/sim-card.png"></div><div class="media-body"><p> Cảnh báo <strong>5 SIM</strong> sắp hết hạn </p><span>Oct 15 12:32pm</span></div></div><div class="media"><div class="main-img-user"><img alt="avatar" src="/frontend/img/notification_images/sim-card.png"></div><div class="media-body"> Cảnh báo <strong>5 SIM</strong> sắp hết hạn <span>Oct 13 02:56am</span></div></div><div class="media"><div class="main-img-user online"><img alt="avatar" src="/frontend/img/notification_images/sim-card.png"></div><div class="media-body"><p> Cảnh báo <strong>5 SIM</strong> sắp hết hạn realease </p><span>Oct 12 10:40pm</span></div></div></div><div class="dropdown-footer"><a href="javascript:void(0)">Xem tất cả thông báo</a></div></div></div>',3),M={class:"dropdown main-profile-menu"},S={class:"d-flex",href:"javascript:void(0)"},E={class:"main-img-user"},T=["src"],z={class:"dropdown-menu"},U={class:"header-navheading"},j={class:"main-notification-title"},q={class:"main-notification-text"},I=(0,l._)("i",{class:"fe fe-user"},null,-1),L=(0,l._)("i",{class:"fe fe-log-out"},null,-1),N={class:"sticky"},R={class:"main-menu main-sidebar main-sidebar-sticky side-menu"},V={class:"main-sidebar-header main-container-1 active"},Q={class:"sidemenu-logo"},O=(0,l._)("img",{src:"/frontend/img/brand/logo.png",class:"header-brand-img desktop-logo",style:{"max-width":"80%"},alt:"logo"},null,-1),A=(0,l._)("img",{src:"/frontend/img/brand/logo.png",class:"header-brand-img icon-logo",style:{"max-width":"80%"},alt:"logo"},null,-1),J=(0,l._)("img",{src:"/frontend/img/brand/logo.png",class:"header-brand-img desktop-logo theme-logo",style:{"max-width":"80%"},alt:"logo"},null,-1),G=(0,l._)("img",{src:"/frontend/img/brand/logo.png",class:"header-brand-img icon-logo theme-logo",style:{"max-width":"80%"},alt:"logo"},null,-1),W={class:"main-sidebar-body main-body-1"},B=(0,l._)("div",{class:"slide-left disabled",id:"slide-left"},[(0,l._)("i",{class:"fe fe-chevron-left"})],-1),Y={class:"menu-nav nav"},H=(0,l._)("span",{class:"shape1"},null,-1),K=(0,l._)("span",{class:"shape2"},null,-1),Z=(0,l._)("i",{class:"ti-home sidemenu-icon menu-icon"},null,-1),F=(0,l._)("i",{class:"fa-solid fa-house"},null,-1),X=(0,l._)("span",{class:"sidemenu-label"},"Trang chủ",-1),ee=(0,l._)("div",{class:"slide-left disabled",id:"slide-left"},[(0,l._)("i",{class:"fe fe-chevron-left"})],-1),te=(0,l._)("span",{class:"shape1"},null,-1),se=(0,l._)("span",{class:"shape2"},null,-1),ae=(0,l._)("i",{class:"ti-write sidemenu-icon menu-icon"},null,-1),le=(0,l._)("span",{class:"sidemenu-label"},"Yêu cầu sản xuất",-1),oe=(0,l._)("div",{class:"slide-left disabled",id:"slide-left"},[(0,l._)("i",{class:"fe fe-chevron-left"})],-1),de=(0,l._)("span",{class:"shape1"},null,-1),re=(0,l._)("span",{class:"shape2"},null,-1),ie=(0,l._)("i",{class:"fa fa-calendar-check-o sidemenu-icon menu-icon"},null,-1),ne=(0,l._)("span",{class:"sidemenu-label"},"Lịch sản xuất",-1),ce=(0,l._)("div",{class:"slide-left disabled",id:"slide-left"},[(0,l._)("i",{class:"fe fe-chevron-left"})],-1),ue=(0,l._)("span",{class:"shape1"},null,-1),_e=(0,l._)("span",{class:"shape2"},null,-1),pe=(0,l._)("i",{class:"fas fa-eye-dropper sidemenu-icon menu-icon"},null,-1),me=(0,l._)("span",{class:"sidemenu-label"},"Hàn mạch",-1),he=(0,l._)("div",{class:"slide-left disabled",id:"slide-left"},[(0,l._)("i",{class:"fe fe-chevron-left"})],-1),be=(0,l._)("span",{class:"shape1"},null,-1),ge=(0,l._)("span",{class:"shape2"},null,-1),ve=(0,l._)("i",{class:"mdi mdi-wrench sidemenu-icon menu-icon"},null,-1),fe=(0,l._)("span",{class:"sidemenu-label"},"Lắp ráp",-1),ye=(0,l._)("div",{class:"slide-left disabled",id:"slide-left"},[(0,l._)("i",{class:"fe fe-chevron-left"})],-1),we=(0,l._)("span",{class:"shape1"},null,-1),ke=(0,l._)("span",{class:"shape2"},null,-1),xe=(0,l._)("i",{class:"fa fa-check-square sidemenu-icon menu-icon"},null,-1),Ce=(0,l._)("span",{class:"sidemenu-label"},"QA/QC",-1),De=(0,l.uE)('<a class="nav-link with-sub" href="javascript:void(0)"><span class="shape1"></span><span class="shape2"></span><i class="ti-wallet sidemenu-icon menu-icon"></i><span class="sidemenu-label">Quản lý chung </span><i class="angle fe fe-chevron-right"></i></a>',1),Pe={class:"nav-sub"},Me=(0,l._)("li",{class:"side-menu-label1"},[(0,l._)("a",{href:"javascript:void(0)"},"Quản lý chung")],-1),Se={class:"nav-sub-item"},Ee={class:"nav-sub-item"},Te={class:"nav-sub-item"},ze=(0,l.uE)('<a class="nav-link with-sub" href="javascript:void(0)"><span class="shape1"></span><span class="shape2"></span><i class="mdi mdi-account sidemenu-icon menu-icon"></i><span class="sidemenu-label">Tài khoản/Phân quyền</span><i class="angle fe fe-chevron-right"></i></a>',1),Ue={class:"nav-sub"},je=(0,l._)("li",{class:"side-menu-label1"},[(0,l._)("a",{href:"javascript:void(0)"},"Tài khoản/Phân quyền")],-1),qe={class:"nav-sub-item"},Ie=(0,l.uE)('<a class="nav-link with-sub" href="javascript:void(0)"><span class="shape1"></span><span class="shape2"></span><i class="mdi mdi-sim sidemenu-icon menu-icon"></i><span class="sidemenu-label">Quản lý SIM/E-SIM</span><i class="angle fe fe-chevron-right"></i></a>',1),Le={class:"nav-sub"},Ne=(0,l._)("li",{class:"side-menu-label1"},[(0,l._)("a",{href:"javascript:void(0)"},"Quản lý SIM/E-SIM")],-1),Re={class:"nav-sub-item"},Ve={class:"nav-sub-item"},Qe=(0,l.uE)('<a class="nav-link with-sub" href="javascript:void(0)"><span class="shape1"></span><span class="shape2"></span><i class="ti-shopping-cart-full sidemenu-icon menu-icon"></i><span class="sidemenu-label">Quản lý sản phẩm</span><i class="angle fe fe-chevron-right"></i></a>',1),Oe={class:"nav-sub"},Ae=(0,l._)("li",{class:"side-menu-label1"},[(0,l._)("a",{href:"javascript:void(0)"},"Quản lý sản phẩm")],-1),Je={class:"nav-sub-item"},$e={class:"nav-sub-item"},Ge={class:"nav-sub-item"},We={class:"nav-sub-item"},Be=(0,l.uE)('<a class="nav-link with-sub" href="javascript:void(0)"><span class="shape1"></span><span class="shape2"></span><i class="ti-harddrives sidemenu-icon menu-icon"></i><span class="sidemenu-label">Quản lý thiết bị</span><i class="angle fe fe-chevron-right"></i></a>',1),Ye={class:"nav-sub"},He=(0,l._)("li",{class:"side-menu-label1"},[(0,l._)("a",{href:"javascript:void(0)"},"Quản lý thiết bị")],-1),Ke={class:"nav-sub-item"},Ze=(0,l._)("div",{class:"slide-right",id:"slide-right"},[(0,l._)("i",{class:"fe fe-chevron-right"})],-1);function Fe(e,t,s,a,o,d){const r=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",m,[(0,l._)("div",h,[(0,l._)("div",b,[g,(0,l._)("div",v,[(0,l.Wm)(r,{class:"main-logo",to:"/"},{default:(0,l.w5)((()=>[f,y])),_:1})])]),(0,l._)("div",w,[k,(0,l._)("div",x,[(0,l._)("div",C,[(0,l._)("div",D,[P,(0,l._)("div",M,[(0,l._)("a",S,[(0,l._)("span",E,[(0,l._)("img",{alt:"avatar",src:"http://192.168.48.31:8080/"+o.user.avatar},null,8,T)])]),(0,l._)("div",z,[(0,l._)("div",U,[(0,l._)("h6",j,(0,p.zw)(o.user.fullname),1),(0,l._)("p",q,"Bộ phận: "+(0,p.zw)(o.user.department),1)]),(0,l.Wm)(r,{class:"dropdown-item border-top",to:"/profile"},{default:(0,l.w5)((()=>[I,(0,l.Uk)("Tài khoản ")])),_:1}),(0,l._)("button",{class:"dropdown-item",onClick:t[0]||(t[0]=e=>d.logout())},[L,(0,l.Uk)(" Đăng xuất ")])])])])])])])])]),(0,l._)("div",N,[(0,l._)("div",R,[(0,l._)("div",V,[(0,l._)("div",Q,[(0,l.Wm)(r,{class:"main-logo",to:"/index"},{default:(0,l.w5)((()=>[O,A,J,G])),_:1})]),(0,l._)("div",W,[B,(0,l._)("ul",Y,[(0,l._)("li",{class:(0,p.C_)(["nav-item",{active:d.isRouteActive(["/index"])}])},[(0,l.Wm)(r,{to:"/index",class:"nav-link"},{default:(0,l.w5)((()=>[H,K,Z,F,X])),_:1})],2),ee,(0,l._)("li",{class:(0,p.C_)(["nav-item",{active:d.isRouteActive(["/production_required","/production_required/add","/production_required/edit"])}])},[(0,l.Wm)(r,{to:"/production_required",class:"nav-link"},{default:(0,l.w5)((()=>[te,se,ae,le])),_:1})],2),oe,(0,l._)("li",{class:(0,p.C_)(["nav-item",{active:d.isRouteActive(["/jobsheets","/jobsheets/detail"])}])},[(0,l.Wm)(r,{to:"/jobsheets",class:"nav-link"},{default:(0,l.w5)((()=>[de,re,ie,ne])),_:1})],2),ce,(0,l._)("li",{class:(0,p.C_)(["nav-item",{active:d.isRouteActive(["/weldings","/weldings/detail"])}])},[(0,l.Wm)(r,{to:"/weldings",class:"nav-link"},{default:(0,l.w5)((()=>[ue,_e,pe,me])),_:1})],2),he,(0,l._)("li",{class:(0,p.C_)(["nav-item",{active:d.isRouteActive(["/assemblys","/assemblys/detail"])}])},[(0,l.Wm)(r,{to:"/assemblys",class:"nav-link"},{default:(0,l.w5)((()=>[be,ge,ve,fe])),_:1})],2),ye,(0,l._)("li",{class:(0,p.C_)(["nav-item",{active:d.isRouteActive(["/qualitycontrol","/qualitycontrol/detail"])}])},[(0,l.Wm)(r,{to:"/qualitycontrol",class:"nav-link"},{default:(0,l.w5)((()=>[we,ke,xe,Ce])),_:1})],2),d.displayModule()?((0,l.wg)(),(0,l.iD)("li",{key:0,class:(0,p.C_)(["nav-item",{active:d.isRouteActive(["/projects","/positions","/regions","/departments"])}])},[De,(0,l._)("ul",Pe,[Me,(0,l._)("li",Se,[(0,l.Wm)(r,{to:"/positions",class:(0,p.C_)([{active:d.isActive("/positions")},"nav-sub-link"])},{default:(0,l.w5)((()=>[(0,l.Uk)("Chức vụ")])),_:1},8,["class"])]),(0,l._)("li",Ee,[(0,l.Wm)(r,{to:"/regions",class:(0,p.C_)([{active:d.isActive("/regions")},"nav-sub-link"])},{default:(0,l.w5)((()=>[(0,l.Uk)("Khu vực")])),_:1},8,["class"])]),(0,l._)("li",Te,[(0,l.Wm)(r,{to:"/departments",class:(0,p.C_)([{active:d.isActive("/departments")},"nav-sub-link"])},{default:(0,l.w5)((()=>[(0,l.Uk)("Bộ phận")])),_:1},8,["class"])])])],2)):(0,l.kq)("",!0),d.displayModule()?((0,l.wg)(),(0,l.iD)("li",{key:1,class:(0,p.C_)(["nav-item",{active:d.isRouteActive(["/users","/permissions","/modules"])}])},[ze,(0,l._)("ul",Ue,[je,(0,l._)("li",qe,[(0,l.Wm)(r,{to:"/users",class:(0,p.C_)([{active:d.isActive("/users")},"nav-sub-link"])},{default:(0,l.w5)((()=>[(0,l.Uk)("Tài khoản")])),_:1},8,["class"])])])],2)):(0,l.kq)("",!0),d.displayModule()?((0,l.wg)(),(0,l.iD)("li",{key:2,class:(0,p.C_)(["nav-item",{active:d.isRouteActive(["/packages","/sims"])}])},[Ie,(0,l._)("ul",Le,[Ne,(0,l._)("li",Re,[(0,l.Wm)(r,{to:"/packages",class:(0,p.C_)([{active:d.isActive("/packages")},"nav-sub-link"])},{default:(0,l.w5)((()=>[(0,l.Uk)("Gói cước")])),_:1},8,["class"])]),(0,l._)("li",Ve,[(0,l.Wm)(r,{to:"/sims",class:(0,p.C_)([{active:d.isActive("/sims")},"nav-sub-link"])},{default:(0,l.w5)((()=>[(0,l.Uk)("SIM/E-SIM")])),_:1},8,["class"])])])],2)):(0,l.kq)("",!0),d.displayModule()?((0,l.wg)(),(0,l.iD)("li",{key:3,class:(0,p.C_)(["nav-item",{active:d.isRouteActive(["/product_types","/product_catalogs","/product_groups","/semi_products"])}])},[Qe,(0,l._)("ul",Oe,[Ae,(0,l._)("li",Je,[(0,l.Wm)(r,{to:"/product_types",class:(0,p.C_)([{active:d.isActive("/product_types")},"nav-sub-link"])},{default:(0,l.w5)((()=>[(0,l.Uk)("Loại sản phẩm")])),_:1},8,["class"])]),(0,l._)("li",$e,[(0,l.Wm)(r,{to:"/product_catalogs",class:(0,p.C_)([{active:d.isActive("/product_catalogs")},"nav-sub-link"])},{default:(0,l.w5)((()=>[(0,l.Uk)("Dòng sản phẩm")])),_:1},8,["class"])]),(0,l._)("li",Ge,[(0,l.Wm)(r,{to:"/product_groups",class:(0,p.C_)([{active:d.isActive("/product_groups")},"nav-sub-link"])},{default:(0,l.w5)((()=>[(0,l.Uk)("Nhóm sản phẩm")])),_:1},8,["class"])]),(0,l._)("li",We,[(0,l.Wm)(r,{to:"/semi_products",class:(0,p.C_)([{active:d.isActive("/semi_products")},"nav-sub-link"])},{default:(0,l.w5)((()=>[(0,l.Uk)("Bán thành phẩm")])),_:1},8,["class"])])])],2)):(0,l.kq)("",!0),d.displayModule()?((0,l.wg)(),(0,l.iD)("li",{key:4,class:(0,p.C_)(["nav-item",{active:d.isRouteActive(["/monitoring_network","/monitoring_network/detail"])}])},[Be,(0,l._)("ul",Ye,[He,(0,l._)("li",Ke,[(0,l.Wm)(r,{to:"/monitoring_network",class:(0,p.C_)([{active:d.isActive("/monitoring_network")},"nav-sub-link"])},{default:(0,l.w5)((()=>[(0,l.Uk)("IMS")])),_:1},8,["class"])])])],2)):(0,l.kq)("",!0)]),Ze])])])])],64)}s(7658);var Xe=s(2492),et=s.n(Xe),tt=s(381),st=s(7514),at=s(7387),lt=s.n(at),ot=s(5929),dt=s(563),rt=(s(6533),s(7011),s(6921),s(9770),s(4810),s(5202),s(3285),s(4730)),it=s.n(rt);window.JSZip=it(),ot.Z.use(dt.Z);var nt={components:{DataTable:ot.Z},initializeDataTable(e){lt()(e).DataTable({retrieve:!0,language:{decimal:",",emptyTable:"Không có dữ liệu",info:"Hiển thị _START_ đến _END_ của _TOTAL_ mục",infoEmpty:"Không có mục nào để hiển thị",infoFiltered:"(được lọc từ _MAX_ mục)",infoPostFix:"",thousands:".",lengthMenu:"Hiển thị _MENU_ mục",loadingRecords:"Đang tải...",processing:"Đang xử lý...",search:"Tìm kiếm:",zeroRecords:"Không tìm thấy kết quả tương ứng",paginate:{first:"Đầu",previous:"Trước",next:"Sau",last:"Cuối"},aria:{sortAscending:": kích hoạt để sắp xếp cột tăng dần",sortDescending:": kích hoạt để sắp xếp cột giảm dần"}}})},validateData(e,t){const s={},a=/^\d+$/,l=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;return t.forEach((t=>{if(e[t.name]||t.nullable?e[t.name]&&t.maxLength&&e[t.name].length>t.maxLength?s[t.name]=`${t.label} không được vượt quá ${t.maxLength} ký tự`:e[t.name]&&"number"===t.type&&!a.test(e[t.name])&&(s[t.name]=`${t.label} phải là số`):s[t.name]=`${t.label} không được bỏ trống`,"image"===t.type){const a=e[t.name];a&&!a.type.startsWith("image/")?s[t.name]=`${t.label} phải là một tệp hình ảnh`:a&&a.size>t.maxSize&&(s[t.name]=`${t.label} không được vượt quá ${t.maxSize/1024/1024} MB`)}else if(e[t.name]&&"email"===t.type&&!l.test(e[t.name]))s[t.name]=`${t.label} không đúng định dạng`;else if(e[t.name]&&"password"===t.type){const a=e[t.name];!(a.length<8)&&/[A-Z]/.test(a)&&/[a-z]/.test(a)&&/[!@#$%^&*()_+{}\[\]:;<>,.?~\\/-]/.test(a)&&/\d/.test(a)||(s[t.name]=`${t.label} không hợp lệ`)}})),s},showSuccessAlert(e){et().fire({title:"Thành Công",text:e,icon:"success",confirmButtonText:"ok",timer:700})},showInfoAlert(e){et().fire({title:"Thông báo",text:e,icon:"info",confirmButtonText:"ok",timer:700})},showErrorAlert(e){et().fire({title:"Thất bại",text:e,icon:"warning",confirmButtonText:"ok",timer:1e3})},confirmDelete(e,t){et().fire({title:"Xác nhận!",text:t||"Bạn có chắc chắn muốn xóa?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#428bca",cancelButtonColor:"#d9534f",confirmButtonText:"Xác nhận",cancelButtonText:"Hủy",zIndex:1e3}).then((t=>{t.isConfirmed&&e()}))},showsuccessMessage(e,t){return new Promise((s=>{const a=e;let l=!0;setTimeout((()=>{l=!1,s({showMessage:l,successMessage:a})}),t)}))},errorRedirect(){p0.push({name:"ConnectionError"})},LoginSession(){p0.push({name:"signin"})},caculateExpirationDate(e,t){const s=new Date(e),a=(0,tt.Z)(s,t),l=(0,st.Z)(a,"MM/dd/yyyy");return l},closeModal(e,t,s){const a=this.$refs[e];$(a).modal("hide"),this[t]={},this[s]={}}},ct=s(5269),ut=s.n(ct),_t={data(){return{user:[]}},mounted(){this.user=JSON.parse(sessionStorage.getItem("userLogin"))},created(){const e=document.createElement("script");e.src="/frontend/plugins/sidemenu/sidemenu.js",e.async=!0,document.head.appendChild(e);const t=document.createElement("script");t.src="/frontend/js/custom.js",t.async=!0,document.head.appendChild(t)},methods:{isRouteActive(e){const t=this.$route.path,s=new RegExp(`^(${e.join("|")})($|/)`);return s.test(t)},isActive(e){return this.$route.path===e},logout(){nt.confirmDelete((()=>{ut().remove("accessToken"),sessionStorage.removeItem("userLogin"),this.$router.push({name:"signin"})}),"Bạn chắc chắn muốn đăng xuất khỏi hệ thống")},displayModule(){return 1==this.user.role}}};const pt=(0,r.Z)(_t,[["render",Fe]]);var mt=pt;const ht={class:"main-footer text-center"},bt=(0,l._)("div",{class:"container"},[(0,l._)("div",{class:"row row-sm"},[(0,l._)("div",{class:"col-md-12"},[(0,l._)("span",null,"Version 1.0.0")])])],-1),gt=[bt];function vt(e,t){return(0,l.wg)(),(0,l.iD)("div",ht,gt)}const ft={},yt=(0,r.Z)(ft,[["render",vt]]);var wt=yt,kt={name:"DefaultLayout",components:{Navbar:mt,Footer:wt}};const xt=(0,r.Z)(kt,[["render",_]]);var Ct=xt;function Dt(e,t){const s=(0,l.up)("router-view");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(s)])}const Pt={},Mt=(0,r.Z)(Pt,[["render",Dt]]);var St=Mt;const Et={class:"page main-signin-wrapper"},Tt={class:"container"},zt={class:"construction1 text-center details"},Ut={class:""},jt=(0,l._)("div",{class:"col-lg-12"},[(0,l._)("h1",{class:"tx-140 mb-0 text-primary"},"Oops!")],-1),qt={class:"col-lg-12"},It={class:"tx-15 mt-3 mb-4 text-muted"};function Lt(e,t,s,a,o,d){const r=(0,l.up)("RouterLink");return(0,l.wg)(),(0,l.iD)("div",Et,[(0,l._)("div",Tt,[(0,l._)("div",zt,[(0,l._)("div",Ut,[jt,(0,l._)("div",qt,[(0,l._)("h1",null,(0,p.zw)(e.$route.meta.title),1),(0,l._)("h6",It,(0,p.zw)(e.$route.meta.content),1),(0,l.Wm)(r,{class:"btn ripple btn-primary text-center mb-2",to:"/index"},{default:(0,l.w5)((()=>[(0,l.Uk)("Trở lại trang chủ")])),_:1})])])])])])}var Nt={name:"NotFound"};const Rt=(0,r.Z)(Nt,[["render",Lt]]);var Vt=Rt;function Qt(e,t,s){const a=ut().get("accessToken");a?s():s("/")}const Ot=e=>((0,l.dD)("data-v-29d4d562"),e=e(),(0,l.Cn)(),e),At={class:"main-content side-content pt-0"},Jt={class:"main-container container-fluid pt-5"},$t={class:"inner-body"},Gt=(0,l.uE)('<div class="page-header" data-v-29d4d562><div data-v-29d4d562><h2 class="main-content-title tx-24 mg-b-5" data-v-29d4d562>Trang chủ</h2><ol class="breadcrumb" data-v-29d4d562><li class="breadcrumb-item" data-v-29d4d562><a href="#" data-v-29d4d562>Trang chủ</a></li><li class="breadcrumb-item active" aria-current="page" data-v-29d4d562></li></ol></div></div>',1),Wt={class:"row"},Bt={class:"col-sm-12 col-md-6 col-lg-6 col-xl-3"},Yt={class:"card custom-card"},Ht={class:"card-body"},Kt={class:"card-order"},Zt=Ot((()=>(0,l._)("label",{class:"main-content-label mb-3 pt-1"},"Yêu cầu sản xuất",-1))),Ft={class:"text-end card-item-icon card-icon"},Xt=Ot((()=>(0,l._)("i",{class:"ti-write icon-size float-start text-primary"},null,-1))),es={class:"font-weight-bold"},ts={class:"mb-0 mt-4 text-muted"},ss={class:"float-end"},as={class:"col-sm-12 col-md-6 col-lg-6 col-xl-3"},ls={class:"card custom-card"},os={class:"card-body"},ds={class:"card-order"},rs=Ot((()=>(0,l._)("label",{class:"main-content-label mb-3 pt-1"},"Jobsheet",-1))),is={class:"text-end"},ns=Ot((()=>(0,l._)("i",{class:"fa fa-calendar-check-o icon-size float-start text-primary"},null,-1))),cs={class:"font-weight-bold"},us={class:"mb-0 mt-4 text-muted"},_s={class:"float-end"},ps={class:"col-sm-12 col-md-6 col-lg-6 col-xl-3"},ms={class:"card custom-card"},hs={class:"card-body"},bs={class:"card-order"},gs=Ot((()=>(0,l._)("label",{class:"main-content-label mb-3 pt-1"},"Thành phẩm",-1))),vs={class:"text-end"},fs=Ot((()=>(0,l._)("i",{class:"icon-size mdi mdi-poll-box float-start text-primary"},null,-1))),ys={class:"font-weight-bold"},ws={class:"mb-0 mt-4 text-muted"},ks={class:"float-end"},xs={class:"col-sm-12 col-md-6 col-lg-6 col-xl-3"},Cs={class:"card custom-card"},Ds={class:"card-body"},Ps={class:"card-order"},Ms=Ot((()=>(0,l._)("label",{class:"main-content-label mb-3 pt-1"},"Bán thành phẩm",-1))),Ss={class:"text-end"},Es=Ot((()=>(0,l._)("i",{class:"mdi mdi-cart icon-size float-start text-primary"},null,-1))),Ts={class:"font-weight-bold"},zs={class:"mb-0 mt-4 text-muted"},Us={class:"float-end"},js={class:"row"},qs={class:"col-lg-6 col-md-12"},Is={class:"card custom-card overflow-hidden"},Ls={class:"card-body"},Ns={class:"col-lg-6 col-md-12"},Rs={class:"card custom-card overflow-hidden"},Vs={class:"card-body"},Qs={class:"row"},Os={class:"col-md-12 col-xl-12"},As={class:"card custom-card overflow-hidden"},Js=Ot((()=>(0,l._)("div",{class:"card-header border-bottom-0 d-flex"},[(0,l._)("div",null,[(0,l._)("label",{class:"main-content-label mb-2 pt-1"},"Thống kê chi tiết")])],-1))),$s={class:"card-body pt-0"},Gs={class:"table-responsive"},Ws={class:"table table-vcenter border mb-0 text-nowrap table-product"},Bs=Ot((()=>(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",null,"Mục"),(0,l._)("th",null,"Số lượng"),(0,l._)("th",null,"Đã nhận"),(0,l._)("th",null,"Đã hủy"),(0,l._)("th",null,"Đang sản xuất"),(0,l._)("th",null,"Hoàn thành"),(0,l._)("th",null,"Đạt"),(0,l._)("th",null,"Không đạt")])],-1))),Ys=Ot((()=>(0,l._)("td",{class:"d-flex my-auto"},[(0,l._)("span",{class:"my-auto"},"Yêu cầu sản xuất")],-1))),Hs=Ot((()=>(0,l._)("td",null,[(0,l._)("span",{class:"bage bg-pill bg-danger"},"N/A")],-1))),Ks=Ot((()=>(0,l._)("td",null,[(0,l._)("span",{class:"bage bg-pill bg-danger"},"N/A")],-1))),Zs=Ot((()=>(0,l._)("td",null,[(0,l._)("span",{class:"bage bg-pill bg-danger"},"N/A")],-1))),Fs=Ot((()=>(0,l._)("td",null,[(0,l._)("span",{class:"bage bg-pill bg-danger"},"N/A")],-1))),Xs=Ot((()=>(0,l._)("td",{class:"d-flex my-auto"},[(0,l._)("span",{class:"my-auto"},"Jobsheet")],-1))),ea=Ot((()=>(0,l._)("td",null,[(0,l._)("span",{class:"bage bg-pill bg-danger"},"N/A")],-1))),ta=Ot((()=>(0,l._)("td",null,[(0,l._)("span",{class:"bage bg-pill bg-danger"},"N/A")],-1))),sa=Ot((()=>(0,l._)("td",null,[(0,l._)("span",{class:"bage bg-pill bg-danger"},"N/A")],-1))),aa=Ot((()=>(0,l._)("td",{class:"d-flex my-auto"},[(0,l._)("span",{class:"my-auto"},"Thành phẩm")],-1))),la=Ot((()=>(0,l._)("td",null,[(0,l._)("span",{class:"bage bg-pill bg-danger"},"N/A")],-1))),oa=Ot((()=>(0,l._)("td",{class:"d-flex my-auto"},[(0,l._)("span",{class:"my-auto"},"Bán thành phẩm")],-1))),da=Ot((()=>(0,l._)("td",null,[(0,l._)("span",{class:"bage bg-pill bg-danger"},"N/A")],-1)));function ra(e,t,s,a,o,d){const r=(0,l.up)("barChartIndex"),i=(0,l.up)("pieChartIndex");return(0,l.wg)(),(0,l.iD)("div",At,[(0,l._)("div",Jt,[(0,l._)("div",$t,[Gt,(0,l._)("div",Wt,[(0,l._)("div",Bt,[(0,l._)("div",Yt,[(0,l._)("div",Ht,[(0,l._)("div",Kt,[Zt,(0,l._)("h2",Ft,[Xt,(0,l._)("span",es,(0,p.zw)(o.reportData.proOderReport.quantityProductOrder||0),1)]),(0,l._)("p",ts,[(0,l.Uk)(" Đã nhận"),(0,l._)("span",ss,(0,p.zw)(o.reportData.proOderReport.acceptProductOrder||0),1)])])])])]),(0,l._)("div",as,[(0,l._)("div",ls,[(0,l._)("div",os,[(0,l._)("div",ds,[rs,(0,l._)("h2",is,[ns,(0,l._)("span",cs,(0,p.zw)(o.reportData.jobsheetReport.quantityJobSheet||0),1)]),(0,l._)("p",us,[(0,l.Uk)(" Hoàn thành"),(0,l._)("span",_s,(0,p.zw)(o.reportData.jobsheetReport.CompletedJobSheet||0),1)])])])])]),(0,l._)("div",ps,[(0,l._)("div",ms,[(0,l._)("div",hs,[(0,l._)("div",bs,[gs,(0,l._)("h2",vs,[fs,(0,l._)("span",ys,(0,p.zw)(o.reportData.productReport.QuantityProduct||0),1)]),(0,l._)("p",ws,[(0,l.Uk)(" Hoàn thành"),(0,l._)("span",ks,(0,p.zw)(o.reportData.productReport.CompletedProduct||0),1)])])])])]),(0,l._)("div",xs,[(0,l._)("div",Cs,[(0,l._)("div",Ds,[(0,l._)("div",Ps,[Ms,(0,l._)("h2",Ss,[Es,(0,l._)("span",Ts,(0,p.zw)(o.reportData.semiProReport.QuantitySemiProduct||0),1)]),(0,l._)("p",zs,[(0,l.Uk)(" Hoàn thành"),(0,l._)("span",Us,(0,p.zw)(o.reportData.semiProReport.CompletedSemiProduct||0),1)])])])])])]),(0,l._)("div",js,[(0,l._)("div",qs,[(0,l._)("div",Is,[(0,l._)("div",Ls,[(0,l.Wm)(r)])])]),(0,l._)("div",Ns,[(0,l._)("div",Rs,[(0,l._)("div",Vs,[(0,l.Wm)(i)])])])]),(0,l._)("div",Qs,[(0,l._)("div",Os,[(0,l._)("div",As,[Js,(0,l._)("div",$s,[(0,l._)("div",Gs,[(0,l._)("table",Ws,[Bs,(0,l._)("tbody",null,[(0,l._)("tr",null,[Ys,(0,l._)("td",null,[(0,l._)("b",null,(0,p.zw)(o.reportData.proOderReport.quantityProductOrder||0),1)]),(0,l._)("td",null,(0,p.zw)(o.reportData.proOderReport.acceptProductOrder||0),1),(0,l._)("td",null,(0,p.zw)(o.reportData.proOderReport.cancelProductOrder||0),1),Hs,Ks,Zs,Fs]),(0,l._)("tr",null,[Xs,(0,l._)("td",null,[(0,l._)("b",null,(0,p.zw)(o.reportData.jobsheetReport.quantityJobSheet||0),1)]),ea,(0,l._)("td",null,(0,p.zw)(o.reportData.jobsheetReport.CancelJobSheet||0),1),(0,l._)("td",null,(0,p.zw)(o.reportData.jobsheetReport.ProcessingJobSheet||0),1),(0,l._)("td",null,(0,p.zw)(o.reportData.jobsheetReport.CompletedJobSheet||0),1),ta,sa]),(0,l._)("tr",null,[aa,(0,l._)("td",null,[(0,l._)("b",null,(0,p.zw)(o.reportData.productReport.QuantityProduct||0),1)]),la,(0,l._)("td",null,(0,p.zw)(o.reportData.productReport.CancelProduct||0),1),(0,l._)("td",null,(0,p.zw)(o.reportData.productReport.ProcessingProduct||0),1),(0,l._)("td",null,(0,p.zw)(o.reportData.productReport.CompletedProduct||0),1),(0,l._)("td",null,(0,p.zw)(o.reportData.productReport.PassProduct||0),1),(0,l._)("td",null,(0,p.zw)(o.reportData.productReport.FailProduct||0),1)]),(0,l._)("tr",null,[oa,(0,l._)("td",null,[(0,l._)("b",null,(0,p.zw)(o.reportData.semiProReport.QuantitySemiProduct),1)]),da,(0,l._)("td",null,(0,p.zw)(o.reportData.semiProReport.CancelSemiProduct||0),1),(0,l._)("td",null,(0,p.zw)(o.reportData.semiProReport.ProcessingSemiProduct||0),1),(0,l._)("td",null,(0,p.zw)(o.reportData.semiProReport.CompletedSemiProduct||0),1),(0,l._)("td",null,(0,p.zw)(o.reportData.semiProReport.PassSemiProduct||0),1),(0,l._)("td",null,(0,p.zw)(o.reportData.semiProReport.FailSemiProduct||0),1)])])])])])])])])])])])}const ia=e=>((0,l.dD)("data-v-72c4cb3c"),e=e(),(0,l.Cn)(),e),na={class:"d-flex justify-content-between"},ca=ia((()=>(0,l._)("div",{class:"p-2"},[(0,l._)("h6",{class:"main-content-label mb-1"},"Thống kê"),(0,l._)("p",{class:"text-muted card-sub-title"}," Số lịch sản xuất trong ngày ")],-1))),ua={class:"chartjs-wrapper-demo"},_a={ref:"barChart"};function pa(e,t,s,a,o,d){const r=(0,l.up)("el-date-picker");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",na,[ca,(0,l._)("div",null,[(0,l.Wm)(r,{modelValue:o.selectedFilterDate,"onUpdate:modelValue":t[0]||(t[0]=e=>o.selectedFilterDate=e),type:"daterange",onChange:d.handleDateChange,"unlink-panels":"","range-separator":"-","start-placeholder":"Từ ngày","end-placeholder":"Đến ngày",shortcuts:e.shortcuts,size:e.size,style:{width:"60%",right:"0"}},null,8,["modelValue","onChange","shortcuts","size"])])]),(0,l._)("div",ua,[(0,l._)("canvas",_a,null,512)])],64)}var ma=s(6170),ha=s(4161);const ba="http://192.168.48.31:8080",ga=ha.Z.create({baseURL:ba});ga.interceptors.request.use((e=>{const t=ut().get("accessToken");return t&&(e.headers["token"]=`Bearer ${t}`),e}));var va={postData(e,t){return ga.post(e,t)},getData(e){return ga.get(e)},putData(e,t){return ga.put(e,t)},deleteData(e){return ga.delete(e)}},fa=s(4428),ya={data(){return{selectedFilterDate:[new Date((new Date).getFullYear(),(new Date).getMonth(),1),new Date],jobsheetData:[],startDate:null,endDate:null,barCreated:null,chart:null}},mounted(){this.barChar()},methods:{handleDateChange(e){this.selectedFilterDate=e,this.barChar()},barChar(){const e=this.$refs.barChart.getContext("2d");this.chart&&this.chart.destroy(),va.getData("dashboard/bar-chart-report").then((t=>{this.jobsheetData=t.data.infoJobSheet,this.startDate=(0,st.Z)(this.selectedFilterDate[0],"yyyy-MM-dd"),this.endDate=(0,st.Z)(this.selectedFilterDate[1],"yyyy-MM-dd");const s=this.jobsheetData.filter((e=>{const t=(0,st.Z)((0,fa.Z)(e.created,"yyyy-MM-dd'T'HH:mm:ss.SSSX",new Date),"yyyy-MM-dd");return t>=this.startDate&&t<=this.endDate})),a=this.groupDataByDate(s),l=["#428bca","#008000","#f0ad4e"],o={labels:Object.keys(a),datasets:Object.values(a[Object.keys(a)[0]]).map(((e,t)=>({label:`Lịch số ${t+1}`,data:Object.values(a).map((e=>e[t]?.product_quantity)),backgroundColor:l[t%l.length],stack:"Stack 0"})))};this.chart=new ma.ZP(e,{type:"bar",data:o,options:{scales:{x:{stacked:!0},y:{stacked:!0}},plugins:{datalabels:{color:"white"}}}})})).catch((e=>{console.log(e)}))},groupDataByDate(e){return e.reduce(((e,t)=>(e[t.jobsheet_create_date]||(e[t.jobsheet_create_date]=[]),e[t.jobsheet_create_date].push(t),e)),{})}}};const wa=(0,r.Z)(ya,[["render",pa],["__scopeId","data-v-72c4cb3c"]]);var ka=wa;const xa=e=>((0,l.dD)("data-v-a31d3406"),e=e(),(0,l.Cn)(),e),Ca={class:"d-flex justify-content-between"},Da=xa((()=>(0,l._)("div",{class:"p-2"},[(0,l._)("h6",{class:"main-content-label mb-1"},"Thống kê"),(0,l._)("p",{class:"text-muted card-sub-title"}," Tỷ lệ sản phẩm đạt, không đạt, đã hủy ")],-1))),Pa={class:"chartjs-wrapper-demo",style:{display:"flex","align-items":"center","justify-content":"center"}},Ma={ref:"pieChart"};function Sa(e,t,s,a,o,d){const r=(0,l.up)("el-date-picker");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",Ca,[Da,(0,l._)("div",null,[(0,l.Wm)(r,{modelValue:o.selectedFilterMonth,"onUpdate:modelValue":t[0]||(t[0]=e=>o.selectedFilterMonth=e),onChange:d.handleMonthChange,type:"month",placeholder:"Chọn tháng"},null,8,["modelValue","onChange"])])]),(0,l._)("div",Pa,[(0,l._)("canvas",Ma,null,512)])],64)}var Ea={data(){return{selectedFilterMonth:(0,st.Z)(new Date,"yyyy-MM"),labels:[],data:[],month:null,pieCreated:null,pieChartData:{product:null,semiProduct:null}}},mounted(){this.pieChart()},methods:{handleMonthChange(e){this.selectedFilterMonth=e,this.pieChart()},createChart(e,t,s){const a=e.getContext("2d");return new ma.ZP(a,{type:t,data:s,options:{plugins:{datalabels:{color:"white"}}}})},pieChart(){this.pieCreated&&this.pieCreated.destroy(),va.getData("dashboard/pie-chart-report").then((e=>{this.month=(0,st.Z)(new Date(this.selectedFilterMonth),"yyyy-MM"),this.pieChartData.product=e.data.infoProduct,this.pieChartData.semiProduct=e.data.infoSemiProduct;const t=this.pieChartData.product.filter((e=>{const t=(0,st.Z)((0,fa.Z)(e.created,"yyyy-MM-dd'T'HH:mm:ss.SSSX",new Date),"yyyy-MM");return t==this.month})),s=this.pieChartData.semiProduct.filter((e=>{const t=(0,st.Z)((0,fa.Z)(e.created,"yyyy-MM-dd'T'HH:mm:ss.SSSX",new Date),"yyyy-MM");return t==this.month}));this.pieChartData.pass=0,this.pieChartData.fail=0,this.pieChartData.cancel=0;for(let a=0;a<t.length;a++)10==t[a].product_status&&this.pieChartData.cancel++,0==t[a].product_result&&this.pieChartData.fail++,1==t[a].product_result&&this.pieChartData.pass++;for(let a=0;a<s.length;a++)10==s[a].semi_product_status&&this.pieChartData.cancel++,0==s[a].semi_product_result&&this.pieChartData.fail++,1==s[a].semi_product_result&&this.pieChartData.pass++;0!=this.pieChartData.cancel||0!=this.pieChartData.fail||0!=this.pieChartData.pass?this.pieCreated=this.createChart(this.$refs.pieChart,"pie",{labels:["Đã hủy","Đạt","Không đạt"],datasets:[{label:"Số lượng",data:[this.pieChartData.cancel,this.pieChartData.pass,this.pieChartData.fail],backgroundColor:["red","green","grey"],hoverOffset:4}]}):this.pieCreated=this.createChart(this.$refs.pieChart,"pie",{labels:["Không có dữ liệu"],datasets:[{label:"Số lượng",data:[this.pieChartData.cancel,this.pieChartData.pass,this.pieChartData.fail],backgroundColor:["red","green","grey"],hoverOffset:4}]})})).catch((e=>{console.log(e)}))}}};const Ta=(0,r.Z)(Ea,[["render",Sa],["__scopeId","data-v-a31d3406"]]);var za=Ta,Ua={components:{barChartIndex:ka,pieChartIndex:za},data(){return{reportData:{proOderReport:[],jobsheetReport:[],semiProReport:[],productReport:[]}}},mounted(){this.Statistical()},methods:{Statistical(){va.getData("dashboard/header-report").then((e=>{this.reportData.proOderReport=e.data.ProductOrder,this.reportData.jobsheetReport=e.data.JobSheet,this.reportData.semiProReport=e.data.SemiProduct,this.reportData.productReport=e.data.Product})).catch((e=>{console.log(e)}))}}};const ja=(0,r.Z)(Ua,[["render",ra],["__scopeId","data-v-29d4d562"]]);var qa=ja;const Ia={class:"bg-img"},La={class:"content"},Na=(0,l._)("div",{class:"content-header"},[(0,l._)("img",{class:"logo-img",src:"/../\\public/frontend/img/brand/logo.png",alt:""}),(0,l._)("span",{class:"slogan"},"Authentication Anywhere Anytime")],-1),Ra={class:"field"},Va=(0,l._)("span",{class:"fa fa-user"},null,-1),Qa={class:"field space"},Oa=(0,l._)("span",{class:"fa fa-lock"},null,-1),Aa={class:"pass"},Ja={key:3,class:"g-recaptcha",ref:"captchaContainer"},$a=(0,l._)("div",{class:"field"},[(0,l._)("input",{type:"submit",value:"Đăng nhập"})],-1);function Ga(e,t,s,o,d,r){const i=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)("div",Ia,[(0,l._)("div",La,[Na,(0,l._)("form",{onSubmit:t[2]||(t[2]=(0,a.iM)(((...e)=>r.login&&r.login(...e)),["prevent"]))},[(0,l._)("div",Ra,[Va,(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>d.addUsser.username=e),placeholder:"Tên đăng nhập"},null,512),[[a.nr,d.addUsser.username]])]),d.addErrors.username?((0,l.wg)(),(0,l.iD)("div",{key:0,class:(0,p.C_)([{"is-invalid":d.addErrors.username},"errors"])},(0,p.zw)(d.addErrors.username),3)):(0,l.kq)("",!0),(0,l._)("div",Qa,[Oa,(0,l.wy)((0,l._)("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>d.addUsser.password=e),class:"password",placeholder:"Mật khẩu"},null,512),[[a.nr,d.addUsser.password]])]),d.addErrors.password?((0,l.wg)(),(0,l.iD)("div",{key:1,class:(0,p.C_)([{"is-invalid":d.addErrors.password},"errors"])},(0,p.zw)(d.addErrors.password),3)):(0,l.kq)("",!0),d.loginError?((0,l.wg)(),(0,l.iD)("div",{key:2,class:(0,p.C_)([{"is-invalid":d.loginError},"errors"])},(0,p.zw)(d.loginError),3)):(0,l.kq)("",!0),(0,l._)("div",Aa,[(0,l.Wm)(i,{to:"/forgot-password"},{default:(0,l.w5)((()=>[(0,l.Uk)("Quên mật khẩu?")])),_:1})]),d.showRecaptcha?((0,l.wg)(),(0,l.iD)("div",Ja,null,512)):(0,l.kq)("",!0),$a],32)])])}var Wa={data(){return{addUsser:{},userData:{username:"",password:""},loginError:"",addErrors:[],loginAttempts:0,showRecaptcha:!1,userLoginInfor:[],recaptchaResponse:null,captchaRendered:!1}},mounted(){const e=document.createElement("script");e.src="https://www.google.com/recaptcha/api.js",e.async=!0,e.defer=!0,document.head.appendChild(e)},methods:{login(){const e={username:this.addUsser.username,password:this.addUsser.password},t=[{name:"username",label:"Tên đăng nhập",maxLength:50,nullable:!1},{name:"password",label:"Mật khẩu",maxLength:50,nullable:!1}];this.addErrors=nt.validateData(e,t),0===Object.keys(this.addErrors).length&&va.postData("account/loginUser",e).then((e=>{if(this.showRecaptcha&&(this.recaptchaResponse=grecaptcha.getResponse()),!this.showRecaptcha||this.recaptchaResponse)if(this.loginStatus=e.data.status,200===this.loginStatus){const t=e.data.AccessToken;ut().set("accessToken",t),this.$router.push({name:"index"}),this.userLoginInfor=e.data.getInfo[0];const s={userID:this.userLoginInfor._id,avatar:this.userLoginInfor.avatar,birthday:(0,st.Z)(new Date(this.userLoginInfor.birthday),"dd/MM/yyyy"),fullname:this.userLoginInfor.fullname,email:this.userLoginInfor.email,gender:this.userLoginInfor.gender,role:this.userLoginInfor.role_id,department:this.userLoginInfor.getDepartment[0].department_name,region:this.userLoginInfor.getRegion[0].region_name,position:this.userLoginInfor.getPostion[0].position_name};sessionStorage.setItem("userLogin",JSON.stringify(s)),this.showRecaptcha=!1,this.loginAttempts=0,nt.showSuccessAlert("Đăng nhập thành công")}else this.loginAttempts++,this.loginError="Tên đăng nhập hoặc mật khẩu không chính xác",this.loginAttempts>=3&&(this.showRecaptcha=!0,this.$nextTick((()=>{const e=this.$refs.captchaContainer;this.captchaRendered||(grecaptcha.render(e,{sitekey:"6LcEyMIoAAAAAL8JXTpF3h5NRJBQAHyEiJUPL69D"}),this.captchaRendered=!0),grecaptcha.reset()})));else this.loginError="Vui lòng xác nhận captcha"})).catch((e=>{alert("Lỗi kết nối serve")}))}}};const Ba=(0,r.Z)(Wa,[["render",Ga]]);var Ya=Ba;const Ha={class:"bg-img"},Ka={class:"content"},Za=(0,l._)("div",{class:"content-header"},[(0,l._)("img",{class:"logo-img",src:"/../\\public/frontend/img/brand/logo.png",alt:""}),(0,l._)("span",{class:"slogan"},"Vui lòng nhập địa chỉ email để xác nhận tài khoản")],-1),Fa={class:"field"},Xa=(0,l._)("span",{class:"fa fa-envelope"},null,-1),el={key:1,class:"alert alert-success text-center mt-3"},tl=(0,l._)("div",{class:"pass"},null,-1),sl=(0,l._)("div",{class:"field"},[(0,l._)("input",{type:"submit",value:"Xác minh tài khoản"})],-1),al={class:"signup"};function ll(e,t,s,o,d,r){const i=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)("div",Ha,[(0,l._)("div",Ka,[Za,(0,l._)("form",{onSubmit:t[1]||(t[1]=(0,a.iM)(((...e)=>r.confirmInfo&&r.confirmInfo(...e)),["prevent"]))},[(0,l._)("div",Fa,[Xa,(0,l.wy)((0,l._)("input",{type:"text",class:(0,p.C_)({"is-invalid":d.errors.to}),placeholder:"Nhập địa chỉ email","onUpdate:modelValue":t[0]||(t[0]=e=>d.confirmData.email=e)},null,2),[[a.nr,d.confirmData.email]])]),d.showErrorMessage?((0,l.wg)(),(0,l.iD)("div",{key:0,class:(0,p.C_)([{"is-invalid":d.errors.to},"errors"])},(0,p.zw)(d.errors.to),3)):(0,l.kq)("",!0),d.showSuccessMessage?((0,l.wg)(),(0,l.iD)("div",el,(0,p.zw)(d.message.success),1)):(0,l.kq)("",!0),tl,sl,(0,l._)("div",al,[(0,l.Wm)(i,{to:"/"},{default:(0,l.w5)((()=>[(0,l.Uk)("Trở lại")])),_:1})])],32)])])}var ol={data(){return{confirmData:[],errors:[],message:[],showSuccessMessage:!1,showErrorMessage:!1}},methods:{confirmInfo(){const e={to:this.confirmData.email,subject:"Xác minh tài khoản"},t=[{name:"to",label:"Email",maxLength:50,nullable:!1,type:"email"}];this.errors=nt.validateData(e,t),0===Object.keys(this.errors).length&&va.postData("account/sendMailUser",e).then((e=>{console.log(e),200==e.data.status&&(this.showSuccessMessage=!0,this.confirmData.email="",this.message.success="Gửi yêu cầu thành công! Vui lòng xác nhận email để tiếp tục",setTimeout((()=>{this.showSuccessMessage=!1}),2e3)),404==e.data.status&&(this.showErrorMessage=!0,this.errors.to="Địa chỉ email không tồn tại",setTimeout((()=>{this.showErrorMessage=!1}),2e3))})).catch((e=>{console.log(e)}))}}};const dl=(0,r.Z)(ol,[["render",ll]]);var rl=dl;const il={class:"bg-img"},nl={class:"content"},cl=(0,l._)("div",{class:"content-header"},[(0,l._)("img",{class:"logo-img",src:"/../\\public/frontend/img/brand/logo.png",alt:""}),(0,l._)("span",{class:"slogan"},"Reset your password")],-1),ul={class:"field"},_l=(0,l._)("span",{class:"fa fa-lock"},null,-1),pl={class:"field space"},ml=(0,l._)("span",{class:"fa fa-lock"},null,-1),hl=(0,l._)("div",{class:"pass"},null,-1),bl=(0,l._)("div",{class:"field"},[(0,l._)("input",{type:"submit",value:"Xác nhận"})],-1);function gl(e,t,s,o,d,r){return(0,l.wg)(),(0,l.iD)("div",il,[(0,l._)("div",nl,[cl,(0,l._)("form",{onSubmit:t[2]||(t[2]=(0,a.iM)(((...e)=>r.resetPass&&r.resetPass(...e)),["prevent"]))},[(0,l._)("div",ul,[_l,(0,l.wy)((0,l._)("input",{type:"password",class:"password","onUpdate:modelValue":t[0]||(t[0]=e=>d.userData.password=e),placeholder:"Mật khẩu mới"},null,512),[[a.nr,d.userData.password]])]),d.addErrors.password?((0,l.wg)(),(0,l.iD)("div",{key:0,class:(0,p.C_)([{"is-invalid":d.addErrors.password},"errors"])},(0,p.zw)(d.addErrors.password),3)):(0,l.kq)("",!0),(0,l._)("div",pl,[ml,(0,l.wy)((0,l._)("input",{type:"password",class:"password","onUpdate:modelValue":t[1]||(t[1]=e=>d.userData.repeat_password=e),placeholder:"Nhập lại mật khẩu"},null,512),[[a.nr,d.userData.repeat_password]])]),d.addErrors.repeat_password?((0,l.wg)(),(0,l.iD)("div",{key:1,class:(0,p.C_)([{"is-invalid":d.addErrors.repeat_password},"errors"])},(0,p.zw)(d.addErrors.repeat_password),3)):(0,l.kq)("",!0),hl,bl],32)])])}var vl={data(){return{userData:[],addErrors:[]}},methods:{resetPass(){const e={new_password:this.userData.password,repeat_password:this.userData.repeat_password},t=[{name:"new_password",label:"Mật khẩu",maxLength:50,nullable:!1,type:"password"},{name:"repeat_password",label:"Mật khẩu nhập lại",maxLength:50,nullable:!1}];if(this.addErrors=nt.validateData(e,t),0===Object.keys(this.addErrors).length){if(this.userData.password!=this.userData.repeat_password)return void(this.addErrors.repeat_password="Mật khẩu nhập lại không trùng khớp");const t=this.$route.params.id;va.postData(`account/resetPasswordUser/${t}`,e).then((e=>{console.log(e),401==e.data.status&&nt.showInfoAlert("Token không hợp lệ"),200==e.data.status&&(nt.showSuccessAlert("Mật khẩu đã được cập nhật"),this.$router.push({name:"signin"}))})).catch((e=>{console.log(e)}))}}}};const fl=(0,r.Z)(vl,[["render",gl]]);var yl=fl;const wl={class:"main-content side-content pt-0"},kl={class:"main-container container-fluid pt-5"},xl={class:"inner-body"},Cl={class:"page-header"},Dl=(0,l.uE)('<div><h2 class="main-content-title tx-24 mg-b-5">Yêu cầu sản xuất</h2><ol class="breadcrumb"><li class="breadcrumb-item"><a href="index.html">Trang chủ</a></li><li class="breadcrumb-item active" aria-current="page"> Yêu cầu sản xuất </li></ol></div>',1),Pl={class:"d-flex"},Ml={class:"justify-content-center"},Sl=(0,l._)("i",{class:"fe fe-plus"},null,-1),El={class:"row row-sm"},Tl={class:"col-lg-12"},zl={class:"card custom-card"},Ul={class:"card-body"},jl=(0,l._)("div",null,[(0,l._)("h6",{class:"main-content-label mb-1"},"Danh sách YCSX"),(0,l._)("p",{class:"text-muted card-sub-title"})],-1),ql={class:"table-responsive"},Il=["data"],Ll=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{style:{width:"4%"}},"STT"),(0,l._)("th",{style:{width:"4%"}},"Phiếu YCSX"),(0,l._)("th",{style:{width:"4%"}},"Số BG/Đơn hàng"),(0,l._)("th",{style:{width:"4%"}},"Ngày tạo"),(0,l._)("th",{style:{width:"4%"}},"Người tạo phiếu"),(0,l._)("th",null,"Người nhận"),(0,l._)("th",{style:{width:"4%"}},"Trạng thái"),(0,l._)("th",null,"Ghi chú"),(0,l._)("th",null,"Thao tác")])],-1),Nl=["value"],Rl=(0,l._)("button",{class:"btn btn-sm ripple btn-outline-primary","data-bs-toggle":"dropdown"},[(0,l._)("i",{class:"fe fe-more-horizontal"})],-1),Vl={class:"dropdown-menu"},Ql=["onClick"],Ol=["onClick"],Al=["onClick"],Jl={key:4,class:"dropdown-item"};function $l(e,t,s,a,o,d){const r=(0,l.up)("router-link"),i=(0,l.up)("router-view");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",wl,[(0,l._)("div",kl,[(0,l._)("div",xl,[(0,l._)("div",Cl,[Dl,(0,l._)("div",Pl,[(0,l._)("div",Ml,[(0,l.Wm)(r,{to:"/production_required/add",class:"btn btn-primary btn-rounded my-2 btn-icon-text"},{default:(0,l.w5)((()=>[Sl,(0,l.Uk)(" Thêm mới")])),_:1})])])]),(0,l._)("div",El,[(0,l._)("div",Tl,[(0,l._)("div",zl,[(0,l._)("div",Ul,[jl,(0,l._)("div",ql,[(0,l._)("table",{data:o.productionOders,class:"table table-bordered",id:"ProOderTable"},[Ll,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.productionOders,((e,t)=>((0,l.wg)(),(0,l.iD)("tr",{key:e._id},[(0,l._)("td",null,(0,p.zw)(t+1),1),(0,l._)("td",null,(0,p.zw)(e.product_order_No),1),(0,l._)("td",null,(0,p.zw)(e.production_order_invoice),1),(0,l._)("td",null,(0,p.zw)(d.formatDate(e.production_order_create)),1),(0,l._)("td",null,(0,p.zw)(e.detail_user[0].fullname),1),(0,l._)("td",null,(0,p.zw)(e.production_order_receiver),1),(0,l._)("td",null,[(0,l._)("span",{class:(0,p.C_)(["badge bg-pill",d.getStatus(e.production_order_status)])},(0,p.zw)(d.ProOderStatus(e.production_order_status)),3)]),(0,l._)("td",null,[e.production_order_note?((0,l.wg)(),(0,l.iD)("textarea",{key:0,class:"form-control text-body",readonly:"",value:e.production_order_note,style:(0,p.j5)({height:60*e.production_order_note.split("\n").length+"px"})},null,12,Nl)):(0,l.kq)("",!0)]),(0,l._)("td",null,[Rl,(0,l._)("div",Vl,["0"==e.production_order_status&&o.storedUserLogin.userID==e.user_create_by?((0,l.wg)(),(0,l.j4)(r,{key:0,class:"dropdown-item",to:"/production_required/edit/"+e.product_order_No},{default:(0,l.w5)((()=>[(0,l.Uk)("Sửa")])),_:2},1032,["to"])):(0,l.kq)("",!0),"0"==e.production_order_status&&1==o.storedUserLogin.role?((0,l.wg)(),(0,l.iD)("button",{key:1,class:"dropdown-item",onClick:t=>d.approveProOrder(e._id)},"Duyệt phiếu",8,Ql)):(0,l.kq)("",!0),"1"==e.production_order_status&&1==o.storedUserLogin.role?((0,l.wg)(),(0,l.iD)("button",{key:2,class:"dropdown-item",onClick:t=>d.reapproveProOrder(e._id)},"Hoàn duyệt",8,Ol)):(0,l.kq)("",!0),"0"==e.production_order_status&&o.storedUserLogin.userID==e.user_create_by?((0,l.wg)(),(0,l.iD)("button",{key:3,class:"dropdown-item",onClick:t=>d.cancelProOrder(e._id)},"Hủy phiếu",8,Al)):(0,l.kq)("",!0),"2"==e.production_order_status?((0,l.wg)(),(0,l.iD)("button",Jl,"Phiếu đã hủy")):(0,l.kq)("",!0),(0,l.Wm)(r,{class:"dropdown-item",to:"/production_required/detail/"+e.product_order_No},{default:(0,l.w5)((()=>[(0,l.Uk)("Chi tiết")])),_:2},1032,["to"])])])])))),128))])],8,Il)])])])])])])])]),(0,l.Wm)(i)],64)}var Gl={name:"ListProductionRequired",data(){return{productionOders:[],storedUserLogin:[]}},mounted(){this.getproductionOders(),this.storedUserLogin=JSON.parse(sessionStorage.getItem("userLogin")),console.log(this.storedUserLogin)},methods:{formatDate(e){if(!e)return"";const t=new Date(e);return isNaN(t.getTime())?e:(0,st.Z)(t,"MM/dd/yyyy")},loadtable(){this.$nextTick((()=>{nt.initializeDataTable("#ProOderTable")}))},getproductionOders(){va.getData("product-order/listProductOrder").then((e=>{this.productionOders=e.data.data,this.loadtable(),console.log(e)})).catch((e=>{console.log(e)}))},ProOderStatus(e){switch(parseInt(e)){case 0:return"Mới tạo";case 1:return"Đã nhận";case 2:return"Đã hủy";default:return" Không rõ"}},getStatus(e){return"0"==e?"bg-primary-light":"1"==e?"bg-success-light":"bg-danger-light"},cancelProOrder(e){nt.confirmDelete((()=>{va.putData(`product-order/cancelProductOrder/${e}`).then((e=>{nt.showSuccessAlert("Đã hủy"),this.getproductionOders()})).catch((e=>{console.log(e)}))}),"Bạn muốn hủy phiếu này")},approveProOrder(e){nt.confirmDelete((()=>{const t={production_order_receiver:"Thái Công Nhạ"};va.putData(`product-order/approveProductOrder/${e}`,t).then((e=>{nt.showSuccessAlert("Đã duyệt"),this.getproductionOders()})).catch((e=>{console.log(e)}))}),"Bạn muốn duyệt phiếu này?")},reapproveProOrder(e){nt.confirmDelete((()=>{va.putData(`product-order/reapproveProductOrder/${e}`).then((e=>{nt.showSuccessAlert("Đã hoàn duyệt"),this.getproductionOders()})).catch((e=>{console.log(e)}))}),"Bạn muốn hoàn duyệt phiếu này?")}}};const Wl=(0,r.Z)(Gl,[["render",$l]]);var Bl=Wl;const Yl={class:"main-content side-content pt-0"},Hl={class:"main-container container-fluid pt-5"},Kl={class:"inner-body"},Zl={class:"page-header"},Fl=(0,l.uE)('<div><h2 class="main-content-title tx-24 mg-b-5">Yêu cầu sản xuất</h2><ol class="breadcrumb"><li class="breadcrumb-item"><a href="index.html">Trang chủ</a></li><li class="breadcrumb-item active" aria-current="page">Yêu cầu sản xuất</li></ol></div>',1),Xl={class:"d-flex"},eo={class:"justify-content-center"},to=(0,l._)("i",{class:"fe fe-corner-down-left"},null,-1),so={class:"row row-sm"},ao={class:"col-lg-12 col-md-12"},lo={class:"card custom-card"},oo={class:"card-body"},ro={class:"main-content-label mb-1"},io={class:"badge bg-success"},no=(0,l._)("p",{class:"text-muted card-sub-title"},null,-1),co={class:"table table-bordered"},uo={class:"form-group"},_o=(0,l._)("label",{class:"fw-bold"},"Người tạo",-1),po={class:"form-group"},mo=(0,l._)("label",{class:"fw-bold"},"Ngày tạo",-1),ho={class:"form-group"},bo=(0,l._)("label",{class:"fw-bold"},"Số báo giá/Đơn hàng",-1),go={key:0,class:"invalid-feedback"},vo={class:"form-group"},fo=(0,l._)("label",{class:"fw-bold"},"Ghi chú",-1),yo={key:0,class:"invalid-feedback"},wo={class:"card-body"},ko=(0,l.uE)('<div><h6 class="main-content-label mb-1">Yêu cầu chi tiết <button data-bs-target="#productModal" data-bs-toggle="modal" class="btn btn-primary btn-sm"><i class="fe fe-plus"></i></button><button data-bs-target="#importModal" data-bs-toggle="modal" class="btn btn-light btn-rounded btn-sm ms-1"><i class="fe fe-download me-2"></i> Nhập </button></h6><p class="text-muted card-sub-title">Thêm danh sách sản phẩm yêu cầu</p></div>',1),xo={class:"table-responsive"},Co={class:"table table-bordered",id:"productTable"},Do=(0,l._)("thead",{class:""},[(0,l._)("tr",null,[(0,l._)("th",{style:{width:"2%"}},"STT"),(0,l._)("th",{style:{width:"14%"}},"Tên SP"),(0,l._)("th",{style:{width:"7%"}},"Số lượng"),(0,l._)("th",{style:{width:"7%"}},"Đơn vị"),(0,l._)("th",{style:{width:"11%"}},"Dự kiến hoàn thành"),(0,l._)("th",{style:{width:"11%"}},"Quy cách đóng gói"),(0,l._)("th",null,"Yêu cầu chi tiết"),(0,l._)("th",{style:{width:"7%"}},"Thao tác")])],-1),Po=["value"],Mo={class:"d-flex"},So=["onClick"],Eo=(0,l._)("i",{class:"fe fe-edit-2"},null,-1),To=[Eo],zo=["onClick"],Uo=(0,l._)("i",{class:"fe fe-trash"},null,-1),jo=[Uo],qo={key:0,class:"invalid-feedback",style:{display:"block","font-size":"13px"}},Io={class:"form-group row justify-content-end mb-0 mt-3"},Lo={class:"col-md-12 ps-md-2"},No={class:"modal",id:"productModal",ref:"productModal"},Ro={class:"modal-dialog modal-lg"},Vo={class:"modal-content modal-content-demo"},Qo=(0,l._)("div",{class:"modal-header"},[(0,l._)("h6",{class:"modal-title"},"Yêu cầu chi tiết"),(0,l._)("button",{"aria-label":"Close",class:"btn-close","data-bs-dismiss":"modal",type:"button"})],-1),Oo={class:"modal-body"},Ao={class:"table"},Jo={class:"align-top",colspan:"2"},$o={class:"form-group"},Go=(0,l._)("label",{class:"fw-bold"},"Tên sản phẩm",-1),Wo={key:0,class:"invalid-feedback"},Bo={class:"align-top"},Yo={class:"form-group"},Ho=(0,l._)("label",{class:"fw-bold"}," Số lượng",-1),Ko={key:0,class:"invalid-feedback"},Zo={class:"align-top"},Fo={class:"form-group"},Xo=(0,l._)("label",{class:"fw-bold"},"Đơn vị tính",-1),ed=(0,l._)("option",{value:"SET"},"SET",-1),td=(0,l._)("option",{value:"PCE"},"PCE",-1),sd=[ed,td],ad={key:0,class:"invalid-feedback"},ld={class:"align-top"},od={class:"form-group"},dd=(0,l._)("label",{class:"fw-bold"}," Ngày dự kiến hoàn thành",-1),rd={key:0,class:"invalid-feedback"},id={class:"form-group"},nd=(0,l._)("label",{class:"fw-bold"},"Quy cách đóng gói",-1),cd={key:0,class:"invalid-feedback"},ud={colspan:"2"},_d={class:"form-group"},pd=(0,l._)("label",{class:"fw-bold"}," Yêu cầu chi tiết",-1),md={key:0,class:"invalid-feedback"},hd={key:0,class:"alert alert-success text-center"},bd={class:"modal-footer d-flex justify-content-between"},gd={class:"form-check"},vd=(0,l._)("label",{class:"form-check-label fw-bold"},"Không đóng màn hình",-1),fd=(0,l._)("button",{class:"btn ripple btn-primary",type:"submit"},"Thêm",-1),yd={class:"modal",id:"updateProductModal",ref:"updateProductModal"},wd={class:"modal-dialog modal-lg"},kd={class:"modal-content modal-content-demo"},xd=(0,l._)("div",{class:"modal-header"},[(0,l._)("h6",{class:"modal-title"},"Yêu cầu chi tiết"),(0,l._)("button",{"aria-label":"Close",class:"btn-close","data-bs-dismiss":"modal",type:"button"})],-1),Cd={class:"modal-body"},Dd={class:"table"},Pd={class:"align-top",colspan:"2"},Md={class:"form-group"},Sd=(0,l._)("label",{class:"fw-bold"},"Tên sản phẩm",-1),Ed={key:0,class:"invalid-feedback"},Td={class:"align-top"},zd={class:"form-group"},Ud=(0,l._)("label",{class:"fw-bold"}," Số lượng",-1),jd={key:0,class:"invalid-feedback"},qd={class:"align-top"},Id={class:"form-group"},Ld=(0,l._)("label",{class:"fw-bold"},"Đơn vị tính",-1),Nd=(0,l._)("option",{value:"SET"},"SET",-1),Rd=(0,l._)("option",{value:"PCE"},"PCE",-1),Vd=[Nd,Rd],Qd={key:0,class:"invalid-feedback"},Od={class:"align-top"},Ad={class:"form-group"},Jd=(0,l._)("label",{class:"fw-bold"}," Ngày dự kiến hoàn thành",-1),$d={key:0,class:"invalid-feedback"},Gd={class:"form-group"},Wd=(0,l._)("label",{class:"fw-bold"},"Quy cách đóng gói",-1),Bd={key:0,class:"invalid-feedback"},Yd={colspan:"2"},Hd={class:"form-group"},Kd=(0,l._)("label",{class:"fw-bold"}," Yêu cầu chi tiết",-1),Zd={key:0,class:"invalid-feedback"},Fd={key:0,class:"alert alert-success text-center"},Xd={class:"modal-footer"},er={class:"modal",id:"importModal",ref:"importModal"},tr={class:"modal-dialog modal-lg"},sr={class:"modal-content modal-content-demo"},ar=(0,l._)("div",{class:"modal-header"},[(0,l._)("h6",{class:"modal-title"},"Nhập file Excel"),(0,l._)("button",{"aria-label":"Close",class:"btn-close","data-bs-dismiss":"modal",type:"button"})],-1),lr={class:"modal-body"},or={class:"modal-footer"};function dr(e,t,s,o,d,r){const i=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",Yl,[(0,l._)("div",Hl,[(0,l._)("div",Kl,[(0,l._)("div",Zl,[Fl,(0,l._)("div",Xl,[(0,l._)("div",eo,[(0,l.Wm)(i,{to:"/production_required",class:"btn ripple btn-white btn-rounded my-2 btn-icon-text"},{default:(0,l.w5)((()=>[to,(0,l.Uk)(" Trở lại ")])),_:1})])])]),(0,l._)("div",so,[(0,l._)("div",ao,[(0,l._)("div",lo,[(0,l._)("div",oo,[(0,l._)("div",null,[(0,l._)("h6",ro,[(0,l.Uk)("Phiếu yêu cầu sản xuất Số: "),(0,l._)("span",io,(0,p.zw)(d.proOderID),1)]),no]),(0,l._)("table",co,[(0,l._)("tbody",null,[(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",uo,[_o,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control text-body","onUpdate:modelValue":t[0]||(t[0]=e=>d.storeProOder.user_create_by=e),readonly:""},null,512),[[a.nr,d.storeProOder.user_create_by]])])]),(0,l._)("td",null,[(0,l._)("div",po,[mo,(0,l.wy)((0,l._)("input",{class:"form-control text-body",type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>d.storeProOder.production_order_create=e),readonly:""},null,512),[[a.nr,d.storeProOder.production_order_create]])])])]),(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",ho,[bo,(0,l.wy)((0,l._)("textarea",{class:(0,p.C_)(["form-control text-black",{"is-invalid":d.Errors.production_order_invoice}]),rows:"4",placeholder:"Nhập số báo giá/đơn hàng","onUpdate:modelValue":t[2]||(t[2]=e=>d.storeProOder.production_order_invoice=e)},null,2),[[a.nr,d.storeProOder.production_order_invoice]]),d.Errors.production_order_invoice?((0,l.wg)(),(0,l.iD)("div",go,(0,p.zw)(d.Errors.production_order_invoice),1)):(0,l.kq)("",!0)])]),(0,l._)("td",null,[(0,l._)("div",vo,[fo,(0,l.wy)((0,l._)("textarea",{class:(0,p.C_)(["form-control text-black",{"is-invalid":d.Errors.production_order_note}]),rows:"4",placeholder:"Nhập ghi chú","onUpdate:modelValue":t[3]||(t[3]=e=>d.storeProOder.production_order_note=e)},null,2),[[a.nr,d.storeProOder.production_order_note]]),d.Errors.production_order_note?((0,l.wg)(),(0,l.iD)("div",yo,(0,p.zw)(d.Errors.production_order_note),1)):(0,l.kq)("",!0)])])])])])]),(0,l._)("div",wo,[ko,(0,l._)("div",xo,[(0,l._)("table",Co,[Do,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.products,((e,t)=>((0,l.wg)(),(0,l.iD)("tr",{key:t},[(0,l._)("td",null,(0,p.zw)(t+1),1),(0,l._)("td",null,(0,p.zw)(e.detail_product_order_name),1),(0,l._)("td",null,(0,p.zw)(e.detail_product_order_quantity),1),(0,l._)("td",null,(0,p.zw)(e.detail_product_order_unit),1),(0,l._)("td",null,(0,p.zw)(e.detail_product_order_finish),1),(0,l._)("td",null,(0,p.zw)(e.detail_product_order_packing),1),(0,l._)("td",null,[e.detail_product_order_detail?((0,l.wg)(),(0,l.iD)("textarea",{key:0,class:"form-control text-body",readonly:"",value:e.detail_product_order_detail,style:(0,p.j5)({height:50*e.detail_product_order_detail.split("\n").length+"px"})},null,12,Po)):(0,l.kq)("",!0)]),(0,l._)("td",Mo,[(0,l._)("a",{onClick:t=>r.editProduct(e),"data-bs-target":"#updateProductModal","data-bs-toggle":"modal",class:"btn btn-sm btn-outline-info ms-1"},To,8,So),(0,l._)("a",{onClick:t=>r.removeTableRow(e._id),class:"btn btn-sm btn-outline-danger ms-1"},jo,8,zo)])])))),128))])])]),d.Errors.data?((0,l.wg)(),(0,l.iD)("div",qo,(0,p.zw)(d.Errors.data),1)):(0,l.kq)("",!0),(0,l._)("div",Io,[(0,l._)("div",Lo,[(0,l._)("button",{onClick:t[4]||(t[4]=(...e)=>r.addProOder&&r.addProOder(...e)),class:"btn ripple btn-primary btn-rounded pd-x-30 mg-r-5"},"Lưu")])])])])])])])])]),(0,l._)("div",No,[(0,l._)("div",Ro,[(0,l._)("div",Vo,[Qo,(0,l._)("form",{onSubmit:t[13]||(t[13]=(0,a.iM)(((...e)=>r.addTableRow&&r.addTableRow(...e)),["prevent"]))},[(0,l._)("div",Oo,[(0,l._)("table",Ao,[(0,l._)("tbody",null,[(0,l._)("tr",null,[(0,l._)("td",Jo,[(0,l._)("div",$o,[Go,(0,l.wy)((0,l._)("input",{class:(0,p.C_)(["form-control text-black",{"is-invalid":d.addErrors.detail_product_order_name}]),"onUpdate:modelValue":t[5]||(t[5]=e=>d.newProduct.detail_product_order_name=e),placeholder:"Nhập tên sản phẩm"},null,2),[[a.nr,d.newProduct.detail_product_order_name]]),d.addErrors.detail_product_order_name?((0,l.wg)(),(0,l.iD)("div",Wo,(0,p.zw)(d.addErrors.detail_product_order_name),1)):(0,l.kq)("",!0)])])]),(0,l._)("tr",null,[(0,l._)("td",Bo,[(0,l._)("div",Yo,[Ho,(0,l.wy)((0,l._)("input",{type:"number",class:(0,p.C_)(["form-control text-black",{"is-invalid":d.addErrors.detail_product_order_quantity}]),placeholder:"Nhập số lượng","onUpdate:modelValue":t[6]||(t[6]=e=>d.newProduct.detail_product_order_quantity=e)},null,2),[[a.nr,d.newProduct.detail_product_order_quantity]]),d.addErrors.detail_product_order_quantity?((0,l.wg)(),(0,l.iD)("div",Ko,(0,p.zw)(d.addErrors.detail_product_order_quantity),1)):(0,l.kq)("",!0)])]),(0,l._)("td",Zo,[(0,l._)("div",Fo,[Xo,(0,l.wy)((0,l._)("select",{class:(0,p.C_)(["form-control text-black",{"is-invalid":d.addErrors.detail_product_order_unit}]),name:"product_unit","onUpdate:modelValue":t[7]||(t[7]=e=>d.newProduct.detail_product_order_unit=e)},sd,2),[[a.bM,d.newProduct.detail_product_order_unit]]),d.addErrors.detail_product_order_unit?((0,l.wg)(),(0,l.iD)("div",ad,(0,p.zw)(d.addErrors.detail_product_order_unit),1)):(0,l.kq)("",!0)])])]),(0,l._)("tr",null,[(0,l._)("td",ld,[(0,l._)("div",od,[dd,(0,l.wy)((0,l._)("input",{class:(0,p.C_)(["form-control text-black",{"is-invalid":d.addErrors.detail_product_order_finish}]),type:"date","onUpdate:modelValue":t[8]||(t[8]=e=>d.newProduct.detail_product_order_finish=e)},null,2),[[a.nr,d.newProduct.detail_product_order_finish]]),d.addErrors.detail_product_order_finish?((0,l.wg)(),(0,l.iD)("div",rd,(0,p.zw)(d.addErrors.detail_product_order_finish),1)):(0,l.kq)("",!0)])]),(0,l._)("td",null,[(0,l._)("div",id,[nd,(0,l.wy)((0,l._)("textarea",{class:(0,p.C_)(["form-control text-black",{"is-invalid":d.addErrors.detail_product_order_packing}]),rows:"5",placeholder:"Quy cách đóng gói","onUpdate:modelValue":t[9]||(t[9]=e=>d.newProduct.detail_product_order_packing=e)},null,2),[[a.nr,d.newProduct.detail_product_order_packing]]),d.addErrors.detail_product_order_packing?((0,l.wg)(),(0,l.iD)("div",cd,(0,p.zw)(d.addErrors.detail_product_order_packing),1)):(0,l.kq)("",!0)])])]),(0,l._)("tr",null,[(0,l._)("td",ud,[(0,l._)("div",_d,[pd,(0,l.wy)((0,l._)("textarea",{class:(0,p.C_)(["form-control text-black",{"is-invalid":d.addErrors.detail_product_order_detail}]),rows:"5",placeholder:"Yêu cầu chi tiết","onUpdate:modelValue":t[10]||(t[10]=e=>d.newProduct.detail_product_order_detail=e)},null,2),[[a.nr,d.newProduct.detail_product_order_detail]]),d.addErrors.detail_product_order_detail?((0,l.wg)(),(0,l.iD)("div",md,(0,p.zw)(d.addErrors.detail_product_order_detail),1)):(0,l.kq)("",!0)])])])])])]),d.showSuccessMessage?((0,l.wg)(),(0,l.iD)("div",hd,(0,p.zw)(d.successMessage),1)):(0,l.kq)("",!0),(0,l._)("div",bd,[(0,l._)("div",gd,[(0,l.wy)((0,l._)("input",{class:"form-check-input",type:"checkbox",id:"check1",name:"option1",value:"something","onUpdate:modelValue":t[11]||(t[11]=e=>d.dontCloseModal=e)},null,512),[[a.e8,d.dontCloseModal]]),vd]),(0,l._)("div",null,[fd,(0,l._)("button",{class:"btn ripple btn-danger ms-2",onClick:t[12]||(t[12]=e=>r.closeModal("productModal","newProduct","addErrors"))}," Đóng ")])])],32)])])],512),(0,l._)("div",yd,[(0,l._)("div",wd,[(0,l._)("div",kd,[xd,(0,l._)("div",Cd,[(0,l._)("table",Dd,[(0,l._)("tbody",null,[(0,l._)("tr",null,[(0,l._)("td",Pd,[(0,l._)("div",Md,[Sd,(0,l.wy)((0,l._)("input",{class:(0,p.C_)(["form-control text-black",{"is-invalid":d.updateErrors.detail_product_order_name}]),"onUpdate:modelValue":t[14]||(t[14]=e=>d.selectedProduct.detail_product_order_name=e),placeholder:"Nhập tên sản phẩm"},null,2),[[a.nr,d.selectedProduct.detail_product_order_name]]),d.updateErrors.detail_product_order_name?((0,l.wg)(),(0,l.iD)("div",Ed,(0,p.zw)(d.updateErrors.detail_product_order_name),1)):(0,l.kq)("",!0)])])]),(0,l._)("tr",null,[(0,l._)("td",Td,[(0,l._)("div",zd,[Ud,(0,l.wy)((0,l._)("input",{type:"number",class:(0,p.C_)(["form-control text-black",{"is-invalid":d.updateErrors.detail_product_order_quantity}]),placeholder:"Nhập số lượng","onUpdate:modelValue":t[15]||(t[15]=e=>d.selectedProduct.detail_product_order_quantity=e)},null,2),[[a.nr,d.selectedProduct.detail_product_order_quantity]]),d.updateErrors.detail_product_order_quantity?((0,l.wg)(),(0,l.iD)("div",jd,(0,p.zw)(d.updateErrors.detail_product_order_quantity),1)):(0,l.kq)("",!0)])]),(0,l._)("td",qd,[(0,l._)("div",Id,[Ld,(0,l.wy)((0,l._)("select",{class:(0,p.C_)(["form-control text-black",{"is-invalid":d.updateErrors.detail_product_order_unit}]),name:"product_unit","onUpdate:modelValue":t[16]||(t[16]=e=>d.selectedProduct.detail_product_order_unit=e)},Vd,2),[[a.bM,d.selectedProduct.detail_product_order_unit]]),d.updateErrors.detail_product_order_unit?((0,l.wg)(),(0,l.iD)("div",Qd,(0,p.zw)(d.updateErrors.detail_product_order_unit),1)):(0,l.kq)("",!0)])])]),(0,l._)("tr",null,[(0,l._)("td",Od,[(0,l._)("div",Ad,[Jd,(0,l.wy)((0,l._)("input",{class:(0,p.C_)(["form-control text-black",{"is-invalid":d.updateErrors.detail_product_order_finish}]),type:"date","onUpdate:modelValue":t[17]||(t[17]=e=>d.selectedProduct.detail_product_order_finish=e)},null,2),[[a.nr,d.selectedProduct.detail_product_order_finish]]),d.updateErrors.detail_product_order_finish?((0,l.wg)(),(0,l.iD)("div",$d,(0,p.zw)(d.updateErrors.detail_product_order_finish),1)):(0,l.kq)("",!0)])]),(0,l._)("td",null,[(0,l._)("div",Gd,[Wd,(0,l.wy)((0,l._)("textarea",{class:(0,p.C_)(["form-control text-black",{"is-invalid":d.updateErrors.detail_product_order_packing}]),rows:"5",placeholder:"Quy cách đóng gói","onUpdate:modelValue":t[18]||(t[18]=e=>d.selectedProduct.detail_product_order_packing=e)},null,2),[[a.nr,d.selectedProduct.detail_product_order_packing]]),d.updateErrors.detail_product_order_packing?((0,l.wg)(),(0,l.iD)("div",Bd,(0,p.zw)(d.updateErrors.detail_product_order_packing),1)):(0,l.kq)("",!0)])])]),(0,l._)("tr",null,[(0,l._)("td",Yd,[(0,l._)("div",Hd,[Kd,(0,l.wy)((0,l._)("textarea",{class:(0,p.C_)(["form-control text-black",{"is-invalid":d.updateErrors.detail_product_order_detail}]),rows:"5",placeholder:"Yêu cầu chi tiết","onUpdate:modelValue":t[19]||(t[19]=e=>d.selectedProduct.detail_product_order_detail=e)},null,2),[[a.nr,d.selectedProduct.detail_product_order_detail]]),d.updateErrors.detail_product_order_detail?((0,l.wg)(),(0,l.iD)("div",Zd,(0,p.zw)(d.updateErrors.detail_product_order_detail),1)):(0,l.kq)("",!0)])])])])])]),d.showSuccessMessage?((0,l.wg)(),(0,l.iD)("div",Fd,(0,p.zw)(d.successMessage),1)):(0,l.kq)("",!0),(0,l._)("div",Xd,[(0,l._)("div",null,[(0,l._)("button",{class:"btn ripple btn-primary",onClick:t[20]||(t[20]=(...e)=>r.updateProduct&&r.updateProduct(...e))},"Lưu"),(0,l._)("button",{class:"btn ripple btn-danger ms-2",onClick:t[21]||(t[21]=e=>r.closeModal("updateProductModal","selectedProduct","updateErrors"))}," Đóng ")])])])])],512),(0,l._)("div",er,[(0,l._)("div",tr,[(0,l._)("div",sr,[ar,(0,l._)("div",lr,[(0,l._)("input",{type:"file",name:"excel",class:"dropify",id:"imageUpload",ref:"fileInput","data-height":"200",onChange:t[22]||(t[22]=(...e)=>r.handleFileChange&&r.handleFileChange(...e)),accept:".xlsx"},null,544)]),(0,l._)("div",or,[(0,l._)("div",null,[(0,l._)("button",{class:"btn ripple btn-primary",type:"submit",onClick:t[23]||(t[23]=(...e)=>r.uploadFile&&r.uploadFile(...e))},"Lưu"),(0,l._)("button",{class:"btn ripple btn-danger ms-2",onClick:t[24]||(t[24]=e=>r.closeModal("importModal","newProduct","addErrors"))}," Đóng ")])])])])],512)],64)}var rr={data(){return{proOderID:null,storeProOder:[],newProduct:[],products:[],addErrors:[],Errors:[],productErrors:[],dontCloseModal:!1,showSuccessMessage:!1,successMessage:"",selectedFile:null,selectedProduct:[],updateErrors:[],storedUserLogin:[]}},mounted(){const e=new Date;this.storedUserLogin=JSON.parse(sessionStorage.getItem("userLogin")),this.storeProOder.production_order_create=(0,st.Z)(e,"MM/dd/yyyy"),this.storeProOder.user_create_by=this.storedUserLogin.fullname,this.getProOderID(),console.log(this.storedUserLogin);const t=document.createElement("script");t.src="/frontend/plugins/fileuploads/js/fileupload.js",t.async=!0,document.head.appendChild(t);const s=document.createElement("script");s.src="/frontend/plugins/fileuploads/js/file-upload.js",s.async=!0,document.head.appendChild(s)},methods:{getProOderID(){va.getData("product-order/infoProductOrder").then((e=>{this.proOderID=e.data.data.invoice_number,this.products=e.data.getDetailProductOrder})).catch((e=>{console.log(e)}))},addTableRow(){const e={product_order_code:this.proOderID,detail_product_order_name:this.newProduct.detail_product_order_name,detail_product_order_quantity:this.newProduct.detail_product_order_quantity,detail_product_order_unit:this.newProduct.detail_product_order_unit,detail_product_order_finish:this.newProduct.detail_product_order_finish,detail_product_order_packing:this.newProduct.detail_product_order_packing,detail_product_order_detail:this.newProduct.detail_product_order_detail},t=[{name:"detail_product_order_name",label:"Tên sản phẩm",maxLength:100,nullable:!1},{name:"detail_product_order_quantity",label:"Số lượng",maxLength:100,nullable:!1},{name:"detail_product_order_unit",label:"Đơn vị",maxLength:100,nullable:!1},{name:"detail_product_order_finish",label:"Ngày hoàn thành",maxLength:100,nullable:!1},{name:"detail_product_order_packing",label:"Quy cách đóng gói",maxLength:100,nullable:!1},{name:"detail_product_order_detail",label:"Yêu cầu chi tiết",maxLength:900,nullable:!0}];this.addErrors=nt.validateData(e,t),0===Object.keys(this.addErrors).length&&va.postData("detail-product-order/storeDetailProductOrder",e).then((e=>{200===e.data.status&&(this.dontCloseModal?(this.getProOderID(),this.newProduct={},this.showSuccessMessage=!0,this.successMessage="Thêm thành công",setTimeout((()=>{this.showSuccessMessage=!1}),1e3)):(this.getProOderID(),this.closeModal("productModal","newProduct","addErrors"),nt.showSuccessAlert("Thêm thành công")))})).catch((e=>{console.log(e)}))},removeTableRow(e){nt.confirmDelete((()=>{va.deleteData(`detail-product-order/deleteDetailProductOrder?id=${e}`).then((e=>{nt.showSuccessAlert("Xóa thành công"),this.getProOderID()})).catch((e=>{console.error("Lỗi khi xóa khu vực:",e)}))}))},addProOder(){const e={product_order_No:this.proOderID,user_create_by:this.storedUserLogin.userID,production_order_create:new Date,production_order_invoice:this.storeProOder.production_order_invoice,production_order_note:this.storeProOder.production_order_note},t=[{name:"production_order_invoice",label:"Số báo giá/Đơn hàng",maxLength:100,nullable:!1},{name:"production_order_note",label:"Ghi chú",maxLength:900,nullable:!0}];if(this.Errors=nt.validateData(e,t),0===Object.keys(this.Errors).length){if(0===this.products.length)return void(this.Errors.data="Vui lòng nhập chi tiết yêu cầu");va.postData("product-order/createProductOrder",e).then((e=>{e.data.error?nt.showErrorAlert("Tạo phiếu không thành công"):(this.storeProOder.production_order_invoice="",this.storeProOder.production_order_note="",nt.showSuccessAlert("Thêm thành công"))})).catch((e=>{console.log(e)}))}},editProduct(e){this.selectedProduct._id=e._id,this.selectedProduct.detail_product_order_name=e.detail_product_order_name,this.selectedProduct.detail_product_order_quantity=e.detail_product_order_quantity,this.selectedProduct.detail_product_order_unit=e.detail_product_order_unit,this.selectedProduct.detail_product_order_finish=e.detail_product_order_finish,this.selectedProduct.detail_product_order_packing=e.detail_product_order_packing,this.selectedProduct.detail_product_order_detail=e.detail_product_order_detail},updateProduct(){const e={detail_product_order_name:this.selectedProduct.detail_product_order_name,detail_product_order_quantity:this.selectedProduct.detail_product_order_quantity,detail_product_order_unit:this.selectedProduct.detail_product_order_unit,detail_product_order_finish:this.selectedProduct.detail_product_order_finish,detail_product_order_packing:this.selectedProduct.detail_product_order_packing,detail_product_order_detail:this.selectedProduct.detail_product_order_detail},t=[{name:"detail_product_order_name",label:"Tên sản phẩm",maxLength:100,nullable:!1},{name:"detail_product_order_quantity",label:"Số lượng",maxLength:100,nullable:!1},{name:"detail_product_order_unit",label:"Đơn vị",maxLength:100,nullable:!1},{name:"detail_product_order_finish",label:"Ngày hoàn thành",maxLength:100,nullable:!1},{name:"detail_product_order_packing",label:"Quy cách đóng gói",maxLength:100,nullable:!1},{name:"detail_product_order_detail",label:"Yêu cầu chi tiết",maxLength:900,nullable:!0}];this.updateErrors=nt.validateData(e,t),0===Object.keys(this.updateErrors).length&&va.putData(`detail-product-order/updateDetailProductOrder/${this.selectedProduct._id}`,e).then((e=>{e.data.error?e.data.error.details.forEach((e=>{const t=e.message,s=e.path[0];this.updateErrors[s]=[],this.updateErrors[s]=t})):(nt.showSuccessAlert("Cập nhật thành công"),this.closeModal("updateProductModal","selectedProduct","updateErrors"),this.getProOderID())})).catch((e=>{console.error("Lỗi khi cập nhật khu vực:",e)}))},closeModal(e,t,s){const a=this.$refs[e];$(a).modal("hide"),this[t]={},this[s]={}},handleFileChange(e){this.selectedFile=e.target.files[0]},uploadFile(){const e=new FormData;e.append("excel",this.selectedFile),va.postData("import-excel/importDetailProductOrder",e,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{this.getProOderID(),this.closeModal("importModal","newProduct","addErrors"),nt.showSuccessAlert("Thêm thành công")})).catch((e=>{console.log(e)}))}}};const ir=(0,r.Z)(rr,[["render",dr]]);var nr=ir;const cr={class:"main-content side-content pt-0"},ur={class:"main-container container-fluid pt-5"},_r={class:"inner-body"},pr={class:"page-header"},mr=(0,l.uE)('<div><h2 class="main-content-title tx-24 mg-b-5">Yêu cầu sản xuất</h2><ol class="breadcrumb"><li class="breadcrumb-item"><a href="index.html">Trang chủ</a></li><li class="breadcrumb-item active" aria-current="page">Yêu cầu sản xuất</li></ol></div>',1),hr={class:"d-flex"},br={class:"justify-content-center"},gr=(0,l._)("i",{class:"fe fe-corner-down-left"},null,-1),vr={class:"row row-sm"},fr={class:"col-lg-12 col-md-12"},yr={class:"card custom-card"},wr={class:"card-body"},kr={class:"main-content-label mb-1"},xr={class:"badge bg-success"},Cr=(0,l._)("p",{class:"text-muted card-sub-title"},null,-1),Dr={class:"table table-bordered"},Pr={class:"form-group"},Mr=(0,l._)("label",{class:"fw-bold"},"Người tạo",-1),Sr={class:"form-group"},Er=(0,l._)("label",{class:"fw-bold"},"Ngày tạo",-1),Tr={class:"form-group"},zr=(0,l._)("label",{class:"fw-bold"},"Số báo giá/Đơn hàng",-1),Ur={key:0,class:"invalid-feedback"},jr={class:"form-group"},qr=(0,l._)("label",{class:"fw-bold"},"Ghi chú",-1),Ir={key:0,class:"invalid-feedback"},Lr={class:"card-body"},Nr=(0,l._)("div",null,[(0,l._)("h6",{class:"main-content-label mb-1"},[(0,l.Uk)("Yêu cầu chi tiết "),(0,l._)("button",{"data-bs-target":"#productModal","data-bs-toggle":"modal",class:"btn btn-primary btn-sm"},[(0,l._)("i",{class:"fa fa-plus"})])]),(0,l._)("p",{class:"text-muted card-sub-title"},"Thêm danh sách sản phẩm yêu cầu")],-1),Rr={class:"table-responsive"},Vr={class:"table table-bordered",id:"productTable"},Qr=(0,l._)("thead",{class:""},[(0,l._)("tr",null,[(0,l._)("th",{style:{width:"2%"}},"STT"),(0,l._)("th",{style:{width:"14%"}},"Tên SP"),(0,l._)("th",{style:{width:"7%"}},"Số lượng"),(0,l._)("th",{style:{width:"7%"}},"Đơn vị"),(0,l._)("th",{style:{width:"11%"}},"Dự kiến hoàn thành"),(0,l._)("th",{style:{width:"11%"}},"Quy cách đóng gói"),(0,l._)("th",null,"Yêu cầu chi tiết"),(0,l._)("th",null,"Thao tác")])],-1),Or=["onUpdate:modelValue"],Ar={class:"d-flex"},Jr=["onClick"],$r=(0,l._)("i",{class:"fe fe-edit-2"},null,-1),Gr=[$r],Wr=["onClick"],Br=(0,l._)("i",{class:"fe fe-trash"},null,-1),Yr=[Br],Hr={key:0,class:"invalid-feedback",style:{display:"block","font-size":"13px"}},Kr={class:"form-group row justify-content-end mb-0 mt-3"},Zr={class:"col-md-12 ps-md-2"},Fr={class:"modal",id:"productModal",ref:"productModal"},Xr={class:"modal-dialog modal-lg"},ei={class:"modal-content modal-content-demo"},ti=(0,l._)("div",{class:"modal-header"},[(0,l._)("h6",{class:"modal-title"},"Yêu cầu chi tiết"),(0,l._)("button",{"aria-label":"Close",class:"btn-close","data-bs-dismiss":"modal",type:"button"})],-1),si={class:"modal-body"},ai={class:"table"},li={class:"align-top",colspan:"2"},oi={class:"form-group"},di=(0,l._)("label",{class:"fw-bold"},"Tên sản phẩm",-1),ri={key:0,class:"invalid-feedback"},ii={class:"align-top"},ni={class:"form-group"},ci=(0,l._)("label",{class:"fw-bold"}," Số lượng",-1),ui={key:0,class:"invalid-feedback"},_i={class:"align-top"},pi={class:"form-group"},mi=(0,l._)("label",{class:"fw-bold"},"Đơn vị tính",-1),hi=(0,l._)("option",{value:"SET"},"SET",-1),bi=(0,l._)("option",{value:"PCE"},"PCE",-1),gi=[hi,bi],vi={key:0,class:"invalid-feedback"},fi={class:"align-top"},yi={class:"form-group"},wi=(0,l._)("label",{class:"fw-bold"}," Ngày dự kiến hoàn thành",-1),ki={key:0,class:"invalid-feedback"},xi={class:"form-group"},Ci=(0,l._)("label",{class:"fw-bold"},"Quy cách đóng gói",-1),Di={key:0,class:"invalid-feedback"},Pi={colspan:"2"},Mi={class:"form-group"},Si=(0,l._)("label",{class:"fw-bold"}," Yêu cầu chi tiết",-1),Ei={key:0,class:"invalid-feedback"},Ti={key:0,class:"alert alert-success text-center"},zi={class:"modal-footer d-flex justify-content-between"},Ui={class:"form-check"},ji=(0,l._)("label",{class:"form-check-label fw-bold"},"Không đóng màn hình",-1),qi={class:"modal",id:"updateProductModal",ref:"updateProductModal"},Ii={class:"modal-dialog modal-lg"},Li={class:"modal-content modal-content-demo"},Ni=(0,l._)("div",{class:"modal-header"},[(0,l._)("h6",{class:"modal-title"},"Yêu cầu chi tiết"),(0,l._)("button",{"aria-label":"Close",class:"btn-close","data-bs-dismiss":"modal",type:"button"})],-1),Ri={class:"modal-body"},Vi={class:"table"},Qi={class:"align-top",colspan:"2"},Oi={class:"form-group"},Ai=(0,l._)("label",{class:"fw-bold"},"Tên sản phẩm",-1),Ji={key:0,class:"invalid-feedback"},$i={class:"align-top"},Gi={class:"form-group"},Wi=(0,l._)("label",{class:"fw-bold"}," Số lượng",-1),Bi={key:0,class:"invalid-feedback"},Yi={class:"align-top"},Hi={class:"form-group"},Ki=(0,l._)("label",{class:"fw-bold"},"Đơn vị tính",-1),Zi=(0,l._)("option",{value:"SET"},"SET",-1),Fi=(0,l._)("option",{value:"PCE"},"PCE",-1),Xi=[Zi,Fi],en={key:0,class:"invalid-feedback"},tn={class:"align-top"},sn={class:"form-group"},an=(0,l._)("label",{class:"fw-bold"}," Ngày dự kiến hoàn thành",-1),ln={key:0,class:"invalid-feedback"},on={class:"form-group"},dn=(0,l._)("label",{class:"fw-bold"},"Quy cách đóng gói",-1),rn={key:0,class:"invalid-feedback"},nn={colspan:"2"},cn={class:"form-group"},un=(0,l._)("label",{class:"fw-bold"}," Yêu cầu chi tiết",-1),_n={key:0,class:"invalid-feedback"},pn={key:0,class:"alert alert-success text-center"},mn={class:"modal-footer"};function hn(e,t,s,o,d,r){const i=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",cr,[(0,l._)("div",ur,[(0,l._)("div",_r,[(0,l._)("div",pr,[mr,(0,l._)("div",hr,[(0,l._)("div",br,[(0,l.Wm)(i,{to:"/production_required",class:"btn ripple btn-rounded btn-white my-2 btn-icon-text"},{default:(0,l.w5)((()=>[gr,(0,l.Uk)(" Trở lại ")])),_:1})])])]),(0,l._)("div",vr,[(0,l._)("div",fr,[(0,l._)("div",yr,[(0,l._)("div",wr,[(0,l._)("div",null,[(0,l._)("h6",kr,[(0,l.Uk)("Phiếu yêu cầu sản xuất Số: "),(0,l._)("span",xr,(0,p.zw)(d.updateID),1)]),Cr]),(0,l._)("table",Dr,[(0,l._)("tbody",null,[(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",Pr,[Mr,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control text-body","onUpdate:modelValue":t[0]||(t[0]=e=>d.storeProOder.user_create_by=e),readonly:""},null,512),[[a.nr,d.storeProOder.user_create_by]])])]),(0,l._)("td",null,[(0,l._)("div",Sr,[Er,(0,l.wy)((0,l._)("input",{class:"form-control text-body",type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>d.storeProOder.production_order_create=e),readonly:""},null,512),[[a.nr,d.storeProOder.production_order_create]])])])]),(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",Tr,[zr,(0,l.wy)((0,l._)("textarea",{class:(0,p.C_)(["form-control text-black",{"is-invalid":d.updateOderErrors.production_order_invoice}]),rows:"4",placeholder:"Nhập số báo giá/đơn hàng","onUpdate:modelValue":t[2]||(t[2]=e=>d.storeProOder.production_order_invoice=e)},null,2),[[a.nr,d.storeProOder.production_order_invoice]]),d.updateOderErrors.production_order_invoice?((0,l.wg)(),(0,l.iD)("div",Ur,(0,p.zw)(d.updateOderErrors.production_order_invoice),1)):(0,l.kq)("",!0)])]),(0,l._)("td",null,[(0,l._)("div",jr,[qr,(0,l.wy)((0,l._)("textarea",{class:(0,p.C_)(["form-control text-black",{"is-invalid":d.updateOderErrors.production_order_note}]),rows:"6",placeholder:"Nhập ghi chú","onUpdate:modelValue":t[3]||(t[3]=e=>d.storeProOder.production_order_note=e)},null,2),[[a.nr,d.storeProOder.production_order_note]]),d.updateOderErrors.production_order_note?((0,l.wg)(),(0,l.iD)("div",Ir,(0,p.zw)(d.updateOderErrors.production_order_note),1)):(0,l.kq)("",!0)])])])])])]),(0,l._)("div",Lr,[Nr,(0,l._)("div",Rr,[(0,l._)("table",Vr,[Qr,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.products,((e,t)=>((0,l.wg)(),(0,l.iD)("tr",{key:t},[(0,l._)("td",null,(0,p.zw)(t+1),1),(0,l._)("td",null,(0,p.zw)(e.detail_product_order_name),1),(0,l._)("td",null,(0,p.zw)(e.detail_product_order_quantity),1),(0,l._)("td",null,(0,p.zw)(e.detail_product_order_unit),1),(0,l._)("td",null,(0,p.zw)(e.detail_product_order_finish),1),(0,l._)("td",null,(0,p.zw)(e.detail_product_order_packing),1),(0,l._)("td",null,[(0,l.wy)((0,l._)("textarea",{class:"form-control text-body",rows:"10","onUpdate:modelValue":t=>e.detail_product_order_detail=t,readonly:""},null,8,Or),[[a.nr,e.detail_product_order_detail]])]),(0,l._)("td",Ar,[(0,l._)("a",{onClick:t=>r.editProduct(e),"data-bs-target":"#updateProductModal","data-bs-toggle":"modal",class:"btn btn-sm btn-outline-info ms-1"},Gr,8,Jr),(0,l._)("a",{onClick:t=>r.removeTableRow(e._id),class:"btn btn-sm btn-outline-danger ms-1"},Yr,8,Wr)])])))),128))])])]),d.updateOderErrors.data?((0,l.wg)(),(0,l.iD)("div",Hr,(0,p.zw)(d.updateOderErrors.data),1)):(0,l.kq)("",!0),(0,l._)("div",Kr,[(0,l._)("div",Zr,[(0,l._)("button",{onClick:t[4]||(t[4]=(...e)=>r.updateProOder&&r.updateProOder(...e)),class:"btn ripple btn-primary btn-rounded pd-x-30 mg-r-5"},"Lưu")])])])])])])])])]),(0,l._)("div",Fr,[(0,l._)("div",Xr,[(0,l._)("div",ei,[ti,(0,l._)("div",si,[(0,l._)("table",ai,[(0,l._)("tbody",null,[(0,l._)("tr",null,[(0,l._)("td",li,[(0,l._)("div",oi,[di,(0,l.wy)((0,l._)("input",{class:(0,p.C_)(["form-control text-black",{"is-invalid":d.addErrors.detail_product_order_name}]),"onUpdate:modelValue":t[5]||(t[5]=e=>d.newProduct.detail_product_order_name=e),placeholder:"Nhập tên sản phẩm"},null,2),[[a.nr,d.newProduct.detail_product_order_name]]),d.addErrors.detail_product_order_name?((0,l.wg)(),(0,l.iD)("div",ri,(0,p.zw)(d.addErrors.detail_product_order_name),1)):(0,l.kq)("",!0)])])]),(0,l._)("tr",null,[(0,l._)("td",ii,[(0,l._)("div",ni,[ci,(0,l.wy)((0,l._)("input",{type:"number",class:(0,p.C_)(["form-control text-black",{"is-invalid":d.addErrors.detail_product_order_quantity}]),placeholder:"Nhập số lượng","onUpdate:modelValue":t[6]||(t[6]=e=>d.newProduct.detail_product_order_quantity=e)},null,2),[[a.nr,d.newProduct.detail_product_order_quantity]]),d.addErrors.detail_product_order_quantity?((0,l.wg)(),(0,l.iD)("div",ui,(0,p.zw)(d.addErrors.detail_product_order_quantity),1)):(0,l.kq)("",!0)])]),(0,l._)("td",_i,[(0,l._)("div",pi,[mi,(0,l.wy)((0,l._)("select",{class:(0,p.C_)(["form-control text-black",{"is-invalid":d.addErrors.detail_product_order_unit}]),name:"product_unit","onUpdate:modelValue":t[7]||(t[7]=e=>d.newProduct.detail_product_order_unit=e)},gi,2),[[a.bM,d.newProduct.detail_product_order_unit]]),d.addErrors.detail_product_order_unit?((0,l.wg)(),(0,l.iD)("div",vi,(0,p.zw)(d.addErrors.detail_product_order_unit),1)):(0,l.kq)("",!0)])])]),(0,l._)("tr",null,[(0,l._)("td",fi,[(0,l._)("div",yi,[wi,(0,l.wy)((0,l._)("input",{class:(0,p.C_)(["form-control text-black",{"is-invalid":d.addErrors.detail_product_order_finish}]),type:"date","onUpdate:modelValue":t[8]||(t[8]=e=>d.newProduct.detail_product_order_finish=e)},null,2),[[a.nr,d.newProduct.detail_product_order_finish]]),d.addErrors.detail_product_order_finish?((0,l.wg)(),(0,l.iD)("div",ki,(0,p.zw)(d.addErrors.detail_product_order_finish),1)):(0,l.kq)("",!0)])]),(0,l._)("td",null,[(0,l._)("div",xi,[Ci,(0,l.wy)((0,l._)("textarea",{class:(0,p.C_)(["form-control text-black",{"is-invalid":d.addErrors.detail_product_order_packing}]),rows:"5",placeholder:"Quy cách đóng gói","onUpdate:modelValue":t[9]||(t[9]=e=>d.newProduct.detail_product_order_packing=e)},null,2),[[a.nr,d.newProduct.detail_product_order_packing]]),d.addErrors.detail_product_order_packing?((0,l.wg)(),(0,l.iD)("div",Di,(0,p.zw)(d.addErrors.detail_product_order_packing),1)):(0,l.kq)("",!0)])])]),(0,l._)("tr",null,[(0,l._)("td",Pi,[(0,l._)("div",Mi,[Si,(0,l.wy)((0,l._)("textarea",{class:(0,p.C_)(["form-control text-black",{"is-invalid":d.addErrors.detail_product_order_detail}]),rows:"5",placeholder:"Yêu cầu chi tiết","onUpdate:modelValue":t[10]||(t[10]=e=>d.newProduct.detail_product_order_detail=e)},null,2),[[a.nr,d.newProduct.detail_product_order_detail]]),d.addErrors.detail_product_order_detail?((0,l.wg)(),(0,l.iD)("div",Ei,(0,p.zw)(d.addErrors.detail_product_order_detail),1)):(0,l.kq)("",!0)])])])])])]),d.showSuccessMessage?((0,l.wg)(),(0,l.iD)("div",Ti,(0,p.zw)(d.successMessage),1)):(0,l.kq)("",!0),(0,l._)("div",zi,[(0,l._)("div",Ui,[(0,l.wy)((0,l._)("input",{class:"form-check-input",type:"checkbox",id:"check1",name:"option1",value:"something","onUpdate:modelValue":t[11]||(t[11]=e=>d.dontCloseModal=e)},null,512),[[a.e8,d.dontCloseModal]]),ji]),(0,l._)("div",null,[(0,l._)("button",{class:"btn ripple btn-primary",onClick:t[12]||(t[12]=(...e)=>r.addTableRow&&r.addTableRow(...e))},"Thêm"),(0,l._)("button",{class:"btn ripple btn-danger ms-2",onClick:t[13]||(t[13]=e=>r.closeModal("productModal","newProduct","addErrors"))}," Đóng ")])])])])],512),(0,l._)("div",qi,[(0,l._)("div",Ii,[(0,l._)("div",Li,[Ni,(0,l._)("div",Ri,[(0,l._)("table",Vi,[(0,l._)("tbody",null,[(0,l._)("tr",null,[(0,l._)("td",Qi,[(0,l._)("div",Oi,[Ai,(0,l.wy)((0,l._)("input",{class:(0,p.C_)(["form-control text-black",{"is-invalid":d.updateErrors.detail_product_order_name}]),"onUpdate:modelValue":t[14]||(t[14]=e=>d.selectedProduct.detail_product_order_name=e),placeholder:"Nhập tên sản phẩm"},null,2),[[a.nr,d.selectedProduct.detail_product_order_name]]),d.updateErrors.detail_product_order_name?((0,l.wg)(),(0,l.iD)("div",Ji,(0,p.zw)(d.updateErrors.detail_product_order_name),1)):(0,l.kq)("",!0)])])]),(0,l._)("tr",null,[(0,l._)("td",$i,[(0,l._)("div",Gi,[Wi,(0,l.wy)((0,l._)("input",{type:"number",class:(0,p.C_)(["form-control text-black",{"is-invalid":d.updateErrors.detail_product_order_quantity}]),placeholder:"Nhập số lượng","onUpdate:modelValue":t[15]||(t[15]=e=>d.selectedProduct.detail_product_order_quantity=e)},null,2),[[a.nr,d.selectedProduct.detail_product_order_quantity]]),d.updateErrors.detail_product_order_quantity?((0,l.wg)(),(0,l.iD)("div",Bi,(0,p.zw)(d.updateErrors.detail_product_order_quantity),1)):(0,l.kq)("",!0)])]),(0,l._)("td",Yi,[(0,l._)("div",Hi,[Ki,(0,l.wy)((0,l._)("select",{class:(0,p.C_)(["form-control text-black",{"is-invalid":d.updateErrors.detail_product_order_unit}]),name:"product_unit","onUpdate:modelValue":t[16]||(t[16]=e=>d.selectedProduct.detail_product_order_unit=e)},Xi,2),[[a.bM,d.selectedProduct.detail_product_order_unit]]),d.updateErrors.detail_product_order_unit?((0,l.wg)(),(0,l.iD)("div",en,(0,p.zw)(d.updateErrors.detail_product_order_unit),1)):(0,l.kq)("",!0)])])]),(0,l._)("tr",null,[(0,l._)("td",tn,[(0,l._)("div",sn,[an,(0,l.wy)((0,l._)("input",{class:(0,p.C_)(["form-control text-black",{"is-invalid":d.updateErrors.detail_product_order_finish}]),type:"date","onUpdate:modelValue":t[17]||(t[17]=e=>d.selectedProduct.detail_product_order_finish=e)},null,2),[[a.nr,d.selectedProduct.detail_product_order_finish]]),d.updateErrors.detail_product_order_finish?((0,l.wg)(),(0,l.iD)("div",ln,(0,p.zw)(d.updateErrors.detail_product_order_finish),1)):(0,l.kq)("",!0)])]),(0,l._)("td",null,[(0,l._)("div",on,[dn,(0,l.wy)((0,l._)("textarea",{class:(0,p.C_)(["form-control text-black",{"is-invalid":d.updateErrors.detail_product_order_packing}]),rows:"5",placeholder:"Quy cách đóng gói","onUpdate:modelValue":t[18]||(t[18]=e=>d.selectedProduct.detail_product_order_packing=e)},null,2),[[a.nr,d.selectedProduct.detail_product_order_packing]]),d.updateErrors.detail_product_order_packing?((0,l.wg)(),(0,l.iD)("div",rn,(0,p.zw)(d.updateErrors.detail_product_order_packing),1)):(0,l.kq)("",!0)])])]),(0,l._)("tr",null,[(0,l._)("td",nn,[(0,l._)("div",cn,[un,(0,l.wy)((0,l._)("textarea",{class:(0,p.C_)(["form-control text-black",{"is-invalid":d.updateErrors.detail_product_order_detail}]),rows:"5",placeholder:"Yêu cầu chi tiết","onUpdate:modelValue":t[19]||(t[19]=e=>d.selectedProduct.detail_product_order_detail=e)},null,2),[[a.nr,d.selectedProduct.detail_product_order_detail]]),d.updateErrors.detail_product_order_detail?((0,l.wg)(),(0,l.iD)("div",_n,(0,p.zw)(d.updateErrors.detail_product_order_detail),1)):(0,l.kq)("",!0)])])])])])]),d.showSuccessMessage?((0,l.wg)(),(0,l.iD)("div",pn,(0,p.zw)(d.successMessage),1)):(0,l.kq)("",!0),(0,l._)("div",mn,[(0,l._)("div",null,[(0,l._)("button",{class:"btn ripple btn-primary",onClick:t[20]||(t[20]=(...e)=>r.updateProduct&&r.updateProduct(...e))},"Lưu"),(0,l._)("button",{class:"btn ripple btn-danger ms-2",onClick:t[21]||(t[21]=e=>r.closeModal("updateProductModal","selectedProduct","updateErrors"))}," Đóng ")])])])])],512)],64)}var bn={data(){return{editData:[],proOderID:null,storeProOder:[],newProduct:[],selectedProduct:[],products:[],addErrors:[],updateErrors:[],updateOderErrors:[],productErrors:[],dontCloseModal:!1,showSuccessMessage:!1,successMessage:"",updateID:null}},mounted(){this.updateID=this.$route.params.id,this.getProOderID()},methods:{getProOderID(){va.getData(`product-order/editProductOrder/${this.updateID}`).then((e=>{this.editData=e.data.data[0],this.products=this.editData.dataDetail,this.storeProOder.production_order_create=(0,st.Z)(new Date(this.editData.production_order_create),"MM/dd/yyyy"),this.storeProOder.user_create_by=this.editData.detail_user[0].fullname,this.storeProOder.production_order_invoice=this.editData.production_order_invoice,this.storeProOder.production_order_note=this.editData.production_order_note})).catch((e=>{console.log(e)}))},removeTableRow(e){nt.confirmDelete((()=>{va.deleteData(`detail-product-order/deleteDetailProductOrder?id=${e}`).then((e=>{nt.showSuccessAlert("Xóa thành công"),this.getProOderID()})).catch((e=>{console.error("Lỗi khi xóa khu vực:",e)}))}))},addTableRow(){const e={product_order_code:this.updateID,detail_product_order_name:this.newProduct.detail_product_order_name,detail_product_order_quantity:this.newProduct.detail_product_order_quantity,detail_product_order_unit:this.newProduct.detail_product_order_unit,detail_product_order_finish:this.newProduct.detail_product_order_finish,detail_product_order_packing:this.newProduct.detail_product_order_packing,detail_product_order_detail:this.newProduct.detail_product_order_detail},t=[{name:"detail_product_order_name",label:"Tên sản phẩm",maxLength:100,nullable:!1},{name:"detail_product_order_quantity",label:"Số lượng",maxLength:100,nullable:!1},{name:"detail_product_order_unit",label:"Đơn vị",maxLength:100,nullable:!1},{name:"detail_product_order_finish",label:"Ngày hoàn thành",maxLength:100,nullable:!1},{name:"detail_product_order_packing",label:"Quy cách đóng gói",maxLength:100,nullable:!1},{name:"detail_product_order_detail",label:"Yêu cầu chi tiết",maxLength:900,nullable:!0}];this.addErrors=nt.validateData(e,t),0===Object.keys(this.addErrors).length&&va.postData("detail-product-order/storeDetailProductOrder",e).then((e=>{200===e.data.status&&(this.dontCloseModal?(this.getProOderID(),this.newProduct={},this.showSuccessMessage=!0,this.successMessage="Thêm thành công",setTimeout((()=>{this.showSuccessMessage=!1}),1e3)):(this.getProOderID(),this.closeModal("productModal","newProduct","addErrors"),nt.showSuccessAlert("Thêm thành công")))})).catch((e=>{console.log(e)}))},closeModal(e,t,s){const a=this.$refs[e];$(a).modal("hide"),this[t]={},this[s]={}},editProduct(e){this.selectedProduct._id=e._id,this.selectedProduct.detail_product_order_name=e.detail_product_order_name,this.selectedProduct.detail_product_order_quantity=e.detail_product_order_quantity,this.selectedProduct.detail_product_order_unit=e.detail_product_order_unit,this.selectedProduct.detail_product_order_finish=e.detail_product_order_finish,this.selectedProduct.detail_product_order_packing=e.detail_product_order_packing,this.selectedProduct.detail_product_order_detail=e.detail_product_order_detail},updateProduct(){const e={detail_product_order_name:this.selectedProduct.detail_product_order_name,detail_product_order_quantity:this.selectedProduct.detail_product_order_quantity,detail_product_order_unit:this.selectedProduct.detail_product_order_unit,detail_product_order_finish:this.selectedProduct.detail_product_order_finish,detail_product_order_packing:this.selectedProduct.detail_product_order_packing,detail_product_order_detail:this.selectedProduct.detail_product_order_detail},t=[{name:"detail_product_order_name",label:"Tên sản phẩm",maxLength:100,nullable:!1},{name:"detail_product_order_quantity",label:"Số lượng",maxLength:100,nullable:!1},{name:"detail_product_order_unit",label:"Đơn vị",maxLength:100,nullable:!1},{name:"detail_product_order_finish",label:"Ngày hoàn thành",maxLength:100,nullable:!1},{name:"detail_product_order_packing",label:"Quy cách đóng gói",maxLength:100,nullable:!1},{name:"detail_product_order_detail",label:"Yêu cầu chi tiết",maxLength:900,nullable:!0}];this.updateErrors=nt.validateData(e,t),0===Object.keys(this.updateErrors).length&&va.putData(`detail-product-order/updateDetailProductOrder/${this.selectedProduct._id}`,e).then((e=>{e.data.error?e.data.error.details.forEach((e=>{const t=e.message,s=e.path[0];this.updateErrors[s]=[],this.updateErrors[s]=t})):(nt.showSuccessAlert("Cập nhật thành công"),this.closeModal("updateProductModal","selectedProduct","updateErrors"),this.getProOderID())})).catch((e=>{console.error("Lỗi khi cập nhật khu vực:",e)}))},updateProOder(){const e={production_order_invoice:this.storeProOder.production_order_invoice,production_order_note:this.storeProOder.production_order_note},t=[{name:"production_order_invoice",label:"Số báo giá/Đơn hàng",maxLength:100,nullable:!1},{name:"production_order_note",label:"Ghi chú",maxLength:900,nullable:!0}];if(this.updateOderErrors=nt.validateData(e,t),0===Object.keys(this.updateOderErrors).length){if(0===this.products.length)return void(this.updateOderErrors.data="Vui lòng nhập chi tiết yêu cầu");va.putData(`product-order/updateProductOrder/${this.editData._id}`,e).then((e=>{e.data.error?nt.showErrorAlert("Cập nhật phiếu không thành công"):(this.storeProOder.production_order_invoice="",this.storeProOder.production_order_note="",nt.showSuccessAlert("Cập nhật thành công"))})).catch((e=>{console.log(e)}))}}}};const gn=(0,r.Z)(bn,[["render",hn]]);var vn=gn;const fn={class:"main-content side-content pt-0"},yn={class:"main-container container-fluid pt-5"},wn={class:"inner-body"},kn={class:"page-header"},xn=(0,l.uE)('<div><h2 class="main-content-title tx-24 mg-b-5">Yêu cầu sản xuất</h2><ol class="breadcrumb"><li class="breadcrumb-item"><a href="index.html">Trang chủ</a></li><li class="breadcrumb-item active" aria-current="page">Yêu cầu sản xuất</li></ol></div>',1),Cn={class:"d-flex"},Dn={class:"justify-content-center"},Pn=(0,l._)("i",{class:"fe fe-corner-down-left"},null,-1),Mn={class:"row row-sm"},Sn={class:"col-lg-12 col-md-12"},En={class:"card custom-card"},Tn={class:"card-body"},zn={class:"main-content-label mb-1"},Un={class:"badge bg-success"},jn=(0,l._)("p",{class:"text-muted card-sub-title"},null,-1),qn={class:"table table-bordered"},In={class:"form-group"},Ln=(0,l._)("label",{class:"fw-bold"},"Người tạo",-1),Nn={class:"form-group"},Rn=(0,l._)("label",{class:"fw-bold"},"Ngày tạo",-1),Vn={class:"form-group"},Qn=(0,l._)("label",{class:"fw-bold"},"Số báo giá/Đơn hàng",-1),On={class:"form-group"},An=(0,l._)("label",{class:"fw-bold"},"Ghi chú",-1),Jn=["value"],$n={class:"card-body"},Gn=(0,l._)("div",null,[(0,l._)("h6",{class:"main-content-label mb-1"},"Yêu cầu chi tiết "),(0,l._)("p",{class:"text-muted card-sub-title"},"Thêm danh sách sản phẩm yêu cầu")],-1),Wn={class:"table-responsive"},Bn={class:"table table-bordered",id:"productTable"},Yn=(0,l._)("thead",{class:""},[(0,l._)("tr",null,[(0,l._)("th",{style:{width:"2%"}},"STT"),(0,l._)("th",{style:{width:"14%"}},"Tên SP"),(0,l._)("th",{style:{width:"7%"}},"Số lượng"),(0,l._)("th",{style:{width:"7%"}},"Đơn vị"),(0,l._)("th",{style:{width:"8%"}},"Dự kiến hoàn thành"),(0,l._)("th",{style:{width:"11%"}},"Quy cách đóng gói"),(0,l._)("th",null,"Yêu cầu chi tiết")])],-1),Hn=["value"];function Kn(e,t,s,o,d,r){const i=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)("div",fn,[(0,l._)("div",yn,[(0,l._)("div",wn,[(0,l._)("div",kn,[xn,(0,l._)("div",Cn,[(0,l._)("div",Dn,[(0,l.Wm)(i,{to:"/production_required",class:"btn ripple btn-white btn-rounded my-2 btn-icon-text"},{default:(0,l.w5)((()=>[Pn,(0,l.Uk)(" Trở lại ")])),_:1})])])]),(0,l._)("div",Mn,[(0,l._)("div",Sn,[(0,l._)("div",En,[(0,l._)("div",Tn,[(0,l._)("div",null,[(0,l._)("h6",zn,[(0,l.Uk)("Phiếu yêu cầu sản xuất Số: "),(0,l._)("span",Un,(0,p.zw)(d.updateID),1)]),jn]),(0,l._)("table",qn,[(0,l._)("tbody",null,[(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",In,[Ln,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control text-body","onUpdate:modelValue":t[0]||(t[0]=e=>d.storeProOder.user_create_by=e),readonly:""},null,512),[[a.nr,d.storeProOder.user_create_by]])])]),(0,l._)("td",null,[(0,l._)("div",Nn,[Rn,(0,l.wy)((0,l._)("input",{class:"form-control text-body",type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>d.storeProOder.production_order_create=e),readonly:""},null,512),[[a.nr,d.storeProOder.production_order_create]])])])]),(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",Vn,[Qn,(0,l.wy)((0,l._)("textarea",{class:"form-control text-black",rows:"4",placeholder:"Nhập số báo giá/đơn hàng","onUpdate:modelValue":t[2]||(t[2]=e=>d.storeProOder.production_order_invoice=e),readonly:""},null,512),[[a.nr,d.storeProOder.production_order_invoice]])])]),(0,l._)("td",null,[(0,l._)("div",On,[An,(0,l._)("textarea",{class:"form-control text-black",rows:"7",value:d.storeProOder.production_order_note,readonly:""},null,8,Jn)])])])])])]),(0,l._)("div",$n,[Gn,(0,l._)("div",Wn,[(0,l._)("table",Bn,[Yn,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.products,((e,t)=>((0,l.wg)(),(0,l.iD)("tr",{key:t},[(0,l._)("td",null,(0,p.zw)(t+1),1),(0,l._)("td",null,(0,p.zw)(e.detail_product_order_name),1),(0,l._)("td",null,(0,p.zw)(e.detail_product_order_quantity),1),(0,l._)("td",null,(0,p.zw)(e.detail_product_order_unit),1),(0,l._)("td",null,(0,p.zw)(e.detail_product_order_finish),1),(0,l._)("td",null,(0,p.zw)(e.detail_product_order_packing),1),(0,l._)("td",null,[e.detail_product_order_detail?((0,l.wg)(),(0,l.iD)("textarea",{key:0,class:"form-control text-body",value:e.detail_product_order_detail,style:(0,p.j5)({height:25*e.detail_product_order_detail.split("\n").length+"px"}),readonly:""},null,12,Hn)):(0,l.kq)("",!0)])])))),128))])])])])])])])])])])}var Zn={data(){return{editData:[],proOderID:null,storeProOder:[],products:[],updateID:null}},mounted(){this.updateID=this.$route.params.id,this.getProOderID()},methods:{getProOderID(){va.getData(`product-order/editProductOrder/${this.updateID}`).then((e=>{this.editData=e.data.data[0],this.products=this.editData.dataDetail,this.storeProOder.production_order_create=this.editData.production_order_create,this.storeProOder.user_create_by=this.editData.detail_user[0].fullname,this.storeProOder.production_order_invoice=this.editData.production_order_invoice,this.storeProOder.production_order_note=this.editData.production_order_note})).catch((e=>{console.log(e)}))}}};const Fn=(0,r.Z)(Zn,[["render",Kn]]);var Xn=Fn;const ec={class:"main-content side-content pt-0"},tc={class:"main-container container-fluid pt-5"},sc={class:"inner-body"},ac=(0,l.uE)('<div class="page-header"><div><h2 class="main-content-title tx-24 mg-b-5">Lịch sản xuất</h2><ol class="breadcrumb"><li class="breadcrumb-item"><a href="#">Trang chủ</a></li><li class="breadcrumb-item active" aria-current="page"> jobsheet </li></ol></div><div class="d-flex"><div class="justify-content-center"><a class="btn ripple btn-primary btn-rounded text-light" data-bs-target="#add_jobsheet_modal" data-bs-toggle="modal"><i class="fe fe-plus"></i> Thêm mới </a></div></div></div>',1),lc={class:"row row-sm"},oc={class:"col-lg-12"},dc={class:"card custom-card"},rc={class:"card-body"},ic=(0,l._)("div",null,[(0,l._)("h6",{class:"main-content-label mb-1"}," Danh sách lịch sản xuất "),(0,l._)("p",{class:"text-muted card-sub-title"})],-1),nc={class:"table-responsive"},cc=["data"],uc=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",null,"STT"),(0,l._)("th",null,"Mã lịch SX"),(0,l._)("th",null,"Ngày tạo"),(0,l._)("th",null,"Người tạo"),(0,l._)("th",null,"Mã sản phẩm"),(0,l._)("th",{style:{"max-width":"70px"}},"Tên sản phẩm"),(0,l._)("th",null,"Loại sản xuất"),(0,l._)("th",null,"Trạng thái"),(0,l._)("th",null,"Ghi chú"),(0,l._)("th",null,"Thao tác")])],-1),_c=(0,l._)("td",null,null,-1),pc=["onClick"],mc=(0,l._)("i",{class:"fe fe-eye"},null,-1),hc=[mc],bc=["onClick"],gc=(0,l._)("i",{class:"fe fe-eye"},null,-1),vc=[gc],fc={key:2,class:"btn btn-sm ripple btn-outline-primary ms-2","data-bs-toggle":"dropdown"},yc=(0,l._)("i",{class:"fe fe-more-horizontal"},null,-1),wc=[yc],kc={class:"dropdown-menu"},xc=["onClick"],Cc=["onClick"],Dc={class:"modal fade",id:"add_jobsheet_modal",ref:"addJobsheetModal"},Pc={class:"modal-dialog modal-xl",role:"document"},Mc={class:"modal-content modal-content-demo"},Sc={class:"modal-header"},Ec=(0,l._)("h6",{class:"modal-title"},"Thêm mới lịch sản xuất",-1),Tc={class:"modal-body table-responsive"},zc={class:"table"},Uc={class:"align-top"},jc={class:"form-group"},qc=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Người tạo",-1),Ic={key:0,class:"invalid-feedback mt-2"},Lc={class:"align-top"},Nc={class:"form-group"},Rc=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Ngày tạo",-1),Vc={key:0,class:"invalid-feedback mt-2"},Qc={class:"align-top"},Oc={class:"form-group"},Ac=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Sản xuất cho phiếu YCSX",-1),Jc=["value"],$c=(0,l._)("option",{value:"Khác"},"Khác",-1),Gc={key:0,class:"invalid-feedback mt-2"},Wc={class:"align-top"},Bc={class:"form-group"},Yc=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Mã BOM",-1),Hc={key:0,class:"invalid-feedback mt-2"},Kc={class:"align-top"},Zc={class:"form-group"},Fc=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Mã sản phẩm",-1),Xc={key:0,class:"invalid-feedback mt-2"},eu={class:"align-top",colspan:"2"},tu={class:"form-group"},su=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Tên sản phẩm",-1),au={key:0,class:"invalid-feedback mt-2"},lu={class:"align-top"},ou={class:"form-group"},du=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Số lượng",-1),ru={key:0,class:"invalid-feedback mt-2"},iu={class:"align-top"},nu={class:"form-group"},cu=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Đơn vị",-1),uu=(0,l._)("option",{value:"SET"},"SET",-1),_u=(0,l._)("option",{value:"PCE"},"PCE",-1),pu=[uu,_u],mu={key:0,class:"invalid-feedback mt-2"},hu={class:"align-top"},bu={class:"form-group"},gu=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Loại sản phẩm",-1),vu=["value"],fu=(0,l._)("option",{value:"Khác"},"Khác",-1),yu={key:0,class:"invalid-feedback mt-2"},wu={class:"align-top",colspan:"2"},ku={class:"form-group"},xu=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Dòng sản phẩm",-1),Cu=["value"],Du={key:0,class:"invalid-feedback mt-2"},Pu={class:"align-top"},Mu={class:"form-group"},Su=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Ngày dự kiến hoàn thành",-1),Eu={key:0,class:"invalid-feedback mt-2"},Tu={class:"align-top"},zu={class:"form-group"},Uu=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Loại sản xuất",-1),ju=(0,l._)("option",{value:"N"},"New",-1),qu=(0,l._)("option",{value:"F"},"Fix",-1),Iu=[ju,qu],Lu={key:0,class:"invalid-feedback mt-2"},Nu={class:"align-top",colspan:"2"},Ru={class:"form-group"},Vu=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Quy cách",-1),Qu={key:0,class:"invalid-feedback mt-2"},Ou={class:"align-top",colspan:"4"},Au={class:"form-group"},Ju=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Ghi chú",-1),$u={key:0,class:"invalid-feedback mt-2"},Gu={key:0,class:"alert alert-success text-center"},Wu={class:"modal-footer d-flex justify-content-between"},Bu={class:"form-check"},Yu=(0,l._)("label",{class:"form-check-label fw-bold"},"Đóng màn hình",-1),Hu=(0,l._)("button",{class:"btn ripple btn-primary",type:"submit"},"Lưu",-1),Ku={class:"modal fade",id:"update_jobsheet_modal",ref:"updateJobsheetModal"},Zu={class:"modal-dialog modal-xl",role:"document"},Fu={class:"modal-content modal-content-demo"},Xu={class:"modal-header"},e_=(0,l._)("h6",{class:"modal-title"},"Cập nhật lịch sản xuất",-1),t_={class:"modal-body"},s_={class:"table"},a_={class:"align-top"},l_={class:"form-group"},o_=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Người tạo",-1),d_={key:0,class:"invalid-feedback mt-2"},r_={class:"align-top"},i_={class:"form-group"},n_=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Ngày tạo",-1),c_={key:0,class:"invalid-feedback mt-2"},u_={class:"align-top"},__={class:"form-group"},p_=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Sản xuất cho phiếu YCSX",-1),m_=["value"],h_=(0,l._)("option",{value:"Khác"},"Khác",-1),b_={key:0,class:"invalid-feedback mt-2"},g_={class:"align-top"},v_={class:"form-group"},f_=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Mã BOM",-1),y_={key:0,class:"invalid-feedback mt-2"},w_={class:"align-top"},k_={class:"form-group"},x_=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Mã sản phẩm",-1),C_={key:0,class:"invalid-feedback mt-2"},D_={class:"align-top",colspan:"2"},P_={class:"form-group"},M_=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Tên sản phẩm",-1),S_={key:0,class:"invalid-feedback mt-2"},E_={class:"align-top"},T_={class:"form-group"},z_=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Số lượng",-1),U_={key:0,class:"invalid-feedback mt-2"},j_={class:"align-top"},q_={class:"form-group"},I_=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Đơn vị",-1),L_=(0,l._)("option",{value:"SET"},"SET",-1),N_=(0,l._)("option",{value:"PCE"},"PCE",-1),R_=[L_,N_],V_={key:0,class:"invalid-feedback mt-2"},Q_={class:"align-top"},O_={class:"form-group"},A_=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Loại sản phẩm",-1),J_=["value"],$_=(0,l._)("option",{value:"Khác"},"Khác",-1),G_={key:0,class:"invalid-feedback mt-2"},W_={class:"align-top",colspan:"2"},B_={class:"form-group"},Y_=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Dòng sản phẩm",-1),H_=["value"],K_={key:0,class:"invalid-feedback mt-2"},Z_={class:"align-top"},F_={class:"form-group"},X_=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Ngày dự kiến hoàn thành",-1),ep={key:0,class:"invalid-feedback mt-2"},tp={class:"align-top"},sp={class:"form-group"},ap=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Loại sản xuất",-1),lp=(0,l._)("option",{value:"N"},"New",-1),op=(0,l._)("option",{value:"F"},"Fix",-1),dp=[lp,op],rp={key:0,class:"invalid-feedback mt-2"},ip={class:"align-top",colspan:"2"},np={class:"form-group"},cp=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Quy cách",-1),up={key:0,class:"invalid-feedback mt-2"},_p={class:"align-top",colspan:"4"},pp={class:"form-group"},mp=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Ghi chú",-1),hp={key:0,class:"invalid-feedback mt-2"},bp={key:0,class:"alert alert-success text-center"},gp={class:"modal-footer"},vp=(0,l._)("button",{class:"btn ripple btn-primary",type:"submit"},"Lưu",-1),fp={class:"modal fade",id:"viewProduct",ref:"ViewProduct"},yp={class:"modal-dialog modal-fullscreen",role:"document"},wp={class:"modal-content modal-content-demo"},kp={class:"modal-body"},xp={class:"modal-footer"},Cp={class:"modal fade",id:"viewSemiProduct",ref:"ViewSemiProduct"},Dp={class:"modal-dialog modal-fullscreen",role:"document"},Pp={class:"modal-content modal-content-demo"},Mp={class:"modal-body"},Sp={class:"modal-footer"};function Ep(e,t,s,o,d,r){const i=(0,l.up)("ListProduct"),n=(0,l.up)("ListSemiProduct");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",ec,[(0,l._)("div",tc,[(0,l._)("div",sc,[ac,(0,l._)("div",lc,[(0,l._)("div",oc,[(0,l._)("div",dc,[(0,l._)("div",rc,[ic,(0,l._)("div",nc,[(0,l._)("table",{data:d.jobsheets,class:"table table-bordered custom-data-table",id:"jobsheetTable"},[uc,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.jobsheets,((e,t)=>((0,l.wg)(),(0,l.iD)("tr",{key:e._id},[(0,l._)("td",null,(0,p.zw)(t+1),1),(0,l._)("td",null,(0,p.zw)(e.jobsheet_code),1),(0,l._)("td",null,(0,p.zw)(r.formatDate(e.jobsheet_create_date)),1),(0,l._)("td",null,(0,p.zw)(e.user_id),1),(0,l._)("td",null,(0,p.zw)(e.product_id),1),(0,l._)("td",null,(0,p.zw)(e.product_name),1),(0,l._)("td",null,(0,p.zw)("N"===e.product_type_code||"S"===e.product_type_code?"BTP":"TP"),1),(0,l._)("td",null,[(0,l._)("span",{class:(0,p.C_)(["badge bg-pill",r.getStatus(e.jobsheet_status)])},(0,p.zw)(r.jobsheetStatus(e.jobsheet_status)),3)]),_c,(0,l._)("td",null,["P"==e.product_type_code||"R"==e.product_type_code?((0,l.wg)(),(0,l.iD)("a",{key:0,onClick:t=>r.chooseJobsheet(e),"data-bs-target":"#viewProduct","data-bs-toggle":"modal",class:"btn btn-sm btn-outline-primary ms-1"},hc,8,pc)):(0,l.kq)("",!0),"N"==e.product_type_code||"S"==e.product_type_code?((0,l.wg)(),(0,l.iD)("a",{key:1,onClick:t=>r.chooseJobsheet(e),"data-bs-target":"#viewSemiProduct","data-bs-toggle":"modal",class:"btn btn-sm btn-outline-primary ms-1"},vc,8,bc)):(0,l.kq)("",!0),0==e.jobsheet_status?((0,l.wg)(),(0,l.iD)("button",fc,wc)):(0,l.kq)("",!0),(0,l._)("div",kc,[0==e.jobsheet_status?((0,l.wg)(),(0,l.iD)("button",{key:0,onClick:t=>r.editJobsheet(e),class:"dropdown-item text-body","data-bs-target":"#update_jobsheet_modal","data-bs-toggle":"modal"},"Cập nhật",8,xc)):(0,l.kq)("",!0),0==e.jobsheet_status?((0,l.wg)(),(0,l.iD)("button",{key:1,class:"dropdown-item",onClick:t=>r.cancelJobsheet(e._id)},"Hủy jobsheet",8,Cc)):(0,l.kq)("",!0)])])])))),128))])],8,cc)])])])])])])])]),(0,l._)("div",Dc,[(0,l._)("div",Pc,[(0,l._)("div",Mc,[(0,l._)("div",Sc,[Ec,(0,l._)("button",{"aria-label":"Close",class:"btn-close",onClick:t[0]||(t[0]=e=>r.closeModal("addJobsheetModal","storeJobsheet","addErrors")),type:"button"})]),(0,l._)("form",{onSubmit:t[17]||(t[17]=(0,a.iM)(((...e)=>r.addJobsheet&&r.addJobsheet(...e)),["prevent"]))},[(0,l._)("div",Tc,[(0,l._)("table",zc,[(0,l._)("tbody",null,[(0,l._)("tr",null,[(0,l._)("td",Uc,[(0,l._)("div",jc,[qc,(0,l.wy)((0,l._)("input",{type:"text",class:(0,p.C_)(["form-control text-black",{"is-invalid":d.addErrors.user_id}]),"onUpdate:modelValue":t[1]||(t[1]=e=>d.storeJobsheet.user_id=e),readonly:""},null,2),[[a.nr,d.storeJobsheet.user_id]]),d.addErrors.user_id?((0,l.wg)(),(0,l.iD)("div",Ic,(0,p.zw)(d.addErrors.user_id),1)):(0,l.kq)("",!0)])]),(0,l._)("td",Lc,[(0,l._)("div",Nc,[Rc,(0,l.wy)((0,l._)("input",{type:"text",class:(0,p.C_)(["form-control text-black",{"is-invalid":d.addErrors.jobsheet_create_date}]),"onUpdate:modelValue":t[2]||(t[2]=e=>d.storeJobsheet.jobsheet_create_date=e),readonly:""},null,2),[[a.nr,d.storeJobsheet.jobsheet_create_date]]),d.addErrors.jobsheet_create_date?((0,l.wg)(),(0,l.iD)("div",Vc,(0,p.zw)(d.addErrors.jobsheet_create_date),1)):(0,l.kq)("",!0)])]),(0,l._)("td",Qc,[(0,l._)("div",Oc,[Ac,(0,l.wy)((0,l._)("select",{class:(0,p.C_)(["form-control form-select text-body",{"is-invalid":d.addErrors.production_order_code}]),"onUpdate:modelValue":t[3]||(t[3]=e=>d.storeJobsheet.production_order_code=e)},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.proOders,(e=>((0,l.wg)(),(0,l.iD)("option",{key:e._id,value:e.product_order_No},(0,p.zw)(e.product_order_No),9,Jc)))),128)),$c],2),[[a.bM,d.storeJobsheet.production_order_code]]),d.addErrors.production_order_code?((0,l.wg)(),(0,l.iD)("div",Gc,(0,p.zw)(d.addErrors.production_order_code),1)):(0,l.kq)("",!0)])]),(0,l._)("td",Wc,[(0,l._)("div",Bc,[Yc,(0,l.wy)((0,l._)("input",{type:"text",class:(0,p.C_)(["form-control text-black",{"is-invalid":d.addErrors.BOM_code}]),"onUpdate:modelValue":t[4]||(t[4]=e=>d.storeJobsheet.BOM_code=e),placeholder:"Nhập mã bom"},null,2),[[a.nr,d.storeJobsheet.BOM_code]]),d.addErrors.BOM_code?((0,l.wg)(),(0,l.iD)("div",Hc,(0,p.zw)(d.addErrors.BOM_code),1)):(0,l.kq)("",!0)])])]),(0,l._)("tr",null,[(0,l._)("td",Kc,[(0,l._)("div",Zc,[Fc,(0,l.wy)((0,l._)("input",{type:"text",class:(0,p.C_)(["form-control text-black",{"is-invalid":d.addErrors.product_id}]),"onUpdate:modelValue":t[5]||(t[5]=e=>d.storeJobsheet.product_id=e),placeholder:"Nhập mã sản phẩm"},null,2),[[a.nr,d.storeJobsheet.product_id]]),d.addErrors.product_id?((0,l.wg)(),(0,l.iD)("div",Xc,(0,p.zw)(d.addErrors.product_id),1)):(0,l.kq)("",!0)])]),(0,l._)("td",eu,[(0,l._)("div",tu,[su,(0,l.wy)((0,l._)("input",{type:"text",class:(0,p.C_)(["form-control text-black",{"is-invalid":d.addErrors.product_name}]),"onUpdate:modelValue":t[6]||(t[6]=e=>d.storeJobsheet.product_name=e),placeholder:"Nhập tên sản phẩm"},null,2),[[a.nr,d.storeJobsheet.product_name]]),d.addErrors.product_name?((0,l.wg)(),(0,l.iD)("div",au,(0,p.zw)(d.addErrors.product_name),1)):(0,l.kq)("",!0)])]),(0,l._)("td",lu,[(0,l._)("div",ou,[du,(0,l.wy)((0,l._)("input",{type:"number",class:(0,p.C_)(["form-control text-black",{"is-invalid":d.addErrors.product_quantity}]),"onUpdate:modelValue":t[7]||(t[7]=e=>d.storeJobsheet.product_quantity=e),placeholder:"Nhập số lượng",min:"1"},null,2),[[a.nr,d.storeJobsheet.product_quantity]]),d.addErrors.product_quantity?((0,l.wg)(),(0,l.iD)("div",ru,(0,p.zw)(d.addErrors.product_quantity),1)):(0,l.kq)("",!0)])])]),(0,l._)("tr",null,[(0,l._)("td",iu,[(0,l._)("div",nu,[cu,(0,l.wy)((0,l._)("select",{class:(0,p.C_)(["form-control form-select text-black",{"is-invalid":d.addErrors.product_unit}]),"onUpdate:modelValue":t[8]||(t[8]=e=>d.storeJobsheet.product_unit=e)},pu,2),[[a.bM,d.storeJobsheet.product_unit]]),d.addErrors.product_unit?((0,l.wg)(),(0,l.iD)("div",mu,(0,p.zw)(d.addErrors.product_unit),1)):(0,l.kq)("",!0)])]),(0,l._)("td",hu,[(0,l._)("div",bu,[gu,(0,l.wy)((0,l._)("select",{class:(0,p.C_)(["form-control form-select text-body",{"is-invalid":d.addErrors.product_type_code}]),"onUpdate:modelValue":t[9]||(t[9]=e=>d.storeJobsheet.product_type_code=e)},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.ProTypes,(e=>((0,l.wg)(),(0,l.iD)("option",{key:e._id,value:e.product_type_code},(0,p.zw)(e.product_type_name),9,vu)))),128)),fu],2),[[a.bM,d.storeJobsheet.product_type_code]])]),d.addErrors.product_type_code?((0,l.wg)(),(0,l.iD)("div",yu,(0,p.zw)(d.addErrors.product_type_code),1)):(0,l.kq)("",!0)]),(0,l._)("td",wu,[(0,l._)("div",ku,[xu,(0,l.wy)((0,l._)("select",{class:(0,p.C_)(["form-control form-select text-body",{"is-invalid":d.addErrors.product_series_code}]),"onUpdate:modelValue":t[10]||(t[10]=e=>d.storeJobsheet.product_series_code=e)},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.ProSeries,(e=>((0,l.wg)(),(0,l.iD)("option",{key:e._id,value:e.product_series_code},"("+(0,p.zw)(e.product_series_code)+") "+(0,p.zw)(e.product_series_name),9,Cu)))),128))],2),[[a.bM,d.storeJobsheet.product_series_code]])]),d.addErrors.product_series_code?((0,l.wg)(),(0,l.iD)("div",Du,(0,p.zw)(d.addErrors.product_series_code),1)):(0,l.kq)("",!0)])]),(0,l._)("tr",null,[(0,l._)("td",Pu,[(0,l._)("div",Mu,[Su,(0,l.wy)((0,l._)("input",{type:"date",class:(0,p.C_)(["form-control text-black",{"is-invalid":d.addErrors.jobsheet_finish_date}]),"onUpdate:modelValue":t[11]||(t[11]=e=>d.storeJobsheet.jobsheet_finish_date=e)},null,2),[[a.nr,d.storeJobsheet.jobsheet_finish_date]]),d.addErrors.jobsheet_finish_date?((0,l.wg)(),(0,l.iD)("div",Eu,(0,p.zw)(d.addErrors.jobsheet_finish_date),1)):(0,l.kq)("",!0)])]),(0,l._)("td",Tu,[(0,l._)("div",zu,[Uu,(0,l.wy)((0,l._)("select",{class:(0,p.C_)(["form-control form-select text-body",{"is-invalid":d.addErrors.production_style}]),"onUpdate:modelValue":t[12]||(t[12]=e=>d.storeJobsheet.production_style=e)},Iu,2),[[a.bM,d.storeJobsheet.production_style]]),d.addErrors.production_style?((0,l.wg)(),(0,l.iD)("div",Lu,(0,p.zw)(d.addErrors.production_style),1)):(0,l.kq)("",!0)])]),(0,l._)("td",Nu,[(0,l._)("div",Ru,[Vu,(0,l.wy)((0,l._)("textarea",{"onUpdate:modelValue":t[13]||(t[13]=e=>d.storeJobsheet.specification=e),class:(0,p.C_)([{"is-invalid":d.addErrors.specification},"form-control text-black"]),name:"example-textarea-input",rows:"3",placeholder:"Nhập quy cách"},null,2),[[a.nr,d.storeJobsheet.specification]]),d.addErrors.specification?((0,l.wg)(),(0,l.iD)("div",Qu,(0,p.zw)(d.addErrors.specification),1)):(0,l.kq)("",!0)])])]),(0,l._)("tr",null,[(0,l._)("td",Ou,[(0,l._)("div",Au,[Ju,(0,l.wy)((0,l._)("textarea",{"onUpdate:modelValue":t[14]||(t[14]=e=>d.storeJobsheet.jobsheet_note=e),class:(0,p.C_)([{"is-invalid":d.addErrors.jobsheet_note},"form-control text-black"]),name:"example-textarea-input",rows:"3",placeholder:"Nhập ghi chú"},null,2),[[a.nr,d.storeJobsheet.jobsheet_note]]),d.addErrors.jobsheet_note?((0,l.wg)(),(0,l.iD)("div",$u,(0,p.zw)(d.addErrors.jobsheet_note),1)):(0,l.kq)("",!0)])])])])])]),d.showSuccessMessage?((0,l.wg)(),(0,l.iD)("div",Gu,(0,p.zw)(d.successMessage),1)):(0,l.kq)("",!0),(0,l._)("div",Wu,[(0,l._)("div",Bu,[(0,l.wy)((0,l._)("input",{class:"form-check-input",type:"checkbox",id:"check1",name:"option1",value:"something","onUpdate:modelValue":t[15]||(t[15]=e=>d.dontCloseModal=e)},null,512),[[a.e8,d.dontCloseModal]]),Yu]),(0,l._)("div",null,[Hu,(0,l._)("button",{class:"btn ripple btn-danger ms-2",onClick:t[16]||(t[16]=e=>r.closeModal("addJobsheetModal","storeJobsheet","addErrors")),type:"button"}," Đóng ")])])],32)])])],512),(0,l._)("div",Ku,[(0,l._)("div",Zu,[(0,l._)("div",Fu,[(0,l._)("div",Xu,[e_,(0,l._)("button",{"aria-label":"Close",class:"btn-close",onClick:t[18]||(t[18]=e=>r.closeModal("updateJobsheetModal","selectedJobsheet","updateErrors")),type:"button"})]),(0,l._)("form",{onSubmit:t[34]||(t[34]=(0,a.iM)(((...e)=>r.updateJobsheet&&r.updateJobsheet(...e)),["prevent"]))},[(0,l._)("div",t_,[(0,l._)("table",s_,[(0,l._)("tbody",null,[(0,l._)("tr",null,[(0,l._)("td",a_,[(0,l._)("div",l_,[o_,(0,l.wy)((0,l._)("input",{type:"text",class:(0,p.C_)(["form-control text-black",{"is-invalid":d.addErrors.user_id}]),"onUpdate:modelValue":t[19]||(t[19]=e=>d.selectedJobsheet.user_id=e),readonly:""},null,2),[[a.nr,d.selectedJobsheet.user_id]]),d.updateErrors.user_id?((0,l.wg)(),(0,l.iD)("div",d_,(0,p.zw)(d.updateErrors.user_id),1)):(0,l.kq)("",!0)])]),(0,l._)("td",r_,[(0,l._)("div",i_,[n_,(0,l.wy)((0,l._)("input",{type:"text",class:(0,p.C_)(["form-control text-black",{"is-invalid":d.updateErrors.jobsheet_create_date}]),"onUpdate:modelValue":t[20]||(t[20]=e=>d.selectedJobsheet.jobsheet_create_date=e),readonly:""},null,2),[[a.nr,d.selectedJobsheet.jobsheet_create_date]]),d.updateErrors.jobsheet_create_date?((0,l.wg)(),(0,l.iD)("div",c_,(0,p.zw)(d.updateErrors.jobsheet_create_date),1)):(0,l.kq)("",!0)])]),(0,l._)("td",u_,[(0,l._)("div",__,[p_,(0,l.wy)((0,l._)("select",{class:(0,p.C_)(["form-control form-select text-body",{"is-invalid":d.updateErrors.proOder}]),"onUpdate:modelValue":t[21]||(t[21]=e=>d.selectedJobsheet.proOder=e)},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.proOders,(e=>((0,l.wg)(),(0,l.iD)("option",{key:e._id,value:e.product_order_No},(0,p.zw)(e.product_order_No),9,m_)))),128)),h_],2),[[a.bM,d.selectedJobsheet.proOder]]),d.updateErrors.proOder?((0,l.wg)(),(0,l.iD)("div",b_,(0,p.zw)(d.updateErrors.proOder),1)):(0,l.kq)("",!0)])]),(0,l._)("td",g_,[(0,l._)("div",v_,[f_,(0,l.wy)((0,l._)("input",{type:"text",class:(0,p.C_)(["form-control text-black",{"is-invalid":d.updateErrors.BOM_code}]),"onUpdate:modelValue":t[22]||(t[22]=e=>d.selectedJobsheet.BOM_code=e),placeholder:"Nhập mã bom"},null,2),[[a.nr,d.selectedJobsheet.BOM_code]]),d.updateErrors.BOM_code?((0,l.wg)(),(0,l.iD)("div",y_,(0,p.zw)(d.updateErrors.BOM_code),1)):(0,l.kq)("",!0)])])]),(0,l._)("tr",null,[(0,l._)("td",w_,[(0,l._)("div",k_,[x_,(0,l.wy)((0,l._)("input",{type:"text",class:(0,p.C_)(["form-control text-black",{"is-invalid":d.updateErrors.product_id}]),"onUpdate:modelValue":t[23]||(t[23]=e=>d.selectedJobsheet.product_id=e),placeholder:"Nhập mã sản phẩm"},null,2),[[a.nr,d.selectedJobsheet.product_id]]),d.updateErrors.product_id?((0,l.wg)(),(0,l.iD)("div",C_,(0,p.zw)(d.updateErrors.product_id),1)):(0,l.kq)("",!0)])]),(0,l._)("td",D_,[(0,l._)("div",P_,[M_,(0,l.wy)((0,l._)("input",{type:"text",class:(0,p.C_)(["form-control text-black",{"is-invalid":d.updateErrors.product_name}]),"onUpdate:modelValue":t[24]||(t[24]=e=>d.selectedJobsheet.product_name=e),placeholder:"Nhập tên sản phẩm"},null,2),[[a.nr,d.selectedJobsheet.product_name]]),d.updateErrors.product_name?((0,l.wg)(),(0,l.iD)("div",S_,(0,p.zw)(d.updateErrors.product_name),1)):(0,l.kq)("",!0)])]),(0,l._)("td",E_,[(0,l._)("div",T_,[z_,(0,l.wy)((0,l._)("input",{type:"number",class:(0,p.C_)(["form-control text-black",{"is-invalid":d.updateErrors.product_quantity}]),"onUpdate:modelValue":t[25]||(t[25]=e=>d.selectedJobsheet.product_quantity=e),placeholder:"Nhập số lượng",min:"1"},null,2),[[a.nr,d.selectedJobsheet.product_quantity]]),d.updateErrors.product_quantity?((0,l.wg)(),(0,l.iD)("div",U_,(0,p.zw)(d.updateErrors.product_quantity),1)):(0,l.kq)("",!0)])])]),(0,l._)("tr",null,[(0,l._)("td",j_,[(0,l._)("div",q_,[I_,(0,l.wy)((0,l._)("select",{class:(0,p.C_)(["form-control form-select text-black",{"is-invalid":d.updateErrors.product_unit}]),"onUpdate:modelValue":t[26]||(t[26]=e=>d.selectedJobsheet.product_unit=e)},R_,2),[[a.bM,d.selectedJobsheet.product_unit]]),d.updateErrors.product_unit?((0,l.wg)(),(0,l.iD)("div",V_,(0,p.zw)(d.updateErrors.product_unit),1)):(0,l.kq)("",!0)])]),(0,l._)("td",Q_,[(0,l._)("div",O_,[A_,(0,l.wy)((0,l._)("select",{class:(0,p.C_)(["form-control form-select text-body",{"is-invalid":d.updateErrors.proTypes}]),"onUpdate:modelValue":t[27]||(t[27]=e=>d.selectedJobsheet.product_type_code=e)},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.ProTypes,(e=>((0,l.wg)(),(0,l.iD)("option",{key:e._id,value:e.product_type_code},(0,p.zw)(e.product_type_name),9,J_)))),128)),$_],2),[[a.bM,d.selectedJobsheet.product_type_code]])]),d.updateErrors.proTypes?((0,l.wg)(),(0,l.iD)("div",G_,(0,p.zw)(d.updateErrors.proTypes),1)):(0,l.kq)("",!0)]),(0,l._)("td",W_,[(0,l._)("div",B_,[Y_,(0,l.wy)((0,l._)("select",{class:(0,p.C_)(["form-control form-select text-body",{"is-invalid":d.updateErrors.proSeries}]),"onUpdate:modelValue":t[28]||(t[28]=e=>d.selectedJobsheet.product_series_code=e)},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.ProSeries,(e=>((0,l.wg)(),(0,l.iD)("option",{key:e._id,value:e.product_series_code},"("+(0,p.zw)(e.product_series_code)+") "+(0,p.zw)(e.product_series_name),9,H_)))),128))],2),[[a.bM,d.selectedJobsheet.product_series_code]])]),d.updateErrors.proSeries?((0,l.wg)(),(0,l.iD)("div",K_,(0,p.zw)(d.updateErrors.proSeries),1)):(0,l.kq)("",!0)])]),(0,l._)("tr",null,[(0,l._)("td",Z_,[(0,l._)("div",F_,[X_,(0,l.wy)((0,l._)("input",{type:"date",class:(0,p.C_)(["form-control text-black",{"is-invalid":d.updateErrors.jobsheet_finish_date}]),"onUpdate:modelValue":t[29]||(t[29]=e=>d.selectedJobsheet.jobsheet_finish_date=e)},null,2),[[a.nr,d.selectedJobsheet.jobsheet_finish_date]]),d.updateErrors.jobsheet_finish_date?((0,l.wg)(),(0,l.iD)("div",ep,(0,p.zw)(d.updateErrors.jobsheet_finish_date),1)):(0,l.kq)("",!0)])]),(0,l._)("td",tp,[(0,l._)("div",sp,[ap,(0,l.wy)((0,l._)("select",{class:(0,p.C_)(["form-control form-select text-body",{"is-invalid":d.updateErrors.production_style}]),"onUpdate:modelValue":t[30]||(t[30]=e=>d.selectedJobsheet.production_style=e)},dp,2),[[a.bM,d.selectedJobsheet.production_style]]),d.updateErrors.production_style?((0,l.wg)(),(0,l.iD)("div",rp,(0,p.zw)(d.updateErrors.production_style),1)):(0,l.kq)("",!0)])]),(0,l._)("td",ip,[(0,l._)("div",np,[cp,(0,l.wy)((0,l._)("textarea",{"onUpdate:modelValue":t[31]||(t[31]=e=>d.selectedJobsheet.specification=e),class:(0,p.C_)([{"is-invalid":d.updateErrors.specification},"form-control text-black"]),name:"example-textarea-input",rows:"3",placeholder:"Nhập quy cách"},null,2),[[a.nr,d.selectedJobsheet.specification]]),d.updateErrors.specification?((0,l.wg)(),(0,l.iD)("div",up,(0,p.zw)(d.updateErrors.specification),1)):(0,l.kq)("",!0)])])]),(0,l._)("tr",null,[(0,l._)("td",_p,[(0,l._)("div",pp,[mp,(0,l.wy)((0,l._)("textarea",{"onUpdate:modelValue":t[32]||(t[32]=e=>d.selectedJobsheet.jobsheet_note=e),class:(0,p.C_)([{"is-invalid":d.updateErrors.jobsheet_note},"form-control text-black"]),name:"example-textarea-input",rows:"3",placeholder:"Nhập ghi chú"},null,2),[[a.nr,d.selectedJobsheet.jobsheet_note]]),d.updateErrors.jobsheet_note?((0,l.wg)(),(0,l.iD)("div",hp,(0,p.zw)(d.updateErrors.jobsheet_note),1)):(0,l.kq)("",!0)])])])])])]),d.showSuccessMessage?((0,l.wg)(),(0,l.iD)("div",bp,(0,p.zw)(d.successMessage),1)):(0,l.kq)("",!0),(0,l._)("div",gp,[(0,l._)("div",null,[vp,(0,l._)("button",{class:"btn ripple btn-danger ms-2",onClick:t[33]||(t[33]=e=>r.closeModal("updateJobsheetModal","selectedJobsheet","updateErrors")),type:"button"}," Đóng ")])])],32)])])],512),(0,l._)("div",fp,[(0,l._)("div",yp,[(0,l._)("div",wp,[(0,l._)("div",kp,[(0,l.Wm)(i,{jobsheetCode:d.jobsheetCode},null,8,["jobsheetCode"])]),(0,l._)("div",xp,[(0,l._)("div",null,[(0,l._)("button",{class:"btn ripple btn-danger ms-2",onClick:t[35]||(t[35]=e=>r.closeModal("ViewProduct")),type:"button"}," Đóng ")])])])])],512),(0,l._)("div",Cp,[(0,l._)("div",Dp,[(0,l._)("div",Pp,[(0,l._)("div",Mp,[(0,l.Wm)(n,{jobsheetCode:d.jobsheetCode},null,8,["jobsheetCode"])]),(0,l._)("div",Sp,[(0,l._)("div",null,[(0,l._)("button",{class:"btn ripple btn-danger ms-2",onClick:t[36]||(t[36]=e=>r.closeModal("ViewSemiProduct")),type:"button"}," Đóng ")])])])])],512)],64)}const Tp={class:"row row-sm"},zp={class:"col-lg-12"},Up={class:"card custom-card"},jp={class:"card-body"},qp={class:"d-flex justify-content-between"},Ip={class:"main-content-label mb-1"},Lp=(0,l._)("p",{class:"text-muted card-sub-title"},null,-1),Np={key:0,class:"fe fe-minus"},Rp={key:1,class:"fe fe-minimize"},Vp={class:"table"},Qp={class:"table"},Op={class:"form-group"},Ap=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Mã lịch SX",-1),Jp={class:"form-group"},$p=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Ngày tạo",-1),Gp={class:"align-top"},Wp={class:"form-group"},Bp=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Lý do",-1),Yp={class:"form-group"},Hp=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Mã sản phẩm",-1),Kp={colspan:"2"},Zp={class:"form-group"},Fp=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Tên sản phẩm",-1),Xp={class:"form-group"},em=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Số lượng",-1),tm={class:"form-group"},sm=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Đơn vị",-1),am={class:"form-group"},lm=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Loại sản xuất",-1),om={class:"align-top"},dm={class:"form-group"},rm=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Mã BOM",-1),im={class:"form-group"},nm=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Quy cách",-1),cm={class:"form-group"},um=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Ghi chú",-1),_m={class:"page-header"},pm={class:"d-flex"},mm={class:"justify-content-center"},hm=["disabled"],bm=(0,l._)("i",{class:"fe fe-download me-2"},null,-1),gm=["disabled"],vm=(0,l._)("i",{class:"fe fe-download me-2"},null,-1),fm=["disabled"],ym=(0,l._)("i",{class:"fe fe-download me-2"},null,-1),wm=["disabled"],km=(0,l._)("i",{class:"fe fe-download me-2"},null,-1),xm=["disabled"],Cm=(0,l._)("i",{class:"fe fe-download me-2"},null,-1),Dm=["disabled"],Pm=(0,l._)("i",{class:"fe fe-download me-2"},null,-1),Mm={class:"row row-sm"},Sm={class:"col-lg-12"},Em={class:"card custom-card"},Tm={class:"card-body"},zm=(0,l._)("div",null,[(0,l._)("h6",{class:"main-content-label mb-1"},"Danh sách sản phẩm trong lịch sản xuất"),(0,l._)("p",{class:"text-muted card-sub-title"})],-1),Um={class:"table-responsive"},jm={class:"table table-bordered",id:"productTB"},qm=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",null,"Chọn"),(0,l._)("th",null,"STT"),(0,l._)("th",null,"Số lot"),(0,l._)("th",null,"Số serial"),(0,l._)("th",null,"Board lắp vào"),(0,l._)("th",null,"Trạng thái"),(0,l._)("th",null,"Kết quả"),(0,l._)("th",null,"Ghi chú")])],-1),Im=["value","disabled"],Lm=["onClick"],Nm=(0,l._)("td",null,null,-1),Rm={class:"modal fade",id:"quality_control_modal",ref:"QualityControlModal"},Vm={class:"modal-dialog modal-xl",role:"document"},Qm={class:"modal-content modal-content-demo"},Om=(0,l._)("div",{class:"modal-header"},[(0,l._)("h6",{class:"modal-title"},"Phiếu yêu cầu kiểm tra"),(0,l._)("button",{"aria-label":"Close",class:"btn-close","data-bs-dismiss":"modal",type:"button"})],-1),Am={class:"modal-body"},Jm={class:"table"},$m={class:"align-top"},Gm={class:"form-group"},Wm=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Người tạo",-1),Bm=(0,l._)("div",{class:"invalid-feedback mt-2"},null,-1),Ym={class:"align-top"},Hm={class:"form-group"},Km=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Ngày tạo",-1),Zm={class:"align-top"},Fm={class:"form-group"},Xm=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Loại kiểm tra",-1),eh=(0,l._)("option",{value:"T"},"Test",-1),th=(0,l._)("option",{value:"R"},"Retest",-1),sh=[eh,th],ah={class:"align-top"},lh={class:"form-group"},oh=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Bộ phận yêu cầu",-1),dh=["value"],rh={class:"align-top"},ih={class:"form-group"},nh=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Loại sản phẩm",-1),ch=(0,l._)("option",{value:"P"},"Thành phẩm",-1),uh=(0,l._)("option",{value:"S"},"Bán thành phẩm",-1),_h=(0,l._)("option",{value:"M"},"Nguyên vật liệu",-1),ph=[ch,uh,_h],mh={class:"align-top"},hh={class:"form-group"},bh=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Nhóm sản phẩm",-1),gh=["value"],vh={class:"align-top",colspan:"2"},fh={class:"form-group"},yh=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Quy cách Test",-1),wh=(0,l._)("div",{class:"invalid-feedback mt-2"},null,-1),kh={class:"align-top",colspan:"2"},xh={class:"form-group"},Ch=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Ghi chú",-1),Dh=(0,l._)("div",{class:"invalid-feedback mt-2"},null,-1),Ph={class:"modal-footer"},Mh={class:"modal fade",id:"product_info",ref:"semiProductInfo"},Sh={class:"modal-dialog modal-xl",role:"document"},Eh={class:"modal-content modal-content-demo",style:{"box-shadow":"rgba(0, 0, 0, 0.5) 0px 4px 100px"}},Th=(0,l._)("div",{class:"modal-header"},[(0,l._)("h6",{class:"modal-title"},"Thông tin chi tiết"),(0,l._)("button",{"aria-label":"Close",class:"btn-close","data-bs-dismiss":"modal",type:"button"})],-1),zh={class:"modal-body"},Uh={class:"table"},jh={class:"form-group"},qh=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Mã LSX",-1),Ih={class:"form-group"},Lh=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Mã sản phẩm",-1),Nh={class:"form-group"},Rh=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Tên sản phẩm",-1),Vh={class:"form-group"},Qh=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Số Lot Board",-1),Oh={class:"form-group"},Ah=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Trạng Thái",-1),Jh={class:"form-group"},$h=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Nhân viên sản xuất",-1),Gh={class:"form-group"},Wh=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Ngày hoàn thành",-1),Bh={class:"form-group"},Yh=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Kết quả kiểm tra",-1),Hh={key:1,class:"bage bg-pill bg-danger"},Kh={class:"form-group"},Zh=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Ngày kiểm tra",-1),Fh={key:0},Xh={key:1,class:"bage bg-pill bg-danger"},eb={class:"form-group"},tb=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Số phiếu/Người kiểm tra",-1),sb={key:0},ab={key:1,class:"bage bg-pill bg-danger"},lb={class:"table"},ob=(0,l._)("tr",{class:"fw-bold"}," THÔNG TIN BOARD LẮP VÀO",-1),db={class:"form-group"},rb=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Mã BTP",-1),ib={class:"form-group"},nb=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Tên BTP",-1),cb={class:"form-group"},ub=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Số Lot BTP",-1),_b={class:"modal-footer"};function pb(e,t,s,o,d,r){return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",Tp,[(0,l._)("div",zp,[(0,l._)("div",Up,[(0,l._)("div",jp,[(0,l._)("div",qp,[(0,l._)("div",null,[(0,l._)("h6",Ip,"Lịch sản xuất "+(0,p.zw)(s.jobsheetCode),1),Lp]),(0,l._)("div",null,[(0,l._)("button",{class:"btn",onClick:t[0]||(t[0]=(...e)=>r.toggleTable&&r.toggleTable(...e))},[d.isTableExpanded?((0,l.wg)(),(0,l.iD)("i",Np)):((0,l.wg)(),(0,l.iD)("i",Rp))])])]),(0,l.wy)((0,l._)("div",Vp,[(0,l._)("table",Qp,[(0,l._)("tbody",null,[(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",Op,[Ap,(0,l._)("span",null,(0,p.zw)(d.jobsheets.jobsheet_code),1)])]),(0,l._)("td",null,[(0,l._)("div",Jp,[$p,(0,l._)("span",null,(0,p.zw)(d.jobsheets.jobsheet_create_date),1)])]),(0,l._)("td",Gp,[(0,l._)("div",Wp,[Bp,(0,l._)("span",null,(0,p.zw)(d.jobsheets.production_order_code),1)])]),(0,l._)("td",null,[(0,l._)("div",Yp,[Hp,(0,l._)("span",null,(0,p.zw)(d.jobsheets.product_id),1)])]),(0,l._)("td",Kp,[(0,l._)("div",Zp,[Fp,(0,l._)("span",null,(0,p.zw)(d.jobsheets.product_name),1)])])]),(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",Xp,[em,(0,l._)("span",null,(0,p.zw)(d.jobsheets.product_quantity),1)])]),(0,l._)("td",null,[(0,l._)("div",tm,[sm,(0,l._)("span",null,(0,p.zw)(d.jobsheets.product_unit),1)])]),(0,l._)("td",null,[(0,l._)("div",am,[lm,(0,l._)("span",null,(0,p.zw)(d.jobsheets.product_type_code),1)])]),(0,l._)("td",om,[(0,l._)("div",dm,[rm,(0,l._)("span",null,(0,p.zw)(d.jobsheets.BOM_code),1)])]),(0,l._)("td",null,[(0,l._)("div",im,[nm,(0,l._)("span",null,(0,p.zw)(d.jobsheets.specification),1)])]),(0,l._)("td",null,[(0,l._)("div",cm,[um,(0,l._)("span",null,(0,p.zw)(d.jobsheets.jobsheet_note),1)])])])])])],512),[[a.F8,d.isTableExpanded]])])])])]),(0,l._)("div",_m,[(0,l._)("div",pm,[(0,l._)("div",mm,[(0,l._)("button",{onClick:t[1]||(t[1]=(...e)=>r.exportMaterial&&r.exportMaterial(...e)),class:"btn btn-primary btn-rounded btn-icon-text my-2 me-2",disabled:!r.checkAction(0)},[bm,(0,l.Uk)(" Yêu cầu xuất kho ")],8,hm),(0,l._)("button",{onClick:t[2]||(t[2]=(...e)=>r.confirmExportMaterial&&r.confirmExportMaterial(...e)),class:"btn btn-primary btn-rounded btn-icon-text my-2 me-2",disabled:!r.checkAction(1)},[vm,(0,l.Uk)(" Xuất kho ")],8,gm),(0,l._)("button",{onClick:t[3]||(t[3]=(...e)=>r.assemblyRequest&&r.assemblyRequest(...e)),class:"btn btn-primary btn-rounded btn-icon-text my-2 me-2",disabled:!r.checkAction(2)},[ym,(0,l.Uk)("Yêu cầu sản xuất ")],8,fm),(0,l._)("button",{onClick:t[4]||(t[4]=(...e)=>r.checkExist&&r.checkExist(...e)),class:"btn btn-primary btn-rounded btn-icon-text my-2 me-2",disabled:!r.checkAction(5)},[km,(0,l.Uk)(" Yêu cầu kiểm tra ")],8,wm),(0,l._)("button",{onClick:t[5]||(t[5]=(...e)=>r.warehoustRequest&&r.warehoustRequest(...e)),class:"btn btn-primary btn-rounded btn-icon-text my-2 me-2",disabled:!r.checkAction(7)},[Cm,(0,l.Uk)(" Yêu cầu nhập kho ")],8,xm),(0,l._)("button",{onClick:t[6]||(t[6]=(...e)=>r.confirmWarehouse&&r.confirmWarehouse(...e)),class:"btn btn-primary btn-rounded btn-icon-text my-2 me-2",disabled:!r.checkAction(8)},[Pm,(0,l.Uk)(" Nhập kho ")],8,Dm)])])]),(0,l._)("div",Mm,[(0,l._)("div",Sm,[(0,l._)("div",Em,[(0,l._)("div",Tm,[zm,(0,l._)("div",Um,[(0,l._)("table",jm,[qm,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.products,((s,o)=>((0,l.wg)(),(0,l.iD)("tr",{key:s._id},[(0,l._)("td",null,[(0,l.wy)((0,l._)("input",{type:"checkbox","onUpdate:modelValue":t[7]||(t[7]=e=>d.selectedRows=e),value:s,onChange:t[8]||(t[8]=e=>r.checkStatus()),disabled:9==s.product_status||10==s.product_status},null,40,Im),[[a.e8,d.selectedRows]])]),(0,l._)("td",null,(0,p.zw)(o+1),1),(0,l._)("td",null,(0,p.zw)(s.product_code),1),(0,l._)("td",null,(0,p.zw)(s.product_serial)+" "+(0,p.zw)(e.name),1),(0,l._)("td",null,[(0,l._)("div",{class:"tooltip1",onClick:e=>r.viewDetail("product_info",s)},(0,p.zw)(s.semi_product_lot),9,Lm)]),(0,l._)("td",null,[(0,l._)("span",{class:(0,p.C_)(["badge bg-pill",r.getStatus(s.product_status)])},(0,p.zw)(r.productStatus(s.product_status)),3)]),(0,l._)("td",null,[s.product_result?((0,l.wg)(),(0,l.iD)("span",{key:0,class:(0,p.C_)(["badge bg-pill",r.getResult(s.product_result)])},(0,p.zw)(r.ResultShow(s.product_result)),3)):(0,l.kq)("",!0)]),Nm])))),128))])])])])])])]),(0,l._)("div",Rm,[(0,l._)("div",Vm,[(0,l._)("div",Qm,[Om,(0,l._)("div",Am,[(0,l._)("table",Jm,[(0,l._)("tbody",null,[(0,l._)("tr",null,[(0,l._)("td",$m,[(0,l._)("div",Gm,[Wm,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control text-black","onUpdate:modelValue":t[9]||(t[9]=e=>d.QC.user_id=e),readonly:""},null,512),[[a.nr,d.QC.user_id]]),Bm])]),(0,l._)("td",Ym,[(0,l._)("div",Hm,[Km,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control text-black","onUpdate:modelValue":t[10]||(t[10]=e=>d.QC.quality_control_create_date=e),readonly:""},null,512),[[a.nr,d.QC.quality_control_create_date]])])]),(0,l._)("td",Zm,[(0,l._)("div",Fm,[Xm,(0,l.wy)((0,l._)("select",{class:"form-control form-select text-body","onUpdate:modelValue":t[11]||(t[11]=e=>d.QC.type_quality_control=e)},sh,512),[[a.bM,d.QC.type_quality_control]])])])]),(0,l._)("tr",null,[(0,l._)("td",ah,[(0,l._)("div",lh,[oh,(0,l.wy)((0,l._)("select",{class:"form-control form-select text-body","onUpdate:modelValue":t[12]||(t[12]=e=>d.QC.deparment=e)},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.departments,((e,t)=>((0,l.wg)(),(0,l.iD)("option",{key:e.department_code,value:e.department_code},(0,p.zw)(e.department_name),9,dh)))),128))],512),[[a.bM,d.QC.deparment]])])]),(0,l._)("td",rh,[(0,l._)("div",ih,[nh,(0,l.wy)((0,l._)("select",{class:"form-control form-select text-body","onUpdate:modelValue":t[13]||(t[13]=e=>d.QC.type_product_to_check=e)},ph,512),[[a.bM,d.QC.type_product_to_check]])])]),(0,l._)("td",mh,[(0,l._)("div",hh,[bh,(0,l.wy)((0,l._)("select",{class:"form-control form-select text-body","onUpdate:modelValue":t[14]||(t[14]=e=>d.QC.type_product_group=e)},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.productGroups,((e,t)=>((0,l.wg)(),(0,l.iD)("option",{key:e.product_group_code,value:e.product_group_code}," ("+(0,p.zw)(e.product_group_code)+") "+(0,p.zw)(e.product_group_name),9,gh)))),128))],512),[[a.bM,d.QC.type_product_group]])])])]),(0,l._)("tr",null,[(0,l._)("td",vh,[(0,l._)("div",fh,[yh,(0,l.wy)((0,l._)("textarea",{class:"form-control text-black","onUpdate:modelValue":t[15]||(t[15]=e=>d.QC.quality_control_specification=e),rows:"5",placeholder:"Nhập quy cách test"},null,512),[[a.nr,d.QC.quality_control_specification]]),wh])]),(0,l._)("td",kh,[(0,l._)("div",xh,[Ch,(0,l.wy)((0,l._)("textarea",{class:"form-control text-black","onUpdate:modelValue":t[16]||(t[16]=e=>d.QC.quality_control_note=e),rows:"5",placeholder:"Nhập ghi chú"},null,512),[[a.nr,d.QC.quality_control_note]]),Dh])])])])])]),(0,l._)("div",Ph,[(0,l._)("div",null,[(0,l._)("button",{class:"btn ripple btn-primary",onClick:t[17]||(t[17]=(...e)=>r.qualityCheck&&r.qualityCheck(...e))},"Lưu"),(0,l._)("button",{class:"btn ripple btn-danger ms-2",onClick:t[18]||(t[18]=e=>r.closeModal("QualityControlModal","QC","updateErrors")),type:"button"}," Đóng ")])])])])],512),(0,l._)("div",Mh,[(0,l._)("div",Sh,[(0,l._)("div",Eh,[Th,(0,l._)("div",zh,[(0,l._)("table",Uh,[(0,l._)("tbody",null,[(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",jh,[qh,(0,l._)("span",null,(0,p.zw)(d.detailInfo.jobsheet_code),1)])]),(0,l._)("td",null,[(0,l._)("div",Ih,[Lh,(0,l._)("span",null,(0,p.zw)(d.detailInfo.product_id),1)])]),(0,l._)("td",null,[(0,l._)("div",Nh,[Rh,(0,l._)("span",null,(0,p.zw)(d.detailInfo.product_name),1)])]),(0,l._)("td",null,[(0,l._)("div",Vh,[Qh,(0,l._)("span",null,(0,p.zw)(d.detailInfo.product_code),1)])]),(0,l._)("td",null,[(0,l._)("div",Oh,[Ah,(0,l._)("span",{class:(0,p.C_)(["badge bg-pill",r.getStatus(d.detailInfo.product_status)])},(0,p.zw)(r.productStatus(d.detailInfo.product_status)),3)])])]),(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",Jh,[$h,(0,l._)("span",null,(0,p.zw)(d.detailInfo.product_assembler),1)])]),(0,l._)("td",null,[(0,l._)("div",Gh,[Wh,(0,l._)("span",null,(0,p.zw)(d.detailInfo.product_assembly_date),1)])]),(0,l._)("td",null,[(0,l._)("div",Bh,[Yh,d.detailInfo.product_result?((0,l.wg)(),(0,l.iD)("span",{key:0,class:(0,p.C_)(["badge bg-pill",r.getResult(d.detailInfo.product_result)])},(0,p.zw)(r.ResultShow(d.detailInfo.product_result)),3)):((0,l.wg)(),(0,l.iD)("span",Hh,"N/A"))])]),(0,l._)("td",null,[(0,l._)("div",Kh,[Zh,d.detailInfo.product_test_date?((0,l.wg)(),(0,l.iD)("span",Fh,(0,p.zw)(d.detailInfo.product_test_date),1)):((0,l.wg)(),(0,l.iD)("span",Xh,"N/A"))])]),(0,l._)("td",null,[(0,l._)("div",eb,[tb,d.detailInfo.product_tester?((0,l.wg)(),(0,l.iD)("span",sb,(0,p.zw)(d.detailInfo.product_tester),1)):((0,l.wg)(),(0,l.iD)("span",ab,"N/A"))])])])])]),(0,l._)("table",lb,[(0,l._)("tbody",null,[ob,(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",db,[rb,(0,l._)("span",null,(0,p.zw)(d.detailInfo.SemiproductInfo?d.detailInfo.SemiproductInfo[0].semi_product_code:""),1)])]),(0,l._)("td",null,[(0,l._)("div",ib,[nb,(0,l._)("span",null,(0,p.zw)(d.detailInfo.SemiproductInfo?d.detailInfo.SemiproductInfo[0].semi_product_name:""),1)])]),(0,l._)("td",null,[(0,l._)("div",cb,[ub,(0,l._)("span",null,(0,p.zw)(d.detailInfo.SemiproductInfo?d.detailInfo.SemiproductInfo[0].semi_product_lot:""),1)])])])])])]),(0,l._)("div",_b,[(0,l._)("button",{class:"btn ripple btn-danger ms-2",onClick:t[19]||(t[19]=e=>r.closeModal("semiProductInfo")),type:"button"}," Đóng ")])])])],512)],64)}var mb={props:["jobsheetCode"],data(){return{selectedProductCode:[],selectedRows:[],products:[],QC:[],productGroups:[],departments:[],isQC:null,jobsheets:[],isTableExpanded:!0,detailInfo:[]}},watch:{jobsheetCode(){this.getProducts()}},mounted(){this.getProducts()},methods:{toggleTable(){this.isTableExpanded=!this.isTableExpanded},loadtable(){this.$nextTick((()=>{nt.initializeDataTable("#productTB")}))},getProducts(){null!=this.jobsheetCode&&va.getData(`jobsheet/showDetailJobSheet/${this.jobsheetCode}`).then((e=>{this.jobsheets=e.data.data[0],this.products=e.data.data[0].dataProduct,this.productGroups=e.data.getProductGroup,this.departments=e.data.getDepartment,this.isQC=e.data._isCheckQuantityControl,this.loadtable()})).catch((e=>{console.log(e)}))},getStatus(e){switch(e){case"0":return"bg-primary-light";case"1":return"bg-success-light";case"2":return"bg-success-light";case"3":return"bg-success-light";case"4":return"bg-success-light";case"5":return"bg-success-light";case"6":return"bg-success-light";case"7":return"bg-success-light";case"8":return"bg-success-light";case"9":return"bg-success-light";case"10":return"bg-danger-light";default:return"bg-danger-light"}},productStatus(e){switch(parseInt(e)){case 0:return"Mới tạo";case 1:return"Đã yêu cầu xuất kho";case 2:return"Đã xuất kho";case 3:return"Đã yêu cầu sản xuất";case 4:return"Đang sản xuất";case 5:return"Hoàn thành";case 6:return"Đã gửi yêu cầu kiểm tra";case 7:return"Đã kiểm tra";case 8:return"Đã gửi yêu cầu nhập kho";case 9:return"Đã nhập kho";case 10:return"Đã hủy";default:return"Không rõ"}},exportMaterial(e){const t={jobsheetCode:this.jobsheetCode,arrayProductID:this.selectedProductCode};nt.confirmDelete((()=>{va.putData("jobsheet/OrderExportMaterialsJobSheet",t).then((e=>{200==e.data.status&&(nt.showSuccessAlert("Đã yêu cầu xuất kho"),this.getProducts(),this.selectedRows.splice(0,this.selectedRows.length))})).catch((e=>{console.log(e)}))}),"Bạn chắc chắn muốn yêu cầu xuất kho?")},confirmExportMaterial(e){const t={jobsheetCode:this.jobsheetCode,arrayProductID:this.selectedProductCode};nt.confirmDelete((()=>{va.putData("jobsheet/ExportMaterialsJobSheet",t).then((e=>{200==e.data.status&&(nt.showSuccessAlert("Đã xuất kho"),this.getProducts(),this.selectedRows.splice(0,this.selectedRows.length))})).catch((e=>{console.log(e)}))}),"Bạn chắc chắn muốn yêu cầu xuất kho?")},assemblyRequest(e){const t={jobsheetCode:this.jobsheetCode,arrayProductID:this.selectedProductCode};nt.confirmDelete((()=>{va.putData("jobsheet/OrderProductJobSheet",t).then((e=>{200==e.data.status&&(nt.showSuccessAlert("Đã xuất kho"),this.getProducts(),this.selectedRows.splice(0,this.selectedRows.length)),console.log(e)})).catch((e=>{console.log(e)}))}),"Bạn chắc chắn muốn yêu cầu xuất kho?")},warehoustRequest(){const e={jobsheetCode:this.jobsheetCode,arrayProductID:this.selectedProductCode};nt.confirmDelete((()=>{va.putData("jobsheet/OrderStoreJobSheet",e).then((e=>{200==e.data.status&&(nt.showSuccessAlert("Đã gửi yêu cầu nhập kho"),this.getProducts(),this.selectedRows.splice(0,this.selectedRows.length))})).catch((e=>{console.log(e)}))}),"Bạn chắc chắn muốn gửi yêu cầu nhập kho?")},confirmWarehouse(){const e={jobsheetCode:this.jobsheetCode,arrayProductID:this.selectedProductCode};nt.confirmDelete((()=>{va.putData("jobsheet/StoreWarehouseJobSheet",e).then((e=>{200==e.data.status&&(nt.showSuccessAlert("Đã nhập kho"),this.getProducts(),this.selectedRows.splice(0,this.selectedRows.length))})).catch((e=>{console.log(e)}))}),"Nhập kho sản phẩm?")},checkExist(){if(0==this.isQC){const e=this.$refs.QualityControlModal;$(e).modal("show");const t=JSON.parse(sessionStorage.getItem("userLogin"));this.QC.user_id=t.fullname,this.QC.quality_control_create_date=(0,st.Z)(new Date,"dd/MM/yyyy")}else this.qualityCheck()},qualityCheck(){const e={jobsheetCode:this.jobsheetCode,arrayProductID:this.selectedProductCode,fullname:this.QC.user_id,type_quality_control:this.QC.type_quality_control,type_product_to_check:this.QC.type_product_to_check,department:this.QC.deparment,type_product_group:this.QC.type_product_group,quality_control_specification:this.QC.quality_control_specification,quality_control_note:this.QC.quality_control_note};va.putData("jobsheet/OrderQCJobSheet",e).then((e=>{200==e.data.status&&(nt.showSuccessAlert("Đã gửi yêu cầu kiểm tra"),this.getProducts(),this.closeModal("QualityControlModal","QC","updateErrors"),this.selectedRows.splice(0,this.selectedRows.length))})).catch((e=>{console.log(e)}))},closeModal(e,t,s){const a=this.$refs[e];$(a).modal("hide"),this[t]={},this[s]={}},getResult(e){switch(e){case"0":return"bg-danger-light";case"1":return"bg-success-light";default:return"bg-danger-light"}},ResultShow(e){switch(parseInt(e)){case 0:return"FAIL";case 1:return"PASS";default:return"Không rõ"}},checkStatus(){this.selectedProductCode=[];for(let e=0;e<this.selectedRows.length;e++)this.selectedProductCode.push(this.selectedRows[e].product_code)},checkAction(e){if(this.selectedRows.length<1)return!1;for(let t=0;t<this.selectedRows.length;t++){if(this.selectedRows[0].product_status!=this.selectedRows[t].product_status)return!1;if(this.selectedRows[t].product_status!=e)return!1;if(7==this.selectedRows[t].product_status&&1!=this.selectedRows[t].product_result)return!1}return!0},viewDetail(e,t){$(`#${e}`).modal("show"),this.detailInfo=t}}};const hb=(0,r.Z)(mb,[["render",pb]]);var bb=hb;const gb={class:"row row-sm"},vb={class:"col-lg-12"},fb={class:"card custom-card"},yb={class:"card-body"},wb={class:"d-flex justify-content-between"},kb=(0,l._)("div",null,[(0,l._)("h6",{class:"main-content-label mb-1"},"Lịch sản xuất"),(0,l._)("p",{class:"text-muted card-sub-title"})],-1),xb={key:0,class:"fe fe-minus"},Cb={key:1,class:"fe fe-minimize"},Db={class:"table-responsive"},Pb={class:"table"},Mb={class:"form-group"},Sb=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Mã lịch SX",-1),Eb={class:"form-group"},Tb=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Ngày tạo",-1),zb={class:"align-top"},Ub={class:"form-group"},jb=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Lý do",-1),qb={class:"form-group"},Ib=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Mã sản phẩm",-1),Lb={colspan:"2"},Nb={class:"form-group"},Rb=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Tên sản phẩm",-1),Vb={class:"form-group"},Qb=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Số lượng",-1),Ob={class:"form-group"},Ab=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Đơn vị",-1),Jb={class:"form-group"},$b=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Loại sản xuất",-1),Gb={class:"align-top"},Wb={class:"form-group"},Bb=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Mã BOM",-1),Yb={class:"form-group"},Hb=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Quy cách",-1),Kb={class:"form-group"},Zb=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Ghi chú",-1),Fb={class:"page-header"},Xb={class:"d-flex"},eg={class:"justify-content-center"},tg=["disabled"],sg=(0,l._)("i",{class:"fe fe-download me-2"},null,-1),ag=["disabled"],lg=(0,l._)("i",{class:"fe fe-download me-2"},null,-1),og=["disabled"],dg=(0,l._)("i",{class:"fe fe-download me-2"},null,-1),rg=["disabled"],ig=(0,l._)("i",{class:"fe fe-download me-2"},null,-1),ng=["disabled"],cg=(0,l._)("i",{class:"fe fe-download me-2"},null,-1),ug=["disabled"],_g=(0,l._)("i",{class:"fe fe-download me-2"},null,-1),pg={class:"row row-sm"},mg={class:"col-lg-12"},hg={class:"card custom-card"},bg={class:"card-body"},gg=(0,l._)("div",null,[(0,l._)("h6",{class:"main-content-label mb-1"},"Danh sách sản phẩm trong lịch sản xuất"),(0,l._)("p",{class:"text-muted card-sub-title"})],-1),vg={class:"table-responsive"},fg={class:"table table-bordered",id:"semiProductTB"},yg=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",null,"Chọn"),(0,l._)("th",null,"STT"),(0,l._)("th",null,"Số lot"),(0,l._)("th",null,"Số SIM/E-SIM"),(0,l._)("th",null,"Trạng thái"),(0,l._)("th",null,"Kết quả"),(0,l._)("th",null,"Ghi chú")])],-1),wg=["value","disabled"],kg=["onClick"],xg={class:"modal fade",id:"quality_control_modal",ref:"QualityControlModal"},Cg={class:"modal-dialog modal-xl",role:"document"},Dg={class:"modal-content modal-content-demo"},Pg=(0,l._)("div",{class:"modal-header"},[(0,l._)("h6",{class:"modal-title"},"Phiếu yêu cầu kiểm tra"),(0,l._)("button",{"aria-label":"Close",class:"btn-close","data-bs-dismiss":"modal",type:"button"})],-1),Mg={class:"modal-body"},Sg={class:"table"},Eg={class:"align-top"},Tg={class:"form-group"},zg=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Người tạo",-1),Ug=(0,l._)("div",{class:"invalid-feedback mt-2"},null,-1),jg={class:"align-top"},qg={class:"form-group"},Ig=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Ngày tạo",-1),Lg={class:"align-top"},Ng={class:"form-group"},Rg=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Loại kiểm tra",-1),Vg=(0,l._)("option",{value:"T"},"Test",-1),Qg=(0,l._)("option",{value:"R"},"Retest",-1),Og=[Vg,Qg],Ag={class:"align-top"},Jg={class:"form-group"},$g=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Bộ phận yêu cầu",-1),Gg=["value"],Wg={class:"align-top"},Bg={class:"form-group"},Yg=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Loại sản phẩm",-1),Hg=(0,l._)("option",{value:"P"},"Thành phẩm",-1),Kg=(0,l._)("option",{value:"S"},"Bán thành phẩm",-1),Zg=(0,l._)("option",{value:"M"},"Nguyên vật liệu",-1),Fg=[Hg,Kg,Zg],Xg={class:"align-top"},ev={class:"form-group"},tv=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Nhóm sản phẩm",-1),sv=["value"],av={class:"align-top",colspan:"2"},lv={class:"form-group"},ov=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Quy cách Test",-1),dv=(0,l._)("div",{class:"invalid-feedback mt-2"},null,-1),rv={class:"align-top",colspan:"2"},iv={class:"form-group"},nv=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Ghi chú",-1),cv=(0,l._)("div",{class:"invalid-feedback mt-2"},null,-1),uv={class:"modal-footer"},_v={class:"modal fade",id:"semi_product_info",ref:"semiProductInfo"},pv={class:"modal-dialog modal-xl",role:"document"},mv={class:"modal-content modal-content-demo",style:{"box-shadow":"rgba(0, 0, 0, 0.5) 0px 4px 100px"}},hv=(0,l._)("div",{class:"modal-header"},[(0,l._)("h6",{class:"modal-title"},"Thông tin chi tiết"),(0,l._)("button",{"aria-label":"Close",class:"btn-close","data-bs-dismiss":"modal",type:"button"})],-1),bv={class:"modal-body"},gv={class:"table"},vv={class:"form-group"},fv=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Mã LSX",-1),yv={class:"form-group"},wv=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Mã sản phẩm",-1),kv={class:"form-group"},xv=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Tên sản phẩm",-1),Cv={class:"form-group"},Dv=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Số Lot Board",-1),Pv={class:"form-group"},Mv=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Trạng Thái",-1),Sv={class:"form-group"},Ev=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Nhân viên sản xuất",-1),Tv={class:"form-group"},zv=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Ngày hoàn thành",-1),Uv={class:"form-group"},jv=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Kết quả kiểm tra",-1),qv={class:"form-group"},Iv=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Ngày kiểm tra",-1),Lv={class:"form-group"},Nv=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Số phiếu/Người kiểm tra",-1),Rv={class:"form-group"},Vv=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Số SIM/E-SIM",-1),Qv={class:"form-group"},Ov=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Gói Cước",-1),Av={class:"form-group"},Jv=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Ngày kích hoạt",-1),$v={class:"form-group"},Gv=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Ngày hết hạn",-1),Wv={class:"form-group"},Bv=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Loại",-1),Yv={class:"modal-footer"};function Hv(e,t,s,o,d,r){return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",gb,[(0,l._)("div",vb,[(0,l._)("div",fb,[(0,l._)("div",yb,[(0,l._)("div",wb,[kb,(0,l._)("div",null,[(0,l._)("button",{class:"btn",onClick:t[0]||(t[0]=(...e)=>r.toggleTable&&r.toggleTable(...e))},[d.isTableExpanded?((0,l.wg)(),(0,l.iD)("i",xb)):((0,l.wg)(),(0,l.iD)("i",Cb))])])]),(0,l.wy)((0,l._)("div",Db,[(0,l._)("table",Pb,[(0,l._)("tbody",null,[(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",Mb,[Sb,(0,l._)("span",null,(0,p.zw)(d.jobsheets.jobsheet_code),1)])]),(0,l._)("td",null,[(0,l._)("div",Eb,[Tb,(0,l._)("span",null,(0,p.zw)(d.jobsheets.jobsheet_create_date),1)])]),(0,l._)("td",zb,[(0,l._)("div",Ub,[jb,(0,l._)("span",null,(0,p.zw)(d.jobsheets.production_order_code),1)])]),(0,l._)("td",null,[(0,l._)("div",qb,[Ib,(0,l._)("span",null,(0,p.zw)(d.jobsheets.product_id),1)])]),(0,l._)("td",Lb,[(0,l._)("div",Nb,[Rb,(0,l._)("span",null,(0,p.zw)(d.jobsheets.product_name),1)])])]),(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",Vb,[Qb,(0,l._)("span",null,(0,p.zw)(d.jobsheets.product_quantity),1)])]),(0,l._)("td",null,[(0,l._)("div",Ob,[Ab,(0,l._)("span",null,(0,p.zw)(d.jobsheets.product_unit),1)])]),(0,l._)("td",null,[(0,l._)("div",Jb,[$b,(0,l._)("span",null,(0,p.zw)(d.jobsheets.product_type_code),1)])]),(0,l._)("td",Gb,[(0,l._)("div",Wb,[Bb,(0,l._)("span",null,(0,p.zw)(d.jobsheets.BOM_code),1)])]),(0,l._)("td",null,[(0,l._)("div",Yb,[Hb,(0,l._)("span",null,(0,p.zw)(d.jobsheets.specification),1)])]),(0,l._)("td",null,[(0,l._)("div",Kb,[Zb,(0,l._)("span",null,(0,p.zw)(d.jobsheets.jobsheet_note),1)])])])])])],512),[[a.F8,d.isTableExpanded]])])])])]),(0,l._)("div",Fb,[(0,l._)("div",Xb,[(0,l._)("div",eg,[(0,l._)("button",{onClick:t[1]||(t[1]=(...e)=>r.exportMaterial&&r.exportMaterial(...e)),class:"btn btn-primary btn-rounded btn-icon-text my-2 me-2",disabled:!r.checkAction(0)},[sg,(0,l.Uk)(" Yêu cầu xuất kho ")],8,tg),(0,l._)("button",{onClick:t[2]||(t[2]=(...e)=>r.confirmExportMaterial&&r.confirmExportMaterial(...e)),class:"btn btn-primary btn-rounded btn-icon-text my-2 me-2",disabled:!r.checkAction(1)},[lg,(0,l.Uk)(" Xuất kho ")],8,ag),(0,l._)("button",{onClick:t[3]||(t[3]=(...e)=>r.weldingRequest&&r.weldingRequest(...e)),class:"btn btn-primary btn-rounded btn-icon-text my-2 me-2",disabled:!r.checkAction(2)},[dg,(0,l.Uk)("Yêu cầu sản xuất ")],8,og),(0,l._)("button",{onClick:t[4]||(t[4]=(...e)=>r.checkExist&&r.checkExist(...e)),class:"btn btn-primary btn-rounded btn-icon-text my-2 me-2",disabled:!r.checkAction(5)},[ig,(0,l.Uk)(" Yêu cầu kiểm tra ")],8,rg),(0,l._)("button",{onClick:t[5]||(t[5]=(...e)=>r.warehoustRequest&&r.warehoustRequest(...e)),class:"btn btn-primary btn-rounded btn-icon-text my-2 me-2",disabled:!r.checkAction(7)},[cg,(0,l.Uk)(" Yêu cầu nhập kho ")],8,ng),(0,l._)("button",{onClick:t[6]||(t[6]=(...e)=>r.confirmWarehouse&&r.confirmWarehouse(...e)),class:"btn btn-primary btn-rounded btn-icon-text my-2 me-2",disabled:!r.checkAction(8)},[_g,(0,l.Uk)(" Nhập kho ")],8,ug)])])]),(0,l._)("div",pg,[(0,l._)("div",mg,[(0,l._)("div",hg,[(0,l._)("div",bg,[gg,(0,l._)("div",vg,[(0,l._)("table",fg,[yg,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.semiProducts,((e,s)=>((0,l.wg)(),(0,l.iD)("tr",{key:e._id},[(0,l._)("td",null,[(0,l.wy)((0,l._)("input",{type:"checkbox","onUpdate:modelValue":t[7]||(t[7]=e=>d.selectedRows=e),onChange:t[8]||(t[8]=e=>r.checkStatus()),value:e,disabled:9==e.semi_product_status||10==e.semi_product_status},null,40,wg),[[a.e8,d.selectedRows]])]),(0,l._)("td",null,(0,p.zw)(s+1),1),(0,l._)("td",null,(0,p.zw)(e.semi_product_lot),1),(0,l._)("td",null,[(0,l._)("div",{class:"tooltip1",onClick:t=>r.viewDetail("semi_product_info",e)},(0,p.zw)(e.CategoriesSimInfo[0]?e.CategoriesSimInfo[0].serial_sim:""),9,kg)]),(0,l._)("td",null,[(0,l._)("span",{class:(0,p.C_)(["badge bg-pill",r.getStatus(e.semi_product_status)])},(0,p.zw)(r.semiProductStatus(e.semi_product_status)),3)]),(0,l._)("td",null,[e.semi_product_result?((0,l.wg)(),(0,l.iD)("span",{key:0,class:(0,p.C_)(["badge bg-pill",r.getResult(e.semi_product_result)])},(0,p.zw)(r.ResultShow(e.semi_product_result)),3)):(0,l.kq)("",!0)]),(0,l._)("td",null,(0,p.zw)(e.semi_product_note),1)])))),128))])])])])])])]),(0,l._)("div",xg,[(0,l._)("div",Cg,[(0,l._)("div",Dg,[Pg,(0,l._)("div",Mg,[(0,l._)("table",Sg,[(0,l._)("tbody",null,[(0,l._)("tr",null,[(0,l._)("td",Eg,[(0,l._)("div",Tg,[zg,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control text-black","onUpdate:modelValue":t[9]||(t[9]=e=>d.QC.user_id=e),readonly:""},null,512),[[a.nr,d.QC.user_id]]),Ug])]),(0,l._)("td",jg,[(0,l._)("div",qg,[Ig,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control text-black","onUpdate:modelValue":t[10]||(t[10]=e=>d.QC.quality_control_create_date=e),readonly:""},null,512),[[a.nr,d.QC.quality_control_create_date]])])]),(0,l._)("td",Lg,[(0,l._)("div",Ng,[Rg,(0,l.wy)((0,l._)("select",{class:"form-control form-select text-body","onUpdate:modelValue":t[11]||(t[11]=e=>d.QC.type_quality_control=e)},Og,512),[[a.bM,d.QC.type_quality_control]])])])]),(0,l._)("tr",null,[(0,l._)("td",Ag,[(0,l._)("div",Jg,[$g,(0,l.wy)((0,l._)("select",{class:"form-control form-select text-body","onUpdate:modelValue":t[12]||(t[12]=e=>d.QC.deparment=e)},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.departments,((e,t)=>((0,l.wg)(),(0,l.iD)("option",{key:e.department_code,value:e.department_code},(0,p.zw)(e.department_name),9,Gg)))),128))],512),[[a.bM,d.QC.deparment]])])]),(0,l._)("td",Wg,[(0,l._)("div",Bg,[Yg,(0,l.wy)((0,l._)("select",{class:"form-control form-select text-body","onUpdate:modelValue":t[13]||(t[13]=e=>d.QC.type_product_to_check=e)},Fg,512),[[a.bM,d.QC.type_product_to_check]])])]),(0,l._)("td",Xg,[(0,l._)("div",ev,[tv,(0,l.wy)((0,l._)("select",{class:"form-control form-select text-body","onUpdate:modelValue":t[14]||(t[14]=e=>d.QC.type_product_group=e)},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.productGroups,((e,t)=>((0,l.wg)(),(0,l.iD)("option",{key:e.product_group_code,value:e.product_group_code}," ("+(0,p.zw)(e.product_group_code)+") "+(0,p.zw)(e.product_group_name),9,sv)))),128))],512),[[a.bM,d.QC.type_product_group]])])])]),(0,l._)("tr",null,[(0,l._)("td",av,[(0,l._)("div",lv,[ov,(0,l.wy)((0,l._)("textarea",{class:"form-control text-black","onUpdate:modelValue":t[15]||(t[15]=e=>d.QC.quality_control_specification=e),rows:"5",placeholder:"Nhập quy cách test"},null,512),[[a.nr,d.QC.quality_control_specification]]),dv])]),(0,l._)("td",rv,[(0,l._)("div",iv,[nv,(0,l.wy)((0,l._)("textarea",{class:"form-control text-black","onUpdate:modelValue":t[16]||(t[16]=e=>d.QC.quality_control_note=e),rows:"5",placeholder:"Nhập ghi chú"},null,512),[[a.nr,d.QC.quality_control_note]]),cv])])])])])]),(0,l._)("div",uv,[(0,l._)("div",null,[(0,l._)("button",{class:"btn ripple btn-primary",onClick:t[17]||(t[17]=(...e)=>r.qualityCheck&&r.qualityCheck(...e))},"Lưu"),(0,l._)("button",{class:"btn ripple btn-danger ms-2",onClick:t[18]||(t[18]=e=>r.closeModal("QualityControlModal","QC","updateErrors")),type:"button"}," Đóng ")])])])])],512),(0,l._)("div",_v,[(0,l._)("div",pv,[(0,l._)("div",mv,[hv,(0,l._)("div",bv,[(0,l._)("table",gv,[(0,l._)("tbody",null,[(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",vv,[fv,(0,l._)("span",null,(0,p.zw)(d.detailInfo.jobsheet_code),1)])]),(0,l._)("td",null,[(0,l._)("div",yv,[wv,(0,l._)("span",null,(0,p.zw)(d.detailInfo.semi_product_code),1)])]),(0,l._)("td",null,[(0,l._)("div",kv,[xv,(0,l._)("span",null,(0,p.zw)(d.detailInfo.semi_product_name),1)])]),(0,l._)("td",null,[(0,l._)("div",Cv,[Dv,(0,l._)("span",null,(0,p.zw)(d.detailInfo.semi_product_lot),1)])]),(0,l._)("td",null,[(0,l._)("div",Pv,[Mv,(0,l._)("span",{class:(0,p.C_)(["badge bg-pill",r.getStatus(d.detailInfo.semi_product_status)])},(0,p.zw)(r.semiProductStatus(d.detailInfo.semi_product_status)),3)])])]),(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",Sv,[Ev,(0,l._)("span",null,(0,p.zw)(d.detailInfo.semi_product_assembler),1)])]),(0,l._)("td",null,[(0,l._)("div",Tv,[zv,(0,l._)("span",null,(0,p.zw)(d.detailInfo.semi_product_assembly_date),1)])]),(0,l._)("td",null,[(0,l._)("div",Uv,[jv,(0,l._)("span",{class:(0,p.C_)(["badge bg-pill",r.getResult(d.detailInfo.semi_product_result)])},(0,p.zw)(r.ResultShow(d.detailInfo.semi_product_result)),3)])]),(0,l._)("td",null,[(0,l._)("div",qv,[Iv,(0,l._)("span",null,(0,p.zw)(d.detailInfo.semi_product_test_date),1)])]),(0,l._)("td",null,[(0,l._)("div",Lv,[Nv,(0,l._)("span",null,(0,p.zw)(d.detailInfo.semi_product_tester),1)])])]),(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",Rv,[Vv,(0,l._)("span",null,(0,p.zw)(d.detailInfo.CategoriesSimInfo?d.detailInfo.CategoriesSimInfo[0].serial_sim:""),1)])]),(0,l._)("td",null,[(0,l._)("div",Qv,[Ov,(0,l._)("span",null,(0,p.zw)(d.detailInfo.CategoriesSimInfo?d.detailInfo.CategoriesSimInfo[0].SimpackageInfo[0].sim_package_description:""),1)])]),(0,l._)("td",null,[(0,l._)("div",Av,[Jv,(0,l._)("span",null,(0,p.zw)(d.detailInfo.CategoriesSimInfo?d.detailInfo.CategoriesSimInfo[0].activation_date:""),1)])]),(0,l._)("td",null,[(0,l._)("div",$v,[Gv,(0,l._)("span",null,(0,p.zw)(d.detailInfo.CategoriesSimInfo?d.detailInfo.CategoriesSimInfo[0].expiration_date:""),1)])]),(0,l._)("td",null,[(0,l._)("div",Wv,[Bv,(0,l._)("span",{class:(0,p.C_)(d.detailInfo.CategoriesSimInfo&&"E-SIM"===d.detailInfo.CategoriesSimInfo[0].sim_type?"tag tag-success tag-pill":"tag tag-warning tag-pill")},(0,p.zw)(d.detailInfo.CategoriesSimInfo?d.detailInfo.CategoriesSimInfo[0].sim_type:""),3)])])])])])]),(0,l._)("div",Yv,[(0,l._)("button",{class:"btn ripple btn-danger ms-2",onClick:t[19]||(t[19]=e=>r.closeModal("semiProductInfo")),type:"button"}," Đóng ")])])])],512)],64)}var Kv={props:["jobsheetCode"],data(){return{selectedProductCode:[],selectedRows:[],semiProducts:[],QC:[],updateErrors:[],productGroups:[],departments:[],isQC:null,jobsheets:[],isTableExpanded:!0,detailInfo:[]}},watch:{jobsheetCode(){this.getSemiProducts()}},mounted(){this.getSemiProducts()},methods:{toggleTable(){this.isTableExpanded=!this.isTableExpanded},loadtable(){this.$nextTick((()=>{nt.initializeDataTable("#semiProductTB")}))},getSemiProducts(){null!=this.jobsheetCode&&va.getData(`jobsheet/showDetailJobSheet/${this.jobsheetCode}`).then((e=>{this.jobsheets=e.data.data[0],this.semiProducts=e.data.data[0].dataSemiProduct,this.productGroups=e.data.getProductGroup,this.departments=e.data.getDepartment,this.isQC=e.data._isCheckQuantityControl,this.loadtable()})).catch((e=>{console.log(e)}))},getStatus(e){switch(e){case"0":return"bg-primary-light";case"1":return"bg-success-light";case"2":return"bg-success-light";case"3":return"bg-success-light";case"4":return"bg-success-light";case"5":return"bg-success-light";case"6":return"bg-success-light";case"7":return"bg-success-light";case"8":return"bg-success-light";case"9":return"bg-success-light";case"10":return"bg-danger-light";default:return"bg-danger-light"}},semiProductStatus(e){switch(parseInt(e)){case 0:return"Mới tạo";case 1:return"Đã yêu cầu xuất kho";case 2:return"Đã xuất kho";case 3:return"Đã yêu cầu sản xuất";case 4:return"Đang sản xuất";case 5:return"Hoàn thành";case 6:return"Đã gửi yêu cầu kiểm tra";case 7:return"Đã kiểm tra";case 8:return"Đã gửi yêu cầu nhập kho";case 9:return"Đã nhập kho";case 10:return"Đã hủy";default:return"Không rõ"}},closeModal(e,t,s){const a=this.$refs[e];$(a).modal("hide"),this[t]={},this[s]={}},exportMaterial(){const e={jobsheetCode:this.jobsheetCode,arrayProductID:this.selectedProductCode};nt.confirmDelete((()=>{va.putData("jobsheet/OrderExportMaterialsJobSheet",e).then((e=>{200==e.data.status&&(nt.showSuccessAlert("Đã yêu cầu xuất kho"),this.getSemiProducts(),this.selectedRows.splice(0,this.selectedRows.length))})).catch((e=>{console.log(e)}))}),"Bạn chắc chắn muốn yêu cầu xuất kho?")},confirmExportMaterial(){const e={jobsheetCode:this.jobsheetCode,arrayProductID:this.selectedProductCode};nt.confirmDelete((()=>{va.putData("jobsheet/ExportMaterialsJobSheet",e).then((e=>{200==e.data.status&&(nt.showSuccessAlert("Đã xuất kho"),this.getSemiProducts(),this.selectedRows.splice(0,this.selectedRows.length))})).catch((e=>{console.log(e)}))}),"Bạn chắc chắn muốn xuất kho?")},weldingRequest(){const e={jobsheetCode:this.jobsheetCode,arrayProductID:this.selectedProductCode};nt.confirmDelete((()=>{va.putData("jobsheet/OrderProductJobSheet",e).then((e=>{200==e.data.status&&(nt.showSuccessAlert("Đã gửi yêu cầu sản xuất"),this.getSemiProducts(),this.selectedRows.splice(0,this.selectedRows.length))})).catch((e=>{console.log(e)}))}),"Bạn chắc chắn muốn yêu cầu sản xuất?")},warehoustRequest(){const e={jobsheetCode:this.jobsheetCode,arrayProductID:this.selectedProductCode};nt.confirmDelete((()=>{va.putData("jobsheet/OrderStoreJobSheet",e).then((e=>{200==e.data.status&&(nt.showSuccessAlert("Đã gửi yêu cầu nhập kho"),this.getSemiProducts(),this.selectedRows.splice(0,this.selectedRows.length))})).catch((e=>{console.log(e)}))}),"Bạn chắc chắn muốn gửi yêu cầu nhập kho?")},confirmWarehouse(){const e={jobsheetCode:this.jobsheetCode,arrayProductID:this.selectedProductCode};nt.confirmDelete((()=>{va.putData("jobsheet/StoreWarehouseJobSheet",e).then((e=>{200==e.data.status&&(nt.showSuccessAlert("Đã nhập kho"),this.getSemiProducts(),this.selectedRows.splice(0,this.selectedRows.length))})).catch((e=>{console.log(e)}))}),"Nhập kho sản phẩm?")},checkExist(){if(0==this.isQC){const e=this.$refs.QualityControlModal;$(e).modal("show");const t=JSON.parse(sessionStorage.getItem("userLogin"));this.QC.user_id=t.fullname,this.QC.quality_control_create_date=(0,st.Z)(new Date,"dd/MM/yyyy")}else this.qualityCheck()},qualityCheck(){const e={jobsheetCode:this.jobsheetCode,arrayProductID:this.selectedProductCode,fullname:this.QC.user_id,type_quality_control:this.QC.type_quality_control,type_product_to_check:this.QC.type_product_to_check,department:this.QC.deparment,type_product_group:this.QC.type_product_group,quality_control_specification:this.QC.quality_control_specification,quality_control_note:this.QC.quality_control_note};va.putData("jobsheet/OrderQCJobSheet",e).then((e=>{200==e.data.status&&(nt.showSuccessAlert("Đã gửi yêu cầu kiểm tra"),this.getSemiProducts(),this.closeModal("QualityControlModal","QC","updateErrors"),this.selectedRows.splice(0,this.selectedRows.length))})).catch((e=>{console.log(e)}))},getResult(e){switch(e){case"0":return"bg-danger-light";case"1":return"bg-success-light";default:return"bg-danger-light"}},ResultShow(e){switch(parseInt(e)){case 0:return"FAIL";case 1:return"PASS";default:return"Không rõ"}},checkStatus(){this.selectedProductCode=[];for(let e=0;e<this.selectedRows.length;e++)this.selectedProductCode.push(this.selectedRows[e].semi_product_lot)},checkAction(e){if(this.selectedRows.length<1)return!1;for(let t=0;t<this.selectedRows.length;t++){if(this.selectedRows[0].semi_product_status!=this.selectedRows[t].semi_product_status)return!1;if(this.selectedRows[t].semi_product_status!=e)return!1;if(7==this.selectedRows[t].semi_product_status&&1!=this.selectedRows[t].semi_product_result)return!1}return!0},viewDetail(e,t){$(`#${e}`).modal("show"),this.detailInfo=t}}};const Zv=(0,r.Z)(Kv,[["render",Hv]]);var Fv=Zv,Xv={components:{ListProduct:bb,ListSemiProduct:Fv},data(){return{dontCloseModal:!1,showSuccessMessage:!1,successMessage:"",jobsheets:[],proOder:null,proOders:[],proSeries:null,proTypes:null,ProTypes:[],storeJobsheet:[],addErrors:[],selectedJobsheet:[],updateErrors:[],ProSeries:[],jobsheetCode:null}},mounted(){this.init(),this.getJobsheet()},methods:{chooseJobsheet(e){this.jobsheetCode=e.jobsheet_code},formatDate(e){if(!e)return"";const t=new Date(e);return isNaN(t.getTime())?e:(0,st.Z)(t,"MM/dd/yyyy")},init(){const e=new Date,t=JSON.parse(sessionStorage.getItem("userLogin"));this.storeJobsheet.jobsheet_create_date=(0,st.Z)(e,"dd/MM/yyyy"),this.storeJobsheet.user_id=t.fullname},loadtable(){this.$nextTick((()=>{nt.initializeDataTable("#jobsheetTable")}))},closeModal(e,t,s){const a=this.$refs[e];$(a).modal("hide"),this[t]={},this[s]={},this.init()},getJobsheet(){va.getData("jobsheet/listJobsheet").then((e=>{this.ProSeries=e.data.getproductSeries,this.jobsheets=e.data.data,this.proOders=e.data.getproductOrderNo,this.ProTypes=e.data.getproductType,this.loadtable()})).catch((e=>{console.log(e)}))},addJobsheet(){const e={jobsheet_create_date:this.storeJobsheet.jobsheet_create_date,jobsheet_finish_date:this.storeJobsheet.jobsheet_finish_date,production_order_code:this.storeJobsheet.production_order_code,user_id:this.storeJobsheet.user_id,product_id:this.storeJobsheet.product_id,product_name:this.storeJobsheet.product_name,BOM_code:this.storeJobsheet.BOM_code,product_unit:this.storeJobsheet.product_unit,product_quantity:this.storeJobsheet.product_quantity,product_type_code:this.storeJobsheet.product_type_code,product_series_code:this.storeJobsheet.product_series_code,specification:this.storeJobsheet.specification,jobsheet_note:this.storeJobsheet.jobsheet_note,production_style:this.storeJobsheet.production_style},t=[{name:"jobsheet_create_date",label:"Ngày tạo",maxLength:50,nullable:!1},{name:"jobsheet_finish_date",label:"Dự kiến hoàn thành",maxLength:50,nullable:!1},{name:"production_order_code",label:"Lý do",maxLength:50,nullable:!1},{name:"user_id",label:"Người tạo",maxLength:50,nullable:!1},{name:"product_id",label:"Mã sản phẩm",maxLength:50,nullable:!1},{name:"product_name",label:"Tên sản phẩm",maxLength:200,nullable:!1},{name:"BOM_code",label:"Mã BOM",maxLength:50,nullable:!1},{name:"product_unit",label:"Đơn vị",maxLength:50,nullable:!1},{name:"product_quantity",label:"Số lượng",maxLength:50,nullable:!1,type:"number"},{name:"product_type_code",label:"Loại sản phẩm",maxLength:50,nullable:!1},{name:"product_series_code",label:"Dòng sản phẩm",maxLength:50,nullable:!1},{name:"specification",label:"Quy cách",maxLength:50,nullable:!1},{name:"jobsheet_note",label:"Ghi chú",maxLength:900,nullable:!0},{name:"production_style",label:"Loại sản xuất",maxLength:50,nullable:!1}];this.addErrors=nt.validateData(e,t),0===Object.keys(this.addErrors).length&&va.postData("jobsheet/storeJobSheet",e).then((e=>{e.data.error?e.data.error.details.forEach((e=>{const t=e.message,s=e.path[0];this.addErrors[s]=[],this.addErrors[s]=t})):this.dontCloseModal?(this.getJobsheet(),this.storeJobsheet={},this.showSuccessMessage=!0,this.successMessage="Thêm thành công",setTimeout((()=>{this.showSuccessMessage=!1}),1e3)):(this.getJobsheet(),this.closeModal("addJobsheetModal","storeJobsheet","addErrors"),nt.showSuccessAlert("Thêm thành công"))})).catch((e=>{console.log(e)}))},editJobsheet(e){this.selectedJobsheet.id=e._id,this.selectedJobsheet.jobsheet_create_date=e.jobsheet_create_date,this.selectedJobsheet.jobsheet_finish_date=(0,st.Z)((0,fa.Z)(e.jobsheet_finish_date,"yyyy-MM-dd'T'HH:mm:ss.SSSX",new Date),"yyyy-MM-dd"),this.selectedJobsheet.proOder=e.production_order_code,this.selectedJobsheet.user_id=e.user_id,this.selectedJobsheet.product_id=e.product_id,this.selectedJobsheet.product_name=e.product_name,this.selectedJobsheet.BOM_code=e.BOM_code,this.selectedJobsheet.product_unit=e.product_unit,this.selectedJobsheet.product_quantity=e.product_quantity,this.selectedJobsheet.product_type_code=e.product_type_code,this.selectedJobsheet.product_series_code=e.product_series_code,this.selectedJobsheet.specification=e.specification,this.selectedJobsheet.jobsheet_note=e.jobsheet_note,this.selectedJobsheet.production_style=e.production_style},updateJobsheet(){const e={jobsheet_create_date:this.selectedJobsheet.jobsheet_create_date,jobsheet_finish_date:this.selectedJobsheet.jobsheet_finish_date,production_order_code:this.selectedJobsheet.proOder,user_id:this.selectedJobsheet.user_id,product_id:this.selectedJobsheet.product_id,product_name:this.selectedJobsheet.product_name,BOM_code:this.selectedJobsheet.BOM_code,product_unit:this.selectedJobsheet.product_unit,product_quantity:this.selectedJobsheet.product_quantity,product_type_code:this.selectedJobsheet.product_type_code,product_series_code:this.selectedJobsheet.product_series_code,specification:this.selectedJobsheet.specification,jobsheet_note:this.selectedJobsheet.jobsheet_note,production_style:this.selectedJobsheet.production_style},t=[{name:"jobsheet_create_date",label:"Ngày tạo",maxLength:50,nullable:!1},{name:"jobsheet_finish_date",label:"Dự kiến hoàn thành",maxLength:50,nullable:!1},{name:"production_order_code",label:"Lý do",maxLength:50,nullable:!1},{name:"user_id",label:"Người tạo",maxLength:50,nullable:!1},{name:"product_id",label:"Mã sản phẩm",maxLength:50,nullable:!1},{name:"product_name",label:"Tên sản phẩm",maxLength:200,nullable:!1},{name:"product_unit",label:"Đơn vị",maxLength:50,nullable:!1},{name:"product_quantity",label:"Số lượng",maxLength:50,nullable:!1,type:"number"},{name:"product_type_code",label:"Loại sản phẩm",maxLength:50,nullable:!1},{name:"product_series_code",label:"Dòng sản phẩm",maxLength:50,nullable:!1},{name:"specification",label:"Quy cách",maxLength:50,nullable:!1},{name:"jobsheet_note",label:"Ghi chú",maxLength:900,nullable:!0},{name:"production_style",label:"Loại sản xuất",maxLength:50,nullable:!1}];this.updateErrors=nt.validateData(e,t),console.log(Object.keys(this.updateErrors)),0===Object.keys(this.updateErrors).length&&va.putData(`jobsheet/updateJobSheet/${this.selectedJobsheet.id}`,e).then((e=>{e.data.error?e.data.error.details.forEach((e=>{const t=e.message,s=e.path[0];this.updateErrors[s]=[],this.updateErrors[s]=t})):(nt.showSuccessAlert("Cập nhật thành công"),this.closeModal("updateJobsheetModal","selectedJobsheet","updateErrors"),this.getJobsheet())})).catch((e=>{console.log(e)}))},cancelJobsheet(e){nt.confirmDelete((()=>{va.putData(`jobsheet/cancelJobSheet/${e}`).then((e=>{nt.showSuccessAlert("Hủy thành công"),this.getJobsheet()})).catch((e=>{console.log(e)}))}))},getStatus(e){switch(e){case"0":return"bg-primary-light";case"1":return"bg-success-light";case"2":return"bg-success-light";case"3":return"bg-danger-light";default:return"bg-danger-light"}},jobsheetStatus(e){switch(parseInt(e)){case 0:return"Mới tạo";case 1:return"Đang sản xuất";case 2:return"Hoàn thành";case 3:return"Đã hủy";default:return"Không rõ"}}}};const ef=(0,r.Z)(Xv,[["render",Ep]]);var tf=ef;const sf={class:"main-content side-content pt-0"},af={class:"main-container container-fluid pt-5"},lf={class:"inner-body"},of={class:"page-header"},df=(0,l.uE)('<div><h2 class="main-content-title tx-24 mg-b-5">Chi tiết lịch sản xuất</h2><ol class="breadcrumb"><li class="breadcrumb-item"><a href="jobsheet.html">Lịch sản xuất</a></li><li class="breadcrumb-item active" aria-current="page">Chi tiết lịch sản xuất</li></ol></div>',1),rf={class:"d-flex"},nf={class:"justify-content-center"},cf=(0,l._)("i",{class:"fe fe-corner-down-left"},null,-1),uf={class:"row row-sm"},_f={class:"col-lg-12"},pf={class:"card custom-card"},mf={class:"card-body"},hf={class:"d-flex justify-content-between"},bf=(0,l._)("div",null,[(0,l._)("h6",{class:"main-content-label mb-1"},"Lịch sản xuất"),(0,l._)("p",{class:"text-muted card-sub-title"})],-1),gf={key:0,class:"fe fe-minus"},vf={key:1,class:"fe fe-minimize"},ff={class:"table"},yf={class:"table"},wf={class:"form-group"},kf=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Mã lịch SX",-1),xf={class:"form-group"},Cf=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Ngày tạo",-1),Df={class:"align-top"},Pf={class:"form-group"},Mf=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Lý do",-1),Sf={class:"form-group"},Ef=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Mã sản phẩm",-1),Tf={colspan:"2"},zf={class:"form-group"},Uf=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Tên sản phẩm",-1),jf={class:"form-group"},qf=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Số lượng",-1),If={class:"form-group"},Lf=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Đơn vị",-1),Nf={class:"form-group"},Rf=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Loại sản xuất",-1),Vf={class:"align-top"},Qf={class:"form-group"},Of=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Mã BOM",-1),Af={class:"form-group"},Jf=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Quy cách",-1),$f={class:"form-group"},Gf=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Ghi chú",-1),Wf={class:"page-header"},Bf={class:"d-flex"},Yf={class:"justify-content-center"},Hf=["disabled"],Kf=(0,l._)("i",{class:"fe fe-download me-2"},null,-1),Zf=["disabled"],Ff=(0,l._)("i",{class:"fe fe-download me-2"},null,-1),Xf=["disabled"],ey=(0,l._)("i",{class:"fe fe-download me-2"},null,-1),ty=["disabled"],sy=(0,l._)("i",{class:"fe fe-download me-2"},null,-1),ay=["disabled"],ly=(0,l._)("i",{class:"fe fe-download me-2"},null,-1),oy=["disabled"],dy=(0,l._)("i",{class:"fe fe-download me-2"},null,-1),ry={class:"row row-sm"},iy={class:"col-lg-12"},ny={class:"card custom-card"},cy={class:"card-body"},uy=(0,l._)("div",null,[(0,l._)("h6",{class:"main-content-label mb-1"},"Danh sách sản phẩm trong lịch sản xuất"),(0,l._)("p",{class:"text-muted card-sub-title"})],-1),_y={class:"table-responsive"},py={class:"table table-bordered",id:"productTB"},my=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",null,"Chọn"),(0,l._)("th",null,"STT"),(0,l._)("th",null,"Số lot"),(0,l._)("th",null,"Số serial"),(0,l._)("th",null,"Board lắp vào"),(0,l._)("th",null,"Trạng thái"),(0,l._)("th",null,"Kết quả"),(0,l._)("th",null,"Ghi chú")])],-1),hy=["value","disabled"],by=["onClick"],gy=(0,l._)("td",null,null,-1),vy={class:"modal fade",id:"quality_control_modal",ref:"QualityControlModal"},fy={class:"modal-dialog modal-xl",role:"document"},yy={class:"modal-content modal-content-demo"},wy=(0,l._)("div",{class:"modal-header"},[(0,l._)("h6",{class:"modal-title"},"Phiếu yêu cầu kiểm tra"),(0,l._)("button",{"aria-label":"Close",class:"btn-close","data-bs-dismiss":"modal",type:"button"})],-1),ky={class:"modal-body"},xy={class:"table"},Cy={class:"align-top"},Dy={class:"form-group"},Py=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Người tạo",-1),My=(0,l._)("div",{class:"invalid-feedback mt-2"},null,-1),Sy={class:"align-top"},Ey={class:"form-group"},Ty=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Ngày tạo",-1),zy={class:"align-top"},Uy={class:"form-group"},jy=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Loại kiểm tra",-1),qy=(0,l._)("option",{value:"T"},"Test",-1),Iy=(0,l._)("option",{value:"R"},"Retest",-1),Ly=[qy,Iy],Ny={class:"align-top"},Ry={class:"form-group"},Vy=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Bộ phận yêu cầu",-1),Qy=["value"],Oy={class:"align-top"},Ay={class:"form-group"},Jy=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Loại sản phẩm",-1),$y=(0,l._)("option",{value:"P"},"Thành phẩm",-1),Gy=(0,l._)("option",{value:"S"},"Bán thành phẩm",-1),Wy=(0,l._)("option",{value:"M"},"Nguyên vật liệu",-1),By=[$y,Gy,Wy],Yy={class:"align-top"},Hy={class:"form-group"},Ky=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Nhóm sản phẩm",-1),Zy=["value"],Fy={class:"align-top",colspan:"2"},Xy={class:"form-group"},ew=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Quy cách Test",-1),tw=(0,l._)("div",{class:"invalid-feedback mt-2"},null,-1),sw={class:"align-top",colspan:"2"},aw={class:"form-group"},lw=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Ghi chú",-1),ow=(0,l._)("div",{class:"invalid-feedback mt-2"},null,-1),dw={class:"modal-footer"},rw={class:"modal fade",id:"product_info",ref:"semiProductInfo"},iw={class:"modal-dialog modal-xl",role:"document"},nw={class:"modal-content modal-content-demo"},cw=(0,l._)("div",{class:"modal-header"},[(0,l._)("h6",{class:"modal-title"},"Thông tin chi tiết"),(0,l._)("button",{"aria-label":"Close",class:"btn-close","data-bs-dismiss":"modal",type:"button"})],-1),uw={class:"modal-body"},_w={class:"table"},pw={class:"form-group"},mw=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Mã LSX",-1),hw={class:"form-group"},bw=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Mã sản phẩm",-1),gw={class:"form-group"},vw=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Tên sản phẩm",-1),fw={class:"form-group"},yw=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Số Lot Board",-1),ww={class:"form-group"},kw=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Trạng Thái",-1),xw={class:"form-group"},Cw=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Nhân viên sản xuất",-1),Dw={class:"form-group"},Pw=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Ngày hoàn thành",-1),Mw={class:"form-group"},Sw=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Kết quả kiểm tra",-1),Ew={key:1,class:"bage bg-pill bg-danger"},Tw={class:"form-group"},zw=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Ngày kiểm tra",-1),Uw={key:0},jw={key:1,class:"bage bg-pill bg-danger"},qw={class:"form-group"},Iw=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Số phiếu/Người kiểm tra",-1),Lw={key:0},Nw={key:1,class:"bage bg-pill bg-danger"},Rw={class:"table"},Vw=(0,l._)("tr",{class:"fw-bold"}," THÔNG TIN BOARD LẮP VÀO",-1),Qw={class:"form-group"},Ow=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Mã BTP",-1),Aw={class:"form-group"},Jw=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Tên BTP",-1),$w={class:"form-group"},Gw=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Số Lot BTP",-1),Ww={class:"modal-footer"};function Bw(e,t,s,o,d,r){const i=(0,l.up)("RouterLink");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",sf,[(0,l._)("div",af,[(0,l._)("div",lf,[(0,l._)("div",of,[df,(0,l._)("div",rf,[(0,l._)("div",nf,[(0,l.Wm)(i,{to:"/jobsheets",class:"btn btn-white btn-rounded my-2 btn-icon-text"},{default:(0,l.w5)((()=>[cf,(0,l.Uk)(" Trở lại ")])),_:1})])])]),(0,l._)("div",uf,[(0,l._)("div",_f,[(0,l._)("div",pf,[(0,l._)("div",mf,[(0,l._)("div",hf,[bf,(0,l._)("div",null,[(0,l._)("button",{class:"btn",onClick:t[0]||(t[0]=(...e)=>r.toggleTable&&r.toggleTable(...e))},[d.isTableExpanded?((0,l.wg)(),(0,l.iD)("i",gf)):((0,l.wg)(),(0,l.iD)("i",vf))])])]),(0,l.wy)((0,l._)("div",ff,[(0,l._)("table",yf,[(0,l._)("tbody",null,[(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",wf,[kf,(0,l._)("span",null,(0,p.zw)(d.jobsheets.jobsheet_code),1)])]),(0,l._)("td",null,[(0,l._)("div",xf,[Cf,(0,l._)("span",null,(0,p.zw)(d.jobsheets.jobsheet_create_date),1)])]),(0,l._)("td",Df,[(0,l._)("div",Pf,[Mf,(0,l._)("span",null,(0,p.zw)(d.jobsheets.production_order_code),1)])]),(0,l._)("td",null,[(0,l._)("div",Sf,[Ef,(0,l._)("span",null,(0,p.zw)(d.jobsheets.product_id),1)])]),(0,l._)("td",Tf,[(0,l._)("div",zf,[Uf,(0,l._)("span",null,(0,p.zw)(d.jobsheets.product_name),1)])])]),(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",jf,[qf,(0,l._)("span",null,(0,p.zw)(d.jobsheets.product_quantity),1)])]),(0,l._)("td",null,[(0,l._)("div",If,[Lf,(0,l._)("span",null,(0,p.zw)(d.jobsheets.product_unit),1)])]),(0,l._)("td",null,[(0,l._)("div",Nf,[Rf,(0,l._)("span",null,(0,p.zw)(d.jobsheets.product_type_code),1)])]),(0,l._)("td",Vf,[(0,l._)("div",Qf,[Of,(0,l._)("span",null,(0,p.zw)(d.jobsheets.BOM_code),1)])]),(0,l._)("td",null,[(0,l._)("div",Af,[Jf,(0,l._)("span",null,(0,p.zw)(d.jobsheets.specification),1)])]),(0,l._)("td",null,[(0,l._)("div",$f,[Gf,(0,l._)("span",null,(0,p.zw)(d.jobsheets.jobsheet_note),1)])])])])])],512),[[a.F8,d.isTableExpanded]])])])])]),(0,l._)("div",Wf,[(0,l._)("div",Bf,[(0,l._)("div",Yf,[(0,l._)("button",{onClick:t[1]||(t[1]=(...e)=>r.exportMaterial&&r.exportMaterial(...e)),class:"btn btn-primary btn-rounded btn-icon-text my-2 me-2",disabled:!r.checkAction(0)},[Kf,(0,l.Uk)(" Yêu cầu xuất kho ")],8,Hf),(0,l._)("button",{onClick:t[2]||(t[2]=(...e)=>r.confirmExportMaterial&&r.confirmExportMaterial(...e)),class:"btn btn-primary btn-rounded btn-icon-text my-2 me-2",disabled:!r.checkAction(1)},[Ff,(0,l.Uk)(" Xuất kho ")],8,Zf),(0,l._)("button",{onClick:t[3]||(t[3]=(...e)=>r.assemblyRequest&&r.assemblyRequest(...e)),class:"btn btn-primary btn-rounded btn-icon-text my-2 me-2",disabled:!r.checkAction(2)},[ey,(0,l.Uk)("Yêu cầu sản xuất ")],8,Xf),(0,l._)("button",{onClick:t[4]||(t[4]=(...e)=>r.checkExist&&r.checkExist(...e)),class:"btn btn-primary btn-rounded btn-icon-text my-2 me-2",disabled:!r.checkAction(5)},[sy,(0,l.Uk)(" Yêu cầu kiểm tra ")],8,ty),(0,l._)("button",{onClick:t[5]||(t[5]=(...e)=>r.warehoustRequest&&r.warehoustRequest(...e)),class:"btn btn-primary btn-rounded btn-icon-text my-2 me-2",disabled:!r.checkAction(7)},[ly,(0,l.Uk)(" Yêu cầu nhập kho ")],8,ay),(0,l._)("button",{onClick:t[6]||(t[6]=(...e)=>r.confirmWarehouse&&r.confirmWarehouse(...e)),class:"btn btn-primary btn-rounded btn-icon-text my-2 me-2",disabled:!r.checkAction(8)},[dy,(0,l.Uk)(" Nhập kho ")],8,oy)])])]),(0,l._)("div",ry,[(0,l._)("div",iy,[(0,l._)("div",ny,[(0,l._)("div",cy,[uy,(0,l._)("div",_y,[(0,l._)("table",py,[my,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.products,((e,s)=>((0,l.wg)(),(0,l.iD)("tr",{key:e._id},[(0,l._)("td",null,[(0,l.wy)((0,l._)("input",{type:"checkbox","onUpdate:modelValue":t[7]||(t[7]=e=>d.selectedRows=e),value:e,onChange:t[8]||(t[8]=e=>r.checkStatus()),disabled:9==e.product_status||10==e.product_status},null,40,hy),[[a.e8,d.selectedRows]])]),(0,l._)("td",null,(0,p.zw)(s+1),1),(0,l._)("td",null,(0,p.zw)(e.product_code),1),(0,l._)("td",null,(0,p.zw)(e.product_serial),1),(0,l._)("td",null,[(0,l._)("div",{class:"tooltip1",onClick:t=>r.viewDetail(e),"data-bs-target":"#product_info","data-bs-toggle":"modal"},(0,p.zw)(e.semi_product_lot),9,by)]),(0,l._)("td",null,[(0,l._)("span",{class:(0,p.C_)(["badge bg-pill",r.getStatus(e.product_status)])},(0,p.zw)(r.productStatus(e.product_status)),3)]),(0,l._)("td",null,[e.product_result?((0,l.wg)(),(0,l.iD)("span",{key:0,class:(0,p.C_)(["badge bg-pill",r.getResult(e.product_result)])},(0,p.zw)(r.ResultShow(e.product_result)),3)):(0,l.kq)("",!0)]),gy])))),128))])])])])])])])])])]),(0,l._)("div",vy,[(0,l._)("div",fy,[(0,l._)("div",yy,[wy,(0,l._)("div",ky,[(0,l._)("table",xy,[(0,l._)("tbody",null,[(0,l._)("tr",null,[(0,l._)("td",Cy,[(0,l._)("div",Dy,[Py,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control text-black","onUpdate:modelValue":t[9]||(t[9]=e=>d.QC.user_id=e),readonly:""},null,512),[[a.nr,d.QC.user_id]]),My])]),(0,l._)("td",Sy,[(0,l._)("div",Ey,[Ty,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control text-black","onUpdate:modelValue":t[10]||(t[10]=e=>d.QC.quality_control_create_date=e),readonly:""},null,512),[[a.nr,d.QC.quality_control_create_date]])])]),(0,l._)("td",zy,[(0,l._)("div",Uy,[jy,(0,l.wy)((0,l._)("select",{class:"form-control form-select text-body","onUpdate:modelValue":t[11]||(t[11]=e=>d.QC.type_quality_control=e)},Ly,512),[[a.bM,d.QC.type_quality_control]])])])]),(0,l._)("tr",null,[(0,l._)("td",Ny,[(0,l._)("div",Ry,[Vy,(0,l.wy)((0,l._)("select",{class:"form-control form-select text-body","onUpdate:modelValue":t[12]||(t[12]=e=>d.QC.deparment=e)},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.departments,((e,t)=>((0,l.wg)(),(0,l.iD)("option",{key:e.department_code,value:e.department_code},(0,p.zw)(e.department_name),9,Qy)))),128))],512),[[a.bM,d.QC.deparment]])])]),(0,l._)("td",Oy,[(0,l._)("div",Ay,[Jy,(0,l.wy)((0,l._)("select",{class:"form-control form-select text-body","onUpdate:modelValue":t[13]||(t[13]=e=>d.QC.type_product_to_check=e)},By,512),[[a.bM,d.QC.type_product_to_check]])])]),(0,l._)("td",Yy,[(0,l._)("div",Hy,[Ky,(0,l.wy)((0,l._)("select",{class:"form-control form-select text-body","onUpdate:modelValue":t[14]||(t[14]=e=>d.QC.type_product_group=e)},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.productGroups,((e,t)=>((0,l.wg)(),(0,l.iD)("option",{key:e.product_group_code,value:e.product_group_code}," ("+(0,p.zw)(e.product_group_code)+") "+(0,p.zw)(e.product_group_name),9,Zy)))),128))],512),[[a.bM,d.QC.type_product_group]])])])]),(0,l._)("tr",null,[(0,l._)("td",Fy,[(0,l._)("div",Xy,[ew,(0,l.wy)((0,l._)("textarea",{class:"form-control text-black","onUpdate:modelValue":t[15]||(t[15]=e=>d.QC.quality_control_specification=e),rows:"5",placeholder:"Nhập quy cách test"},null,512),[[a.nr,d.QC.quality_control_specification]]),tw])]),(0,l._)("td",sw,[(0,l._)("div",aw,[lw,(0,l.wy)((0,l._)("textarea",{class:"form-control text-black","onUpdate:modelValue":t[16]||(t[16]=e=>d.QC.quality_control_note=e),rows:"5",placeholder:"Nhập ghi chú"},null,512),[[a.nr,d.QC.quality_control_note]]),ow])])])])])]),(0,l._)("div",dw,[(0,l._)("div",null,[(0,l._)("button",{class:"btn ripple btn-primary",onClick:t[17]||(t[17]=(...e)=>r.qualityCheck&&r.qualityCheck(...e))},"Lưu"),(0,l._)("button",{class:"btn ripple btn-danger ms-2",onClick:t[18]||(t[18]=e=>r.closeModal("QualityControlModal","QC","updateErrors")),type:"button"}," Đóng ")])])])])],512),(0,l._)("div",rw,[(0,l._)("div",iw,[(0,l._)("div",nw,[cw,(0,l._)("div",uw,[(0,l._)("table",_w,[(0,l._)("tbody",null,[(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",pw,[mw,(0,l._)("span",null,(0,p.zw)(d.detailInfo.jobsheet_code),1)])]),(0,l._)("td",null,[(0,l._)("div",hw,[bw,(0,l._)("span",null,(0,p.zw)(d.detailInfo.product_id),1)])]),(0,l._)("td",null,[(0,l._)("div",gw,[vw,(0,l._)("span",null,(0,p.zw)(d.detailInfo.product_name),1)])]),(0,l._)("td",null,[(0,l._)("div",fw,[yw,(0,l._)("span",null,(0,p.zw)(d.detailInfo.product_code),1)])]),(0,l._)("td",null,[(0,l._)("div",ww,[kw,(0,l._)("span",{class:(0,p.C_)(["badge bg-pill",r.getStatus(d.detailInfo.product_status)])},(0,p.zw)(r.productStatus(d.detailInfo.product_status)),3)])])]),(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",xw,[Cw,(0,l._)("span",null,(0,p.zw)(d.detailInfo.product_assembler),1)])]),(0,l._)("td",null,[(0,l._)("div",Dw,[Pw,(0,l._)("span",null,(0,p.zw)(d.detailInfo.product_assembly_date),1)])]),(0,l._)("td",null,[(0,l._)("div",Mw,[Sw,d.detailInfo.product_result?((0,l.wg)(),(0,l.iD)("span",{key:0,class:(0,p.C_)(["badge bg-pill",r.getResult(d.detailInfo.product_result)])},(0,p.zw)(r.ResultShow(d.detailInfo.product_result)),3)):((0,l.wg)(),(0,l.iD)("span",Ew,"N/A"))])]),(0,l._)("td",null,[(0,l._)("div",Tw,[zw,d.detailInfo.product_test_date?((0,l.wg)(),(0,l.iD)("span",Uw,(0,p.zw)(d.detailInfo.product_test_date),1)):((0,l.wg)(),(0,l.iD)("span",jw,"N/A"))])]),(0,l._)("td",null,[(0,l._)("div",qw,[Iw,d.detailInfo.product_tester?((0,l.wg)(),(0,l.iD)("span",Lw,(0,p.zw)(d.detailInfo.product_tester),1)):((0,l.wg)(),(0,l.iD)("span",Nw,"N/A"))])])])])]),(0,l._)("table",Rw,[(0,l._)("tbody",null,[Vw,(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",Qw,[Ow,(0,l._)("span",null,(0,p.zw)(d.detailInfo.SemiproductInfo?d.detailInfo.SemiproductInfo[0].semi_product_code:""),1)])]),(0,l._)("td",null,[(0,l._)("div",Aw,[Jw,(0,l._)("span",null,(0,p.zw)(d.detailInfo.SemiproductInfo?d.detailInfo.SemiproductInfo[0].semi_product_name:""),1)])]),(0,l._)("td",null,[(0,l._)("div",$w,[Gw,(0,l._)("span",null,(0,p.zw)(d.detailInfo.SemiproductInfo?d.detailInfo.SemiproductInfo[0].semi_product_lot:""),1)])])])])])]),(0,l._)("div",Ww,[(0,l._)("button",{class:"btn ripple btn-danger ms-2",onClick:t[19]||(t[19]=e=>r.closeModal("semiProductInfo")),type:"button"}," Đóng ")])])])],512)],64)}var Yw={data(){return{selectedProductCode:[],selectedRows:[],products:[],jobsheetID:null,QC:[],productGroups:[],departments:[],isQC:null,jobsheets:[],isTableExpanded:!0,detailInfo:[]}},mounted(){this.jobsheetID=this.$route.params.id,this.getProducts()},methods:{toggleTable(){this.isTableExpanded=!this.isTableExpanded},loadtable(){this.$nextTick((()=>{nt.initializeDataTable("#productTB")}))},getProducts(){va.getData(`jobsheet/showDetailJobSheet/${this.jobsheetID}`).then((e=>{this.jobsheets=e.data.data[0],this.products=e.data.data[0].dataProduct,this.productGroups=e.data.getProductGroup,this.departments=e.data.getDepartment,this.isQC=e.data._isCheckQuantityControl,this.loadtable()})).catch((e=>{console.log(e)}))},getStatus(e){switch(e){case"0":return"bg-primary-light";case"1":return"bg-success-light";case"2":return"bg-success-light";case"3":return"bg-success-light";case"4":return"bg-success-light";case"5":return"bg-success-light";case"6":return"bg-success-light";case"7":return"bg-success-light";case"8":return"bg-success-light";case"9":return"bg-success-light";case"10":return"bg-danger-light";default:return"bg-danger-light"}},productStatus(e){switch(parseInt(e)){case 0:return"Mới tạo";case 1:return"Đã yêu cầu xuất kho";case 2:return"Đã xuất kho";case 3:return"Đã yêu cầu sản xuất";case 4:return"Đang sản xuất";case 5:return"Hoàn thành";case 6:return"Đã gửi yêu cầu kiểm tra";case 7:return"Đã kiểm tra";case 8:return"Đã gửi yêu cầu nhập kho";case 9:return"Đã nhập kho";case 10:return"Đã hủy";default:return"Không rõ"}},exportMaterial(e){const t={jobsheetCode:this.jobsheetID,arrayProductID:this.selectedProductCode};nt.confirmDelete((()=>{va.putData("jobsheet/OrderExportMaterialsJobSheet",t).then((e=>{200==e.data.status&&(nt.showSuccessAlert("Đã yêu cầu xuất kho"),this.getProducts(),this.selectedRows.splice(0,this.selectedRows.length))})).catch((e=>{console.log(e)}))}),"Bạn chắc chắn muốn yêu cầu xuất kho?")},confirmExportMaterial(e){const t={jobsheetCode:this.jobsheetID,arrayProductID:this.selectedProductCode};nt.confirmDelete((()=>{va.putData("jobsheet/ExportMaterialsJobSheet",t).then((e=>{200==e.data.status&&(nt.showSuccessAlert("Đã xuất kho"),this.getProducts(),this.selectedRows.splice(0,this.selectedRows.length))})).catch((e=>{console.log(e)}))}),"Bạn chắc chắn muốn yêu cầu xuất kho?")},assemblyRequest(e){const t={jobsheetCode:this.jobsheetID,arrayProductID:this.selectedProductCode};nt.confirmDelete((()=>{va.putData("jobsheet/OrderProductJobSheet",t).then((e=>{200==e.data.status&&(nt.showSuccessAlert("Đã xuất kho"),this.getProducts(),this.selectedRows.splice(0,this.selectedRows.length)),console.log(e)})).catch((e=>{console.log(e)}))}),"Bạn chắc chắn muốn yêu cầu xuất kho?")},warehoustRequest(){const e={jobsheetCode:this.jobsheetID,arrayProductID:this.selectedProductCode};nt.confirmDelete((()=>{va.putData("jobsheet/OrderStoreJobSheet",e).then((e=>{200==e.data.status&&(nt.showSuccessAlert("Đã gửi yêu cầu nhập kho"),this.getProducts(),this.selectedRows.splice(0,this.selectedRows.length))})).catch((e=>{console.log(e)}))}),"Bạn chắc chắn muốn gửi yêu cầu nhập kho?")},confirmWarehouse(){const e={jobsheetCode:this.jobsheetID,arrayProductID:this.selectedProductCode};nt.confirmDelete((()=>{va.putData("jobsheet/StoreWarehouseJobSheet",e).then((e=>{200==e.data.status&&(nt.showSuccessAlert("Đã nhập kho"),this.getProducts(),this.selectedRows.splice(0,this.selectedRows.length))})).catch((e=>{console.log(e)}))}),"Nhập kho sản phẩm?")},checkExist(){if(0==this.isQC){const e=this.$refs.QualityControlModal;$(e).modal("show");const t=JSON.parse(sessionStorage.getItem("userLogin"));this.QC.user_id=t.fullname,this.QC.quality_control_create_date=(0,st.Z)(new Date,"dd/MM/yyyy")}else this.qualityCheck()},qualityCheck(){const e={jobsheetCode:this.jobsheetID,arrayProductID:this.selectedProductCode,fullname:this.QC.user_id,type_quality_control:this.QC.type_quality_control,type_product_to_check:this.QC.type_product_to_check,department:this.QC.deparment,type_product_group:this.QC.type_product_group,quality_control_specification:this.QC.quality_control_specification,quality_control_note:this.QC.quality_control_note};va.putData("jobsheet/OrderQCJobSheet",e).then((e=>{200==e.data.status&&(nt.showSuccessAlert("Đã gửi yêu cầu kiểm tra"),this.getProducts(),this.closeModal("QualityControlModal","QC","updateErrors"),this.selectedRows.splice(0,this.selectedRows.length))})).catch((e=>{console.log(e)}))},closeModal(e,t,s){const a=this.$refs[e];$(a).modal("hide"),this[t]={},this[s]={}},getResult(e){switch(e){case"0":return"bg-danger-light";case"1":return"bg-success-light";default:return"bg-danger-light"}},ResultShow(e){switch(parseInt(e)){case 0:return"FAIL";case 1:return"PASS";default:return"Không rõ"}},checkStatus(){this.selectedProductCode=[];for(let e=0;e<this.selectedRows.length;e++)this.selectedProductCode.push(this.selectedRows[e].product_code)},checkAction(e){if(this.selectedRows.length<1)return!1;for(let t=0;t<this.selectedRows.length;t++){if(this.selectedRows[0].product_status!=this.selectedRows[t].product_status)return!1;if(this.selectedRows[t].product_status!=e)return!1;if(7==this.selectedRows[t].product_status&&1!=this.selectedRows[t].product_result)return!1}return!0},viewDetail(e){this.detailInfo=e,console.log(this.detailInfo)}}};const Hw=(0,r.Z)(Yw,[["render",Bw]]);var Kw=Hw;const Zw={class:"main-content side-content pt-0"},Fw={class:"main-container container-fluid pt-5"},Xw={class:"inner-body"},ek={class:"page-header"},tk=(0,l.uE)('<div><h2 class="main-content-title tx-24 mg-b-5">Chi tiết lịch sản xuất</h2><ol class="breadcrumb"><li class="breadcrumb-item"><a href="jobsheet.html">Lịch sản xuất</a></li><li class="breadcrumb-item active" aria-current="page">Chi tiết lịch sản xuất</li></ol></div>',1),sk={class:"d-flex"},ak={class:"justify-content-center"},lk=(0,l._)("i",{class:"fe fe-corner-down-left"},null,-1),ok={class:"row row-sm"},dk={class:"col-lg-12"},rk={class:"card custom-card"},ik={class:"card-body"},nk={class:"d-flex justify-content-between"},ck=(0,l._)("div",null,[(0,l._)("h6",{class:"main-content-label mb-1"},"Lịch sản xuất"),(0,l._)("p",{class:"text-muted card-sub-title"})],-1),uk={key:0,class:"fe fe-minus"},_k={key:1,class:"fe fe-minimize"},pk={class:"table-responsive"},mk={class:"table"},hk={class:"form-group"},bk=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Mã lịch SX",-1),gk={class:"form-group"},vk=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Ngày tạo",-1),fk={class:"align-top"},yk={class:"form-group"},wk=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Lý do",-1),kk={class:"form-group"},xk=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Mã sản phẩm",-1),Ck={colspan:"2"},Dk={class:"form-group"},Pk=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Tên sản phẩm",-1),Mk={class:"form-group"},Sk=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Số lượng",-1),Ek={class:"form-group"},Tk=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Đơn vị",-1),zk={class:"form-group"},Uk=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Loại sản xuất",-1),jk={class:"align-top"},qk={class:"form-group"},Ik=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Mã BOM",-1),Lk={class:"form-group"},Nk=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Quy cách",-1),Rk={class:"form-group"},Vk=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Ghi chú",-1),Qk={class:"page-header"},Ok={class:"d-flex"},Ak={class:"justify-content-center"},Jk=["disabled"],$k=(0,l._)("i",{class:"fe fe-download me-2"},null,-1),Gk=["disabled"],Wk=(0,l._)("i",{class:"fe fe-download me-2"},null,-1),Bk=["disabled"],Yk=(0,l._)("i",{class:"fe fe-download me-2"},null,-1),Hk=["disabled"],Kk=(0,l._)("i",{class:"fe fe-download me-2"},null,-1),Zk=["disabled"],Fk=(0,l._)("i",{class:"fe fe-download me-2"},null,-1),Xk=["disabled"],ex=(0,l._)("i",{class:"fe fe-download me-2"},null,-1),tx={class:"row row-sm"},sx={class:"col-lg-12"},ax={class:"card custom-card"},lx={class:"card-body"},ox=(0,l._)("div",null,[(0,l._)("h6",{class:"main-content-label mb-1"},"Danh sách sản phẩm trong lịch sản xuất"),(0,l._)("p",{class:"text-muted card-sub-title"})],-1),dx={class:"table-responsive"},rx={class:"table table-bordered",id:"semiProductTB"},ix=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",null,"Chọn"),(0,l._)("th",null,"STT"),(0,l._)("th",null,"Số lot"),(0,l._)("th",null,"Số SIM/E-SIM"),(0,l._)("th",null,"Trạng thái"),(0,l._)("th",null,"Kết quả"),(0,l._)("th",null,"Ghi chú")])],-1),nx=["value","disabled"],cx=["onClick"],ux={class:"modal fade",id:"quality_control_modal",ref:"QualityControlModal"},_x={class:"modal-dialog modal-xl",role:"document"},px={class:"modal-content modal-content-demo"},mx=(0,l._)("div",{class:"modal-header"},[(0,l._)("h6",{class:"modal-title"},"Phiếu yêu cầu kiểm tra"),(0,l._)("button",{"aria-label":"Close",class:"btn-close","data-bs-dismiss":"modal",type:"button"})],-1),hx={class:"modal-body"},bx={class:"table"},gx={class:"align-top"},vx={class:"form-group"},fx=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Người tạo",-1),yx=(0,l._)("div",{class:"invalid-feedback mt-2"},null,-1),wx={class:"align-top"},kx={class:"form-group"},xx=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Ngày tạo",-1),Cx={class:"align-top"},Dx={class:"form-group"},Px=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Loại kiểm tra",-1),Mx=(0,l._)("option",{value:"T"},"Test",-1),Sx=(0,l._)("option",{value:"R"},"Retest",-1),Ex=[Mx,Sx],Tx={class:"align-top"},zx={class:"form-group"},Ux=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Bộ phận yêu cầu",-1),jx=["value"],qx={class:"align-top"},Ix={class:"form-group"},Lx=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Loại sản phẩm",-1),Nx=(0,l._)("option",{value:"P"},"Thành phẩm",-1),Rx=(0,l._)("option",{value:"S"},"Bán thành phẩm",-1),Vx=(0,l._)("option",{value:"M"},"Nguyên vật liệu",-1),Qx=[Nx,Rx,Vx],Ox={class:"align-top"},Ax={class:"form-group"},Jx=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Nhóm sản phẩm",-1),$x=["value"],Gx={class:"align-top",colspan:"2"},Wx={class:"form-group"},Bx=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Quy cách Test",-1),Yx=(0,l._)("div",{class:"invalid-feedback mt-2"},null,-1),Hx={class:"align-top",colspan:"2"},Kx={class:"form-group"},Zx=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Ghi chú",-1),Fx=(0,l._)("div",{class:"invalid-feedback mt-2"},null,-1),Xx={class:"modal-footer"},eC={class:"modal fade",id:"semi_product_info",ref:"semiProductInfo"},tC={class:"modal-dialog modal-xl",role:"document"},sC={class:"modal-content modal-content-demo"},aC=(0,l._)("div",{class:"modal-header"},[(0,l._)("h6",{class:"modal-title"},"Thông tin chi tiết"),(0,l._)("button",{"aria-label":"Close",class:"btn-close","data-bs-dismiss":"modal",type:"button"})],-1),lC={class:"modal-body"},oC={class:"table"},dC={class:"form-group"},rC=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Mã LSX",-1),iC={class:"form-group"},nC=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Mã sản phẩm",-1),cC={class:"form-group"},uC=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Tên sản phẩm",-1),_C={class:"form-group"},pC=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Số Lot Board",-1),mC={class:"form-group"},hC=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Trạng Thái",-1),bC={class:"form-group"},gC=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Nhân viên sản xuất",-1),vC={class:"form-group"},fC=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Ngày hoàn thành",-1),yC={class:"form-group"},wC=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Kết quả kiểm tra",-1),kC={class:"form-group"},xC=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Ngày kiểm tra",-1),CC={class:"form-group"},DC=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Số phiếu/Người kiểm tra",-1),PC={class:"form-group"},MC=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Số SIM/E-SIM",-1),SC={class:"form-group"},EC=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Gói Cước",-1),TC={class:"form-group"},zC=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Ngày kích hoạt",-1),UC={class:"form-group"},jC=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Ngày hết hạn",-1),qC={class:"form-group"},IC=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Loại",-1),LC={class:"modal-footer"};function NC(e,t,s,o,d,r){const i=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",Zw,[(0,l._)("div",Fw,[(0,l._)("div",Xw,[(0,l._)("div",ek,[tk,(0,l._)("div",sk,[(0,l._)("div",ak,[(0,l.Wm)(i,{to:"/jobsheets",class:"btn btn-white btn-rounded my-2 btn-icon-text",disabled:0===d.selectedRows.length},{default:(0,l.w5)((()=>[lk,(0,l.Uk)(" Trở lại ")])),_:1},8,["disabled"])])])]),(0,l._)("div",ok,[(0,l._)("div",dk,[(0,l._)("div",rk,[(0,l._)("div",ik,[(0,l._)("div",nk,[ck,(0,l._)("div",null,[(0,l._)("button",{class:"btn",onClick:t[0]||(t[0]=(...e)=>r.toggleTable&&r.toggleTable(...e))},[d.isTableExpanded?((0,l.wg)(),(0,l.iD)("i",uk)):((0,l.wg)(),(0,l.iD)("i",_k))])])]),(0,l.wy)((0,l._)("div",pk,[(0,l._)("table",mk,[(0,l._)("tbody",null,[(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",hk,[bk,(0,l._)("span",null,(0,p.zw)(d.jobsheets.jobsheet_code),1)])]),(0,l._)("td",null,[(0,l._)("div",gk,[vk,(0,l._)("span",null,(0,p.zw)(d.jobsheets.jobsheet_create_date),1)])]),(0,l._)("td",fk,[(0,l._)("div",yk,[wk,(0,l._)("span",null,(0,p.zw)(d.jobsheets.production_order_code),1)])]),(0,l._)("td",null,[(0,l._)("div",kk,[xk,(0,l._)("span",null,(0,p.zw)(d.jobsheets.product_id),1)])]),(0,l._)("td",Ck,[(0,l._)("div",Dk,[Pk,(0,l._)("span",null,(0,p.zw)(d.jobsheets.product_name),1)])])]),(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",Mk,[Sk,(0,l._)("span",null,(0,p.zw)(d.jobsheets.product_quantity),1)])]),(0,l._)("td",null,[(0,l._)("div",Ek,[Tk,(0,l._)("span",null,(0,p.zw)(d.jobsheets.product_unit),1)])]),(0,l._)("td",null,[(0,l._)("div",zk,[Uk,(0,l._)("span",null,(0,p.zw)(d.jobsheets.product_type_code),1)])]),(0,l._)("td",jk,[(0,l._)("div",qk,[Ik,(0,l._)("span",null,(0,p.zw)(d.jobsheets.BOM_code),1)])]),(0,l._)("td",null,[(0,l._)("div",Lk,[Nk,(0,l._)("span",null,(0,p.zw)(d.jobsheets.specification),1)])]),(0,l._)("td",null,[(0,l._)("div",Rk,[Vk,(0,l._)("span",null,(0,p.zw)(d.jobsheets.jobsheet_note),1)])])])])])],512),[[a.F8,d.isTableExpanded]])])])])]),(0,l._)("div",Qk,[(0,l._)("div",Ok,[(0,l._)("div",Ak,[(0,l._)("button",{onClick:t[1]||(t[1]=(...e)=>r.exportMaterial&&r.exportMaterial(...e)),class:"btn btn-primary btn-rounded btn-icon-text my-2 me-2",disabled:!r.checkAction(0)},[$k,(0,l.Uk)(" Yêu cầu xuất kho ")],8,Jk),(0,l._)("button",{onClick:t[2]||(t[2]=(...e)=>r.confirmExportMaterial&&r.confirmExportMaterial(...e)),class:"btn btn-primary btn-rounded btn-icon-text my-2 me-2",disabled:!r.checkAction(1)},[Wk,(0,l.Uk)(" Xuất kho ")],8,Gk),(0,l._)("button",{onClick:t[3]||(t[3]=(...e)=>r.weldingRequest&&r.weldingRequest(...e)),class:"btn btn-primary btn-rounded btn-icon-text my-2 me-2",disabled:!r.checkAction(2)},[Yk,(0,l.Uk)("Yêu cầu sản xuất ")],8,Bk),(0,l._)("button",{onClick:t[4]||(t[4]=(...e)=>r.checkExist&&r.checkExist(...e)),class:"btn btn-primary btn-rounded btn-icon-text my-2 me-2",disabled:!r.checkAction(5)},[Kk,(0,l.Uk)(" Yêu cầu kiểm tra ")],8,Hk),(0,l._)("button",{onClick:t[5]||(t[5]=(...e)=>r.warehoustRequest&&r.warehoustRequest(...e)),class:"btn btn-primary btn-rounded btn-icon-text my-2 me-2",disabled:!r.checkAction(7)},[Fk,(0,l.Uk)(" Yêu cầu nhập kho ")],8,Zk),(0,l._)("button",{onClick:t[6]||(t[6]=(...e)=>r.confirmWarehouse&&r.confirmWarehouse(...e)),class:"btn btn-primary btn-rounded btn-icon-text my-2 me-2",disabled:!r.checkAction(8)},[ex,(0,l.Uk)(" Nhập kho ")],8,Xk)])])]),(0,l._)("div",tx,[(0,l._)("div",sx,[(0,l._)("div",ax,[(0,l._)("div",lx,[ox,(0,l._)("div",dx,[(0,l._)("table",rx,[ix,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.semiProducts,((e,s)=>((0,l.wg)(),(0,l.iD)("tr",{key:e._id},[(0,l._)("td",null,[(0,l.wy)((0,l._)("input",{type:"checkbox","onUpdate:modelValue":t[7]||(t[7]=e=>d.selectedRows=e),onChange:t[8]||(t[8]=e=>r.checkStatus()),value:e,disabled:9==e.semi_product_status||10==e.semi_product_status},null,40,nx),[[a.e8,d.selectedRows]])]),(0,l._)("td",null,(0,p.zw)(s+1),1),(0,l._)("td",null,(0,p.zw)(e.semi_product_lot),1),(0,l._)("td",null,[(0,l._)("div",{class:"tooltip1",onClick:t=>r.viewDetail(e),"data-bs-target":"#semi_product_info","data-bs-toggle":"modal"},(0,p.zw)(e.CategoriesSimInfo[0]?e.CategoriesSimInfo[0].serial_sim:""),9,cx)]),(0,l._)("td",null,[(0,l._)("span",{class:(0,p.C_)(["badge bg-pill",r.getStatus(e.semi_product_status)])},(0,p.zw)(r.semiProductStatus(e.semi_product_status)),3)]),(0,l._)("td",null,[e.semi_product_result?((0,l.wg)(),(0,l.iD)("span",{key:0,class:(0,p.C_)(["badge bg-pill",r.getResult(e.semi_product_result)])},(0,p.zw)(r.ResultShow(e.semi_product_result)),3)):(0,l.kq)("",!0)]),(0,l._)("td",null,(0,p.zw)(e.semi_product_note),1)])))),128))])])])])])])])])])]),(0,l._)("div",ux,[(0,l._)("div",_x,[(0,l._)("div",px,[mx,(0,l._)("div",hx,[(0,l._)("table",bx,[(0,l._)("tbody",null,[(0,l._)("tr",null,[(0,l._)("td",gx,[(0,l._)("div",vx,[fx,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control text-black","onUpdate:modelValue":t[9]||(t[9]=e=>d.QC.user_id=e),readonly:""},null,512),[[a.nr,d.QC.user_id]]),yx])]),(0,l._)("td",wx,[(0,l._)("div",kx,[xx,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control text-black","onUpdate:modelValue":t[10]||(t[10]=e=>d.QC.quality_control_create_date=e),readonly:""},null,512),[[a.nr,d.QC.quality_control_create_date]])])]),(0,l._)("td",Cx,[(0,l._)("div",Dx,[Px,(0,l.wy)((0,l._)("select",{class:"form-control form-select text-body","onUpdate:modelValue":t[11]||(t[11]=e=>d.QC.type_quality_control=e)},Ex,512),[[a.bM,d.QC.type_quality_control]])])])]),(0,l._)("tr",null,[(0,l._)("td",Tx,[(0,l._)("div",zx,[Ux,(0,l.wy)((0,l._)("select",{class:"form-control form-select text-body","onUpdate:modelValue":t[12]||(t[12]=e=>d.QC.deparment=e)},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.departments,((e,t)=>((0,l.wg)(),(0,l.iD)("option",{key:e.department_code,value:e.department_code},(0,p.zw)(e.department_name),9,jx)))),128))],512),[[a.bM,d.QC.deparment]])])]),(0,l._)("td",qx,[(0,l._)("div",Ix,[Lx,(0,l.wy)((0,l._)("select",{class:"form-control form-select text-body","onUpdate:modelValue":t[13]||(t[13]=e=>d.QC.type_product_to_check=e)},Qx,512),[[a.bM,d.QC.type_product_to_check]])])]),(0,l._)("td",Ox,[(0,l._)("div",Ax,[Jx,(0,l.wy)((0,l._)("select",{class:"form-control form-select text-body","onUpdate:modelValue":t[14]||(t[14]=e=>d.QC.type_product_group=e)},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.productGroups,((e,t)=>((0,l.wg)(),(0,l.iD)("option",{key:e.product_group_code,value:e.product_group_code}," ("+(0,p.zw)(e.product_group_code)+") "+(0,p.zw)(e.product_group_name),9,$x)))),128))],512),[[a.bM,d.QC.type_product_group]])])])]),(0,l._)("tr",null,[(0,l._)("td",Gx,[(0,l._)("div",Wx,[Bx,(0,l.wy)((0,l._)("textarea",{class:"form-control text-black","onUpdate:modelValue":t[15]||(t[15]=e=>d.QC.quality_control_specification=e),rows:"5",placeholder:"Nhập quy cách test"},null,512),[[a.nr,d.QC.quality_control_specification]]),Yx])]),(0,l._)("td",Hx,[(0,l._)("div",Kx,[Zx,(0,l.wy)((0,l._)("textarea",{class:"form-control text-black","onUpdate:modelValue":t[16]||(t[16]=e=>d.QC.quality_control_note=e),rows:"5",placeholder:"Nhập ghi chú"},null,512),[[a.nr,d.QC.quality_control_note]]),Fx])])])])])]),(0,l._)("div",Xx,[(0,l._)("div",null,[(0,l._)("button",{class:"btn ripple btn-primary",onClick:t[17]||(t[17]=(...e)=>r.qualityCheck&&r.qualityCheck(...e))},"Lưu"),(0,l._)("button",{class:"btn ripple btn-danger ms-2",onClick:t[18]||(t[18]=e=>r.closeModal("QualityControlModal","QC","updateErrors")),type:"button"}," Đóng ")])])])])],512),(0,l._)("div",eC,[(0,l._)("div",tC,[(0,l._)("div",sC,[aC,(0,l._)("div",lC,[(0,l._)("table",oC,[(0,l._)("tbody",null,[(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",dC,[rC,(0,l._)("span",null,(0,p.zw)(d.detailInfo.jobsheet_code),1)])]),(0,l._)("td",null,[(0,l._)("div",iC,[nC,(0,l._)("span",null,(0,p.zw)(d.detailInfo.semi_product_code),1)])]),(0,l._)("td",null,[(0,l._)("div",cC,[uC,(0,l._)("span",null,(0,p.zw)(d.detailInfo.semi_product_name),1)])]),(0,l._)("td",null,[(0,l._)("div",_C,[pC,(0,l._)("span",null,(0,p.zw)(d.detailInfo.semi_product_lot),1)])]),(0,l._)("td",null,[(0,l._)("div",mC,[hC,(0,l._)("span",{class:(0,p.C_)(["badge bg-pill",r.getStatus(d.detailInfo.semi_product_status)])},(0,p.zw)(r.semiProductStatus(d.detailInfo.semi_product_status)),3)])])]),(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",bC,[gC,(0,l._)("span",null,(0,p.zw)(d.detailInfo.semi_product_assembler),1)])]),(0,l._)("td",null,[(0,l._)("div",vC,[fC,(0,l._)("span",null,(0,p.zw)(d.detailInfo.semi_product_assembly_date),1)])]),(0,l._)("td",null,[(0,l._)("div",yC,[wC,(0,l._)("span",{class:(0,p.C_)(["badge bg-pill",r.getResult(d.detailInfo.semi_product_result)])},(0,p.zw)(r.ResultShow(d.detailInfo.semi_product_result)),3)])]),(0,l._)("td",null,[(0,l._)("div",kC,[xC,(0,l._)("span",null,(0,p.zw)(d.detailInfo.semi_product_test_date),1)])]),(0,l._)("td",null,[(0,l._)("div",CC,[DC,(0,l._)("span",null,(0,p.zw)(d.detailInfo.semi_product_tester),1)])])]),(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",PC,[MC,(0,l._)("span",null,(0,p.zw)(d.detailInfo.CategoriesSimInfo?d.detailInfo.CategoriesSimInfo[0].serial_sim:""),1)])]),(0,l._)("td",null,[(0,l._)("div",SC,[EC,(0,l._)("span",null,(0,p.zw)(d.detailInfo.CategoriesSimInfo?d.detailInfo.CategoriesSimInfo[0].SimpackageInfo[0].sim_package_description:""),1)])]),(0,l._)("td",null,[(0,l._)("div",TC,[zC,(0,l._)("span",null,(0,p.zw)(d.detailInfo.CategoriesSimInfo?d.detailInfo.CategoriesSimInfo[0].activation_date:""),1)])]),(0,l._)("td",null,[(0,l._)("div",UC,[jC,(0,l._)("span",null,(0,p.zw)(d.detailInfo.CategoriesSimInfo?d.detailInfo.CategoriesSimInfo[0].expiration_date:""),1)])]),(0,l._)("td",null,[(0,l._)("div",qC,[IC,(0,l._)("span",{class:(0,p.C_)(d.detailInfo.CategoriesSimInfo&&"E-SIM"===d.detailInfo.CategoriesSimInfo[0].sim_type?"tag tag-success tag-pill":"tag tag-warning tag-pill")},(0,p.zw)(d.detailInfo.CategoriesSimInfo?d.detailInfo.CategoriesSimInfo[0].sim_type:""),3)])])])])])]),(0,l._)("div",LC,[(0,l._)("button",{class:"btn ripple btn-danger ms-2",onClick:t[19]||(t[19]=e=>r.closeModal("semiProductInfo")),type:"button"}," Đóng ")])])])],512)],64)}var RC={data(){return{selectedProductCode:[],selectedRows:[],semiProducts:[],jobsheetID:null,QC:[],updateErrors:[],productGroups:[],departments:[],isQC:null,jobsheets:[],isTableExpanded:!0,detailInfo:[]}},mounted(){this.jobsheetID=this.$route.params.id,this.getSemiProducts()},methods:{toggleTable(){this.isTableExpanded=!this.isTableExpanded},loadtable(){this.$nextTick((()=>{nt.initializeDataTable("#semiProductTB")}))},getSemiProducts(){va.getData(`jobsheet/showDetailJobSheet/${this.jobsheetID}`).then((e=>{this.jobsheets=e.data.data[0],this.semiProducts=e.data.data[0].dataSemiProduct,this.productGroups=e.data.getProductGroup,this.departments=e.data.getDepartment,this.isQC=e.data._isCheckQuantityControl,this.loadtable()})).catch((e=>{console.log(e)}))},getStatus(e){switch(e){case"0":return"bg-primary-light";case"1":return"bg-success-light";case"2":return"bg-success-light";case"3":return"bg-success-light";case"4":return"bg-success-light";case"5":return"bg-success-light";case"6":return"bg-success-light";case"7":return"bg-success-light";case"8":return"bg-success-light";case"9":return"bg-success-light";case"10":return"bg-danger-light";default:return"bg-danger-light"}},semiProductStatus(e){switch(parseInt(e)){case 0:return"Mới tạo";case 1:return"Đã yêu cầu xuất kho";case 2:return"Đã xuất kho";case 3:return"Đã yêu cầu sản xuất";case 4:return"Đang sản xuất";case 5:return"Hoàn thành";case 6:return"Đã gửi yêu cầu kiểm tra";case 7:return"Đã kiểm tra";case 8:return"Đã gửi yêu cầu nhập kho";case 9:return"Đã nhập kho";case 10:return"Đã hủy";default:return"Không rõ"}},closeModal(e,t,s){const a=this.$refs[e];$(a).modal("hide"),this[t]={},this[s]={}},exportMaterial(){const e={jobsheetCode:this.jobsheetID,arrayProductID:this.selectedProductCode};nt.confirmDelete((()=>{va.putData("jobsheet/OrderExportMaterialsJobSheet",e).then((e=>{200==e.data.status&&(nt.showSuccessAlert("Đã yêu cầu xuất kho"),this.getSemiProducts(),this.selectedRows.splice(0,this.selectedRows.length))})).catch((e=>{console.log(e)}))}),"Bạn chắc chắn muốn yêu cầu xuất kho?")},confirmExportMaterial(){const e={jobsheetCode:this.jobsheetID,arrayProductID:this.selectedProductCode};nt.confirmDelete((()=>{va.putData("jobsheet/ExportMaterialsJobSheet",e).then((e=>{200==e.data.status&&(nt.showSuccessAlert("Đã xuất kho"),this.getSemiProducts(),this.selectedRows.splice(0,this.selectedRows.length))})).catch((e=>{console.log(e)}))}),"Bạn chắc chắn muốn xuất kho?")},weldingRequest(){const e={jobsheetCode:this.jobsheetID,arrayProductID:this.selectedProductCode};nt.confirmDelete((()=>{va.putData("jobsheet/OrderProductJobSheet",e).then((e=>{200==e.data.status&&(nt.showSuccessAlert("Đã gửi yêu cầu sản xuất"),this.getSemiProducts(),this.selectedRows.splice(0,this.selectedRows.length))})).catch((e=>{console.log(e)}))}),"Bạn chắc chắn muốn yêu cầu sản xuất?")},warehoustRequest(){const e={jobsheetCode:this.jobsheetID,arrayProductID:this.selectedProductCode};nt.confirmDelete((()=>{va.putData("jobsheet/OrderStoreJobSheet",e).then((e=>{200==e.data.status&&(nt.showSuccessAlert("Đã gửi yêu cầu nhập kho"),this.getSemiProducts(),this.selectedRows.splice(0,this.selectedRows.length))})).catch((e=>{console.log(e)}))}),"Bạn chắc chắn muốn gửi yêu cầu nhập kho?")},confirmWarehouse(){const e={jobsheetCode:this.jobsheetID,arrayProductID:this.selectedProductCode};nt.confirmDelete((()=>{va.putData("jobsheet/StoreWarehouseJobSheet",e).then((e=>{200==e.data.status&&(nt.showSuccessAlert("Đã nhập kho"),this.getSemiProducts(),this.selectedRows.splice(0,this.selectedRows.length))})).catch((e=>{console.log(e)}))}),"Nhập kho sản phẩm?")},checkExist(){if(0==this.isQC){const e=this.$refs.QualityControlModal;$(e).modal("show");const t=JSON.parse(sessionStorage.getItem("userLogin"));this.QC.user_id=t.fullname,this.QC.quality_control_create_date=(0,st.Z)(new Date,"dd/MM/yyyy")}else this.qualityCheck()},qualityCheck(){const e={jobsheetCode:this.jobsheetID,arrayProductID:this.selectedProductCode,fullname:this.QC.user_id,type_quality_control:this.QC.type_quality_control,type_product_to_check:this.QC.type_product_to_check,department:this.QC.deparment,type_product_group:this.QC.type_product_group,quality_control_specification:this.QC.quality_control_specification,quality_control_note:this.QC.quality_control_note};va.putData("jobsheet/OrderQCJobSheet",e).then((e=>{200==e.data.status&&(nt.showSuccessAlert("Đã gửi yêu cầu kiểm tra"),this.getSemiProducts(),this.closeModal("QualityControlModal","QC","updateErrors"),this.selectedRows.splice(0,this.selectedRows.length))})).catch((e=>{console.log(e)}))},getResult(e){switch(e){case"0":return"bg-danger-light";case"1":return"bg-success-light";default:return"bg-danger-light"}},ResultShow(e){switch(parseInt(e)){case 0:return"FAIL";case 1:return"PASS";default:return"Không rõ"}},checkStatus(){this.selectedProductCode=[];for(let e=0;e<this.selectedRows.length;e++)this.selectedProductCode.push(this.selectedRows[e].semi_product_lot)},checkAction(e){if(this.selectedRows.length<1)return!1;for(let t=0;t<this.selectedRows.length;t++){if(this.selectedRows[0].semi_product_status!=this.selectedRows[t].semi_product_status)return!1;if(this.selectedRows[t].semi_product_status!=e)return!1;if(7==this.selectedRows[t].semi_product_status&&1!=this.selectedRows[t].semi_product_result)return!1}return!0},viewDetail(e){this.detailInfo=e}}};const VC=(0,r.Z)(RC,[["render",NC]]);var QC=VC;const OC={class:"main-content side-content pt-0"},AC={class:"main-container container-fluid pt-5"},JC={class:"inner-body"},$C=(0,l.uE)('<div class="page-header"><div><h2 class="main-content-title tx-24 mg-b-5">Hàn mạch</h2><ol class="breadcrumb"><li class="breadcrumb-item"><a href="#">Trang chủ</a></li><li class="breadcrumb-item active" aria-current="page"> Hàn mạch </li></ol></div></div>',1),GC={class:"row row-sm"},WC={class:"col-lg-12"},BC={class:"card custom-card"},YC={class:"card-body"},HC=(0,l._)("div",null,[(0,l._)("h6",{class:"main-content-label mb-1"},"Danh sách hàn mạch"),(0,l._)("p",{class:"text-muted card-sub-title"})],-1),KC={class:"table-responsive"},ZC=["data"],FC=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",null,"STT"),(0,l._)("th",{class:"wd-25p"},"Mã lịch SX"),(0,l._)("th",{class:"wd-20p"},"Mã sản phẩm"),(0,l._)("th",{class:"wd-20p"},"Têm sản phẩm"),(0,l._)("th",{class:"wd-20p"},"Ghi chú"),(0,l._)("th",{class:"wd-15p"},"Thao tác")])],-1),XC=(0,l._)("td",null,null,-1),eD=["onClick"],tD=(0,l._)("i",{class:"fe fe-eye"},null,-1),sD=[tD],aD={class:"modal fade",id:"SemiProduct",ref:"SemiProduct"},lD={class:"modal-dialog modal-fullscreen",role:"document"},oD={class:"modal-content modal-content-demo"},dD={class:"modal-body"},rD={class:"modal-footer"};function iD(e,t,s,a,o,d){const r=(0,l.up)("ListSemiProduct");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",OC,[(0,l._)("div",AC,[(0,l._)("div",JC,[$C,(0,l._)("div",GC,[(0,l._)("div",WC,[(0,l._)("div",BC,[(0,l._)("div",YC,[HC,(0,l._)("div",KC,[(0,l._)("table",{data:o.weldings,class:"table table-bordered",id:"weldingTable"},[FC,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.weldings,((e,t)=>((0,l.wg)(),(0,l.iD)("tr",{key:e._id},[(0,l._)("td",null,(0,p.zw)(t+1),1),(0,l._)("td",null,(0,p.zw)(e.jobsheet_code),1),(0,l._)("td",null,(0,p.zw)(e.getDetail[0].product_id),1),(0,l._)("td",null,(0,p.zw)(e.getDetail[0].product_name),1),XC,(0,l._)("td",null,[(0,l._)("a",{onClick:t=>d.chooseJobsheet(e),"data-bs-target":"#SemiProduct","data-bs-toggle":"modal",class:"btn btn-sm btn-outline-primary ms-1"},sD,8,eD)])])))),128))])],8,ZC)])])])])])])])]),(0,l._)("div",aD,[(0,l._)("div",lD,[(0,l._)("div",oD,[(0,l._)("div",dD,[(0,l.Wm)(r,{jobsheetCode:o.jobsheetCode},null,8,["jobsheetCode"])]),(0,l._)("div",rD,[(0,l._)("div",null,[(0,l._)("button",{class:"btn ripple btn-danger ms-2",onClick:t[0]||(t[0]=e=>d.closeModal("SemiProduct")),type:"button"}," Đóng ")])])])])],512)],64)}const nD={class:"row row-sm"},cD={class:"col-lg-12"},uD={class:"card custom-card"},_D={class:"card-body"},pD={class:"d-flex justify-content-between"},mD=(0,l._)("div",null,[(0,l._)("h6",{class:"main-content-label mb-1"},"Lịch sản xuất"),(0,l._)("p",{class:"text-muted card-sub-title"})],-1),hD={key:0,class:"fe fe-minus"},bD={key:1,class:"fe fe-minimize"},gD={class:"table"},vD={class:"table"},fD={class:"form-group"},yD=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Mã lịch SX",-1),wD={class:"form-group"},kD=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Ngày tạo",-1),xD={class:"align-top"},CD={class:"form-group"},DD=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Lý do",-1),PD={class:"form-group"},MD=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Mã sản phẩm",-1),SD={colspan:"2"},ED={class:"form-group"},TD=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Tên sản phẩm",-1),zD={class:"form-group"},UD=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Số lượng",-1),jD={class:"form-group"},qD=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Đơn vị",-1),ID={class:"form-group"},LD=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Loại sản xuất",-1),ND={class:"align-top"},RD={class:"form-group"},VD=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Mã BOM",-1),QD={class:"form-group"},OD=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Quy cách",-1),AD={class:"form-group"},JD=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Ghi chú",-1),$D={class:"row row-sm"},GD={class:"col-lg-12"},WD={class:"card custom-card"},BD={class:"card-body"},YD=(0,l._)("div",null,[(0,l._)("h6",{class:"main-content-label mb-1"},"Danh sách hàn mạch"),(0,l._)("p",{class:"text-muted card-sub-title"})],-1),HD={class:"table-responsive"},KD=["data"],ZD=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",null,"STT"),(0,l._)("th",null,"Số lot"),(0,l._)("th",null,"Mã BTP"),(0,l._)("th",null,"Tên BTP"),(0,l._)("th",null,"Số SIM"),(0,l._)("th",null,"NV thực hiện"),(0,l._)("th",null,"Ngày hoàn thành"),(0,l._)("th",null,"Trạng thái"),(0,l._)("th",null,"Ghi chú"),(0,l._)("th",null,"Thao tác")])],-1),FD=["onClick"],XD=["onClick"],eP={class:"modal",id:"update_welding",ref:"SemiProductModal"},tP={class:"modal-dialog modal-lg",role:"document"},sP={class:"modal-content modal-content-demo",style:{"box-shadow":"rgba(0, 0, 0, 0.5) 0px 4px 100px"}},aP={class:"modal-header"},lP=(0,l._)("h6",{class:"modal-title"},"Thông tin hàn mạch",-1),oP={class:"modal-body"},dP={class:"table"},rP={class:"align-top"},iP={class:"form-group"},nP=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Số lot BTP",-1),cP={class:"form-group"},uP=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Tên BTP",-1),_P={class:"form-group"},pP=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Số SIM/E-SIM",-1),mP=["value"],hP={key:0,class:"invalid-feedback"},bP={class:"form-group"},gP=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Ngày kích hoạt",-1),vP={key:0,class:"invalid-feedback"},fP={class:"align-top"},yP={class:"form-group"},wP=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Gói cước sử dụng",-1),kP=["value"],xP={key:0,class:"invalid-feedback"},CP={class:"form-group"},DP=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Mục đích",-1),PP={key:0,class:"invalid-feedback"},MP={class:"align-top"},SP={class:"form-group"},EP=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Trạng thái",-1),TP=(0,l._)("option",{value:"5"},"Hoàn thành",-1),zP=(0,l._)("option",{value:"10"},"Đã hủy",-1),UP=[TP,zP],jP={key:0,class:"invalid-feedback"},qP={class:"form-group"},IP=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Ngày hoàn thành",-1),LP={key:0,class:"invalid-feedback"},NP={colspan:"2"},RP={class:"form-group"},VP=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Ghi chú",-1),QP={class:"modal-footer"};function OP(e,t,s,o,d,r){return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",nD,[(0,l._)("div",cD,[(0,l._)("div",uD,[(0,l._)("div",_D,[(0,l._)("div",pD,[mD,(0,l._)("div",null,[(0,l._)("button",{class:"btn",onClick:t[0]||(t[0]=(...e)=>r.toggleTable&&r.toggleTable(...e))},[d.isTableExpanded?((0,l.wg)(),(0,l.iD)("i",hD)):((0,l.wg)(),(0,l.iD)("i",bD))])])]),(0,l.wy)((0,l._)("div",gD,[(0,l._)("table",vD,[(0,l._)("tbody",null,[(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",fD,[yD,(0,l._)("span",null,(0,p.zw)(d.jobsheets.jobsheet_code),1)])]),(0,l._)("td",null,[(0,l._)("div",wD,[kD,(0,l._)("span",null,(0,p.zw)(d.jobsheets.jobsheet_create_date),1)])]),(0,l._)("td",xD,[(0,l._)("div",CD,[DD,(0,l._)("span",null,(0,p.zw)(d.jobsheets.production_order_code),1)])]),(0,l._)("td",null,[(0,l._)("div",PD,[MD,(0,l._)("span",null,(0,p.zw)(d.jobsheets.product_id),1)])]),(0,l._)("td",SD,[(0,l._)("div",ED,[TD,(0,l._)("span",null,(0,p.zw)(d.jobsheets.product_name),1)])])]),(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",zD,[UD,(0,l._)("span",null,(0,p.zw)(d.jobsheets.product_quantity),1)])]),(0,l._)("td",null,[(0,l._)("div",jD,[qD,(0,l._)("span",null,(0,p.zw)(d.jobsheets.product_unit),1)])]),(0,l._)("td",null,[(0,l._)("div",ID,[LD,(0,l._)("span",null,(0,p.zw)(d.jobsheets.product_type_code),1)])]),(0,l._)("td",ND,[(0,l._)("div",RD,[VD,(0,l._)("span",null,(0,p.zw)(d.jobsheets.BOM_code),1)])]),(0,l._)("td",null,[(0,l._)("div",QD,[OD,(0,l._)("span",null,(0,p.zw)(d.jobsheets.specification),1)])]),(0,l._)("td",null,[(0,l._)("div",AD,[JD,(0,l._)("span",null,(0,p.zw)(d.jobsheets.jobsheet_note),1)])])])])])],512),[[a.F8,d.isTableExpanded]])])])])]),(0,l._)("div",$D,[(0,l._)("div",GD,[(0,l._)("div",WD,[(0,l._)("div",BD,[YD,(0,l._)("div",HD,[(0,l._)("table",{data:d.semiproducts,class:"table table-bordered",id:"SemiProductTable"},[ZD,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.semiproducts,((e,t)=>((0,l.wg)(),(0,l.iD)("tr",{key:e._id},[(0,l._)("td",null,(0,p.zw)(t+1),1),(0,l._)("td",null,(0,p.zw)(e.semi_product_lot||""),1),(0,l._)("td",null,(0,p.zw)(e.semi_product_code||""),1),(0,l._)("td",null,(0,p.zw)(e.semi_product_name||""),1),(0,l._)("td",null,(0,p.zw)(e.categoryInfo[0]?e.categoryInfo[0].serial_sim:""),1),(0,l._)("td",null,(0,p.zw)(e.semi_product_assembler||""),1),(0,l._)("td",null,(0,p.zw)(e.semi_product_assembly_date||""),1),(0,l._)("td",null,[(0,l._)("span",{class:(0,p.C_)(["badge bg-pill",r.getStatus(e.semi_product_status)])},(0,p.zw)(r.semiProductStatus(e.semi_product_status)),3)]),(0,l._)("td",null,(0,p.zw)(e.semi_product_note),1),(0,l._)("td",null,[4==e.semi_product_status||5==e.semi_product_status?((0,l.wg)(),(0,l.iD)("a",{key:0,onClick:t=>r.editWelding("update_welding",e),class:"btn btn-sm ripple btn-primary text-light"},"Cập nhật",8,FD)):(0,l.kq)("",!0),"3"==e.semi_product_status?((0,l.wg)(),(0,l.iD)("button",{key:1,onClick:t=>r.confirmWelding(e.semi_product_lot),class:"btn btn-primary btn-sm"},"Nhận",8,XD)):(0,l.kq)("",!0)])])))),128))])],8,KD)])])])])]),(0,l._)("div",eP,[(0,l._)("div",tP,[(0,l._)("div",sP,[(0,l._)("div",aP,[lP,(0,l._)("button",{"aria-label":"Close",class:"btn-close",onClick:t[1]||(t[1]=e=>r.closeModal("SemiProductModal","updateWelding","updateErrors")),type:"button"})]),(0,l._)("div",oP,[(0,l._)("table",dP,[(0,l._)("tbody",null,[(0,l._)("tr",null,[(0,l._)("td",rP,[(0,l._)("div",iP,[nP,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control text-body","onUpdate:modelValue":t[2]||(t[2]=e=>d.updateWelding.semi_product_lot=e),readonly:""},null,512),[[a.nr,d.updateWelding.semi_product_lot]])])]),(0,l._)("td",null,[(0,l._)("div",cP,[uP,(0,l.wy)((0,l._)("textarea",{class:"form-control text-body","onUpdate:modelValue":t[3]||(t[3]=e=>d.updateWelding.semi_product_name=e),rows:"3",readonly:""},null,512),[[a.nr,d.updateWelding.semi_product_name]])])])]),(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",_P,[pP,(0,l.wy)((0,l._)("select",{class:(0,p.C_)(["form-control form-select text-body",{"is-invalid":d.updateErrors.categories_sim_id}]),"onUpdate:modelValue":t[4]||(t[4]=e=>d.updateWelding.categories_sim_id=e)},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.Sims,((e,t)=>((0,l.wg)(),(0,l.iD)("option",{key:e._id,value:e._id},(0,p.zw)(e.serial_sim),9,mP)))),128))],2),[[a.bM,d.updateWelding.categories_sim_id]]),d.updateErrors.categories_sim_id?((0,l.wg)(),(0,l.iD)("div",hP,(0,p.zw)(d.updateErrors.categories_sim_id),1)):(0,l.kq)("",!0)])]),(0,l._)("td",null,[(0,l._)("div",bP,[gP,(0,l.wy)((0,l._)("input",{type:"date",class:(0,p.C_)(["form-control text-body",{"is-invalid":d.updateErrors.activation_date}]),"onUpdate:modelValue":t[5]||(t[5]=e=>d.updateWelding.activation_date=e)},null,2),[[a.nr,d.updateWelding.activation_date]]),d.updateErrors.activation_date?((0,l.wg)(),(0,l.iD)("div",vP,(0,p.zw)(d.updateErrors.activation_date),1)):(0,l.kq)("",!0)])])]),(0,l._)("tr",null,[(0,l._)("td",fP,[(0,l._)("div",yP,[wP,(0,l.wy)((0,l._)("select",{class:(0,p.C_)(["form-control form-select text-body",{"is-invalid":d.updateErrors.sim_package_id}]),"onUpdate:modelValue":t[6]||(t[6]=e=>d.updateWelding.sim_package_id=e)},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.Packages,((e,t)=>((0,l.wg)(),(0,l.iD)("option",{key:e._id,value:e._id},(0,p.zw)(e.sim_package_description),9,kP)))),128))],2),[[a.bM,d.updateWelding.sim_package_id]]),d.updateErrors.sim_package_id?((0,l.wg)(),(0,l.iD)("div",xP,(0,p.zw)(d.updateErrors.sim_package_id),1)):(0,l.kq)("",!0)])]),(0,l._)("td",null,[(0,l._)("div",CP,[DP,(0,l.wy)((0,l._)("textarea",{class:(0,p.C_)(["form-control text-body",{"is-invalid":d.updateErrors.purpose}]),"onUpdate:modelValue":t[7]||(t[7]=e=>d.updateWelding.purpose=e),rows:"4",placeholder:"Nhập mục đích"},null,2),[[a.nr,d.updateWelding.purpose]]),d.updateErrors.purpose?((0,l.wg)(),(0,l.iD)("div",PP,(0,p.zw)(d.updateErrors.purpose),1)):(0,l.kq)("",!0)])])]),(0,l._)("tr",null,[(0,l._)("td",MP,[(0,l._)("div",SP,[EP,(0,l.wy)((0,l._)("select",{class:(0,p.C_)(["form-control text-body",{"is-invalid":d.updateErrors.semi_product_status}]),"onUpdate:modelValue":t[8]||(t[8]=e=>d.updateWelding.semi_product_status=e)},UP,2),[[a.bM,d.updateWelding.semi_product_status]]),d.updateErrors.semi_product_status?((0,l.wg)(),(0,l.iD)("div",jP,(0,p.zw)(d.updateErrors.semi_product_status),1)):(0,l.kq)("",!0)])]),(0,l._)("td",null,[(0,l._)("div",qP,[IP,(0,l.wy)((0,l._)("input",{type:"date",class:(0,p.C_)(["form-control text-body",{"is-invalid":d.updateErrors.semi_product_assembly_date}]),"onUpdate:modelValue":t[9]||(t[9]=e=>d.updateWelding.semi_product_assembly_date=e)},null,2),[[a.nr,d.updateWelding.semi_product_assembly_date]]),d.updateErrors.semi_product_assembly_date?((0,l.wg)(),(0,l.iD)("div",LP,(0,p.zw)(d.updateErrors.semi_product_assembly_date),1)):(0,l.kq)("",!0)])])]),(0,l._)("tr",null,[(0,l._)("td",NP,[(0,l._)("div",RP,[VP,(0,l.wy)((0,l._)("textarea",{class:"form-control text-body","onUpdate:modelValue":t[10]||(t[10]=e=>d.updateWelding.semi_product_note=e),rows:"4",placeholder:"Nhập ghi chú"},null,512),[[a.nr,d.updateWelding.semi_product_note]])])])])])])]),(0,l._)("div",QP,[(0,l._)("button",{class:"btn ripple btn-primary",type:"button",onClick:t[11]||(t[11]=(...e)=>r.update&&r.update(...e))},"Lưu"),(0,l._)("button",{class:"btn ripple btn-danger",onClick:t[12]||(t[12]=e=>r.closeModal("SemiProductModal","updateWelding","updateErrors")),type:"button"},"Đóng")])])])],512)],64)}var AP={data(){return{semiproducts:{},Packages:[],Sims:[],updateWelding:[],updateErrors:[],jobsheets:[],isTableExpanded:!0}},props:["jobsheetCode"],watch:{jobsheetCode(){this.getSemiProducts()}},mounted(){this.getSemiProducts()},methods:{toggleTable(){this.isTableExpanded=!this.isTableExpanded},loadtable(){console.log("Đã gọi hàm"),this.$nextTick((()=>{nt.initializeDataTable("#SemiProductTable")}))},getSemiProducts(){null!=this.jobsheetCode&&va.getData(`welding/showDetailWelding/${this.jobsheetCode}`).then((e=>{console.log("2"),this.semiproducts=e.data.data[0].getDetail,this.Packages=e.data.getSimPackage,this.Sims=e.data.getCategoriesSim,this.jobsheets=e.data.data[0],this.loadtable()})).catch((e=>{console.log(e)}))},getStatus(e){switch(e){case"0":return"bg-primary-light";case"1":return"bg-success-light";case"2":return"bg-success-light";case"3":return"bg-success-light";case"4":return"bg-success-light";case"5":return"bg-success-light";case"6":return"bg-success-light";case"7":return"bg-success-light";case"8":return"bg-success-light";case"9":return"bg-success-light";case"10":return"bg-danger-light";default:return"bg-danger-light"}},semiProductStatus(e){switch(parseInt(e)){case 0:return"Mới tạo";case 1:return"Đã yêu cầu xuất kho";case 2:return"Đã xuất kho";case 3:return"Đã yêu cầu sản xuất";case 4:return"Đang sản xuất";case 5:return"Hoàn thành";case 6:return"Đã gửi yêu cầu kiểm tra";case 7:return"Đã kiểm tra";case 8:return"Đã gửi yêu cầu nhập kho";case 9:return"Đã nhập kho";case 10:return"Đã hủy";default:return"Không rõ"}},confirmWelding(e){nt.confirmDelete((()=>{const t=JSON.parse(sessionStorage.getItem("userLogin")),s={fullname:t.fullname,semiProductID:e};va.putData(`welding/approveOrderWelding/${e}`,s).then((e=>{console.log(e.status),200==e.status?(nt.showSuccessAlert("Đã nhận yêu cầu hàn mạch"),this.getSemiProducts()):nt.showErrorAlert("Bị lỗi khi nhận yêu cầu hàn mạch")})).catch((e=>{console.log(e)}))}),"Bạn chắc chắn muốn nhận yêu cầu này?")},editWelding(e,t){if($(`#${e}`).modal("show"),t.categoryInfo.length>0){const e={_id:t.categories_sim_id,serial_sim:t.categoryInfo[0].serial_sim};this.Sims.push(e)}this.updateWelding.old_sim=t.categories_sim_id,this.updateWelding.id=t._id,this.updateWelding.semi_product_lot=t.semi_product_lot,this.updateWelding.semi_product_name=t.semi_product_name,this.updateWelding.semi_product_assembly_date=t.semi_product_assembly_date,this.updateWelding.purpose=t.purpose,this.updateWelding.categories_sim_id=t.categories_sim_id,this.updateWelding.activation_date=t.activation_date?(0,st.Z)(new Date(t.activation_date),"yyyy-MM-dd"):0,this.updateWelding.semi_product_note=t.semi_product_note,this.updateWelding.semi_product_status=5==t.semi_product_status||10==t.semi_product_status?t.semi_product_status:"",this.updateWelding.sim_package_id=t.SimpackageInfo[0]?t.SimpackageInfo[0]._id:""},update(){const e=JSON.parse(sessionStorage.getItem("userLogin")),t={old_sim:this.updateWelding.old_sim,semi_product_lot:this.updateWelding.semi_product_lot,categories_sim_id:this.updateWelding.categories_sim_id,activation_date:this.updateWelding.activation_date,sim_package_id:this.updateWelding.sim_package_id,semi_product_assembler:e.fullname,purpose:this.updateWelding.purpose,semi_product_note:this.updateWelding.semi_product_note,semi_product_status:this.updateWelding.semi_product_status,semi_product_assembly_date:this.updateWelding.semi_product_assembly_date},s=[{name:"categories_sim_id",label:"Số SIM/E-SIM",nullable:!1},{name:"activation_date",label:"Ngày kích hoạt",nullable:!1},{name:"sim_package_id",label:"Gói cước",nullable:!1},{name:"purpose",label:"Mục đích",nullable:!1},{name:"semi_product_status",label:"Trạng thái",nullable:!1},{name:"semi_product_assembly_date",label:"Ngày hoàn thành",nullable:!1}];if(this.updateErrors=nt.validateData(t,s),0===Object.keys(this.updateErrors).length){console.log(t);const e=this.Packages.filter((e=>e._id===this.updateWelding.sim_package_id)),s=this.updateWelding.activation_date,a=e[0].sim_package_expiration;t.expiration_date=nt.caculateExpirationDate(s,a),va.putData(`welding/updateOrderWelding/${t.semi_product_lot}`,t).then((e=>{console.log(e),nt.showSuccessAlert("Cập nhật thành công"),this.closeModal("SemiProductModal"),this.getSemiProducts()})).catch((e=>{console.log(e)}))}},closeModal(e,t,s){const a=this.$refs[e];$(a).modal("hide"),this[t]={},this[s]={}}}};const JP=(0,r.Z)(AP,[["render",OP]]);var $P=JP,GP={components:{ListSemiProduct:$P},data(){return{weldings:null,jobsheetCode:null}},mounted(){this.getWeldings()},methods:{chooseJobsheet(e){this.jobsheetCode=e.jobsheet_code},loadtable(){this.$nextTick((()=>{nt.initializeDataTable("#weldingTable")}))},getWeldings(){va.getData("welding/listWelding").then((e=>{this.weldings=e.data.data,this.loadtable()})).catch((e=>{console.log(e)}))},closeModal(e){const t=this.$refs[e];$(t).modal("hide")}}};const WP=(0,r.Z)(GP,[["render",iD]]);var BP=WP;const YP={class:"main-content side-content pt-0"},HP={class:"main-container container-fluid pt-5"},KP={class:"inner-body"},ZP=(0,l.uE)('<div class="page-header"><div><h2 class="main-content-title tx-24 mg-b-5">Lắp ráp</h2><ol class="breadcrumb"><li class="breadcrumb-item"><a href="#">Trang chủ</a></li><li class="breadcrumb-item active" aria-current="page"> Lắp ráp </li></ol></div></div>',1),FP={class:"row row-sm"},XP={class:"col-lg-12"},eM={class:"card custom-card"},tM={class:"card-body"},sM=(0,l._)("div",null,[(0,l._)("h6",{class:"main-content-label mb-1"},"Danh sách lắp ráp"),(0,l._)("p",{class:"text-muted card-sub-title"})],-1),aM={class:"table-responsive"},lM=["data"],oM=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",null,"STT"),(0,l._)("th",{class:"wd-25p"},"Mã lịch SX"),(0,l._)("th",{class:"wd-20p"},"Mã sản phẩm"),(0,l._)("th",{class:"wd-20p"},"Tên sản phẩm"),(0,l._)("th",{class:"wd-20p"},"Ghi chú"),(0,l._)("th",{class:"wd-15p"},"Thao tác")])],-1),dM=["onClick"],rM=(0,l._)("i",{class:"fe fe-eye"},null,-1),iM=[rM],nM={class:"modal fade",id:"Product",ref:"Product"},cM={class:"modal-dialog modal-fullscreen",role:"document"},uM={class:"modal-content modal-content-demo"},_M={class:"modal-body"},pM={class:"modal-footer"};function mM(e,t,s,a,o,d){const r=(0,l.up)("ListProduct");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",YP,[(0,l._)("div",HP,[(0,l._)("div",KP,[ZP,(0,l._)("div",FP,[(0,l._)("div",XP,[(0,l._)("div",eM,[(0,l._)("div",tM,[sM,(0,l._)("div",aM,[(0,l._)("table",{data:o.assemblys,class:"table table-bordered",id:"assemblyTable"},[oM,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.assemblys,((e,t)=>((0,l.wg)(),(0,l.iD)("tr",{key:e._id},[(0,l._)("td",null,(0,p.zw)(t+1),1),(0,l._)("td",null,(0,p.zw)(e.jobsheet_code),1),(0,l._)("td",null,(0,p.zw)(e.getDetail[0].product_id),1),(0,l._)("td",null,(0,p.zw)(e.getDetail[0].product_name),1),(0,l._)("td",null,(0,p.zw)(e.getDetail[0].product_note),1),(0,l._)("td",null,[(0,l._)("a",{onClick:t=>d.chooseJobsheet(e),"data-bs-target":"#Product","data-bs-toggle":"modal",class:"btn btn-sm btn-outline-primary ms-1"},iM,8,dM)])])))),128))])],8,lM)])])])])])])])]),(0,l._)("div",nM,[(0,l._)("div",cM,[(0,l._)("div",uM,[(0,l._)("div",_M,[(0,l.Wm)(r,{jobsheetCode:o.jobsheetCode},null,8,["jobsheetCode"])]),(0,l._)("div",pM,[(0,l._)("div",null,[(0,l._)("button",{class:"btn ripple btn-danger ms-2",onClick:t[0]||(t[0]=e=>d.closeModal("Product")),type:"button"}," Đóng ")])])])])],512)],64)}const hM={class:"row row-sm"},bM={class:"col-lg-12"},gM={class:"card custom-card"},vM={class:"card-body"},fM=(0,l._)("div",null,[(0,l._)("h6",{class:"main-content-label mb-1"},"Danh sách lắp ráp"),(0,l._)("p",{class:"text-muted card-sub-title"})],-1),yM={class:"table-responsive"},wM=["data","columns"],kM=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",null,"STT"),(0,l._)("th",null,"Số lot"),(0,l._)("th",null,"Số Seriral"),(0,l._)("th",null,"Mã SP"),(0,l._)("th",null,"Tên SP"),(0,l._)("th",null,"Số Lot Board"),(0,l._)("th",null,"NV thực hiện"),(0,l._)("th",null,"Ngày hoàn thành"),(0,l._)("th",null,"Trạng thái"),(0,l._)("th",null,"Ghi chú"),(0,l._)("th",null,"Thao tác")])],-1),xM=(0,l._)("td",null,null,-1),CM=["onClick"],DM=["onClick"],PM={class:"modal fade",id:"update_assembly",ref:"productModal"},MM={class:"modal-dialog modal-xl",role:"document"},SM={class:"modal-content modal-content-demo",style:{"box-shadow":"rgba(0, 0, 0, 0.5) 0px 4px 100px"}},EM={class:"modal-header"},TM=(0,l._)("h6",{class:"modal-title"},"Thông tin lắp ráp",-1),zM={class:"modal-body"},UM={class:"table"},jM={class:"form-group"},qM=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Số lot TP",-1),IM={class:"form-group"},LM=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Mã TP",-1),NM={class:"form-group"},RM=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Tên TP",-1),VM={class:"form-group"},QM=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Số lot board",-1),OM=["value"],AM={key:0,class:"invalid-feedback"},JM={class:"form-group"},$M=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Mã BTP board",-1),GM={class:"form-group"},WM=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Tên board",-1),BM={class:"form-group"},YM=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Số SIM/E-SIM",-1),HM={class:"form-group"},KM=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Gói cước sử dụng",-1),ZM={class:"form-group"},FM=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Ngày kích hoạt",-1),XM={class:"align-top"},eS={class:"form-group"},tS=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Trạng thái",-1),sS=(0,l._)("option",{value:"5"},"Hoàn thành",-1),aS=(0,l._)("option",{value:"10"},"Đã hủy",-1),lS=[sS,aS],oS={key:0,class:"invalid-feedback"},dS={class:"align-top"},rS={class:"form-group"},iS=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Ngày hoàn thành",-1),nS={key:0,class:"invalid-feedback"},cS={class:"form-group"},uS=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Ghi chú",-1),_S={class:"modal-footer"};function pS(e,t,s,o,d,r){return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",hM,[(0,l._)("div",bM,[(0,l._)("div",gM,[(0,l._)("div",vM,[fM,(0,l._)("div",yM,[(0,l._)("table",{data:d.products,columns:e.columns,class:"table table-bordered display",id:"productTable"},[kM,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.products,((e,t)=>((0,l.wg)(),(0,l.iD)("tr",{key:e._id},[(0,l._)("td",null,(0,p.zw)(t+1),1),(0,l._)("td",null,(0,p.zw)(e.product_code),1),(0,l._)("td",null,(0,p.zw)(e.product_serial),1),(0,l._)("td",null,(0,p.zw)(e.product_id),1),(0,l._)("td",null,(0,p.zw)(e.product_name),1),(0,l._)("td",null,(0,p.zw)(e.semiProductData[0]?e.semiProductData[0].semi_product_lot:""),1),(0,l._)("td",null,(0,p.zw)(e.product_assembler),1),(0,l._)("td",null,(0,p.zw)(e.product_assembly_date),1),(0,l._)("td",null,[(0,l._)("span",{class:(0,p.C_)(["badge bg-pill",r.getStatus(e.product_status)])},(0,p.zw)(r.productStatus(e.product_status)),3)]),xM,(0,l._)("td",null,[4==e.product_status||5==e.product_status?((0,l.wg)(),(0,l.iD)("a",{key:0,onClick:t=>r.editProduct("update_assembly",e),class:"btn btn-sm ripple btn-primary text-light"},"Cập nhật",8,CM)):(0,l.kq)("",!0),"3"==e.product_status?((0,l.wg)(),(0,l.iD)("button",{key:1,onClick:t=>r.confirmAssembly(e.product_code),class:"btn btn-primary btn-sm"},"Nhận",8,DM)):(0,l.kq)("",!0)])])))),128))])],8,wM)])])])])]),(0,l._)("div",PM,[(0,l._)("div",MM,[(0,l._)("div",SM,[(0,l._)("div",EM,[TM,(0,l._)("button",{"aria-label":"Close",class:"btn-close",onClick:t[0]||(t[0]=e=>r.closeModal("productModal","updateProduct","updateErrors")),type:"button"})]),(0,l._)("div",zM,[(0,l._)("table",UM,[(0,l._)("tbody",null,[(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",jM,[qM,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control text-body","onUpdate:modelValue":t[1]||(t[1]=e=>d.updateProduct.product_lot=e),readonly:""},null,512),[[a.nr,d.updateProduct.product_lot]])])]),(0,l._)("td",null,[(0,l._)("div",IM,[LM,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control text-body","onUpdate:modelValue":t[2]||(t[2]=e=>d.updateProduct.product_code=e),readonly:""},null,512),[[a.nr,d.updateProduct.product_code]])])]),(0,l._)("td",null,[(0,l._)("div",NM,[RM,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control text-body","onUpdate:modelValue":t[3]||(t[3]=e=>d.updateProduct.product_name=e),readonly:""},null,512),[[a.nr,d.updateProduct.product_name]])])])]),(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",VM,[QM,(0,l.wy)((0,l._)("select",{class:(0,p.C_)(["form-control form-select text-body",{"is-invalid":d.updateErrors.semi_product_lot}]),id:"semiProductId","onUpdate:modelValue":t[4]||(t[4]=e=>d.selectedSemi=e)},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.semiProducts,(e=>((0,l.wg)(),(0,l.iD)("option",{value:e.semi_product_lot},(0,p.zw)(e.semi_product_lot),9,OM)))),256))],2),[[a.bM,d.selectedSemi]]),d.updateErrors.semi_product_lot?((0,l.wg)(),(0,l.iD)("div",AM,(0,p.zw)(d.updateErrors.semi_product_lot),1)):(0,l.kq)("",!0)])]),(0,l._)("td",null,[(0,l._)("div",JM,[$M,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control text-body","onUpdate:modelValue":t[5]||(t[5]=e=>d.updateProduct.semi_product_code=e),readonly:""},null,512),[[a.nr,d.updateProduct.semi_product_code]])])]),(0,l._)("td",null,[(0,l._)("div",GM,[WM,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control text-body","onUpdate:modelValue":t[6]||(t[6]=e=>d.updateProduct.semi_product_name=e),readonly:""},null,512),[[a.nr,d.updateProduct.semi_product_name]])])])]),(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",BM,[YM,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control text-body","onUpdate:modelValue":t[7]||(t[7]=e=>d.updateProduct.serial_sim=e),readonly:""},null,512),[[a.nr,d.updateProduct.serial_sim]])])]),(0,l._)("td",null,[(0,l._)("div",HM,[KM,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control text-body","onUpdate:modelValue":t[8]||(t[8]=e=>d.updateProduct.package_sim=e),readonly:""},null,512),[[a.nr,d.updateProduct.package_sim]])])]),(0,l._)("td",null,[(0,l._)("div",ZM,[FM,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control text-body","onUpdate:modelValue":t[9]||(t[9]=e=>d.updateProduct.activation_date=e),readonly:""},null,512),[[a.nr,d.updateProduct.activation_date]])])])]),(0,l._)("tr",null,[(0,l._)("td",XM,[(0,l._)("div",eS,[tS,(0,l.wy)((0,l._)("select",{class:(0,p.C_)(["form-control form-select text-body",{"is-invalid":d.updateErrors.product_status}]),"onUpdate:modelValue":t[10]||(t[10]=e=>d.updateProduct.product_status=e)},lS,2),[[a.bM,d.updateProduct.product_status]]),d.updateErrors.product_status?((0,l.wg)(),(0,l.iD)("div",oS,(0,p.zw)(d.updateErrors.product_status),1)):(0,l.kq)("",!0)])]),(0,l._)("td",dS,[(0,l._)("div",rS,[iS,(0,l.wy)((0,l._)("input",{type:"date",class:(0,p.C_)(["form-control text-body",{"is-invalid":d.updateErrors.product_assembly_date}]),"onUpdate:modelValue":t[11]||(t[11]=e=>d.updateProduct.product_assembly_date=e)},null,2),[[a.nr,d.updateProduct.product_assembly_date]]),d.updateErrors.product_assembly_date?((0,l.wg)(),(0,l.iD)("div",nS,(0,p.zw)(d.updateErrors.product_assembly_date),1)):(0,l.kq)("",!0)])]),(0,l._)("td",null,[(0,l._)("div",cS,[uS,(0,l.wy)((0,l._)("textarea",{class:"form-control text-body","onUpdate:modelValue":t[12]||(t[12]=e=>d.updateProduct.product_note=e),rows:"4",placeholder:"Ghi chú"},null,512),[[a.nr,d.updateProduct.product_note]])])])])])]),(0,l._)("div",_S,[(0,l._)("button",{class:"btn ripple btn-primary",type:"button",onClick:t[13]||(t[13]=(...e)=>r.updateAssemble&&r.updateAssemble(...e))},"Lưu"),(0,l._)("button",{class:"btn ripple btn-danger",onClick:t[14]||(t[14]=e=>r.closeModal("productModal","updateProduct","updateErrors")),type:"button"},"Đóng")])])])])],512)],64)}var mS={props:["jobsheetCode"],data(){return{products:null,updateProduct:[],selectedSemi:null,selectedProductName:"",semiProducts:[],updateErrors:[]}},watch:{selectedSemi(e){const t=this.semiProducts.find((t=>t.semi_product_lot===e));t&&(this.updateProduct.semi_product_code=t?t.semi_product_code:"",this.updateProduct.semi_product_name=t?t.semi_product_name:"",this.updateProduct.serial_sim=t&&t.CategoriesInfo?t.CategoriesInfo[0].serial_sim:"",this.updateProduct.activation_date=t&&t.CategoriesInfo?t.CategoriesInfo[0].activation_date:"",this.updateProduct.package_sim=t&&t.SimpackageInfo?t.SimpackageInfo[0].sim_package_description:"")},jobsheetCode(){this.getProducts()}},mounted(){this.getProducts()},methods:{formatDate(e){return(0,st.Z)(new Date(e),"dd/MM/yyyy")},loadtable(){this.$nextTick((()=>{nt.initializeDataTable("#productTable")}))},getProducts(){va.getData(`assemble/showDetailAssemble/${this.jobsheetCode}`).then((e=>{this.products=e.data.data[0].getDetail,this.semiProducts=e.data.getProductLot,console.log(e),this.loadtable()})).catch((e=>{console.log(e)}))},getStatus(e){switch(e){case"0":return"bg-primary-light";case"1":return"bg-success-light";case"2":return"bg-success-light";case"3":return"bg-success-light";case"4":return"bg-success-light";case"5":return"bg-success-light";case"6":return"bg-success-light";case"7":return"bg-success-light";case"8":return"bg-success-light";case"9":return"bg-success-light";case"10":return"bg-danger-light";default:return"bg-danger-light"}},productStatus(e){switch(parseInt(e)){case 0:return"Mới tạo";case 1:return"Đã yêu cầu xuất kho";case 2:return"Đã xuất kho";case 3:return"Đã yêu cầu sản xuất";case 4:return"Đang sản xuất";case 5:return"Hoàn thành";case 6:return"Đã gửi yêu cầu kiểm tra";case 7:return"Đã kiểm tra";case 8:return"Đã gửi yêu cầu nhập kho";case 9:return"Đã nhập kho";case 10:return"Đã hủy";default:return"Không rõ"}},confirmAssembly(e){nt.confirmDelete((()=>{const t=JSON.parse(sessionStorage.getItem("userLogin")),s={fullname:t.fullname,ProductID:e};va.putData(`assemble/approveOrderAssemble/${e}`,s).then((e=>{200==e.status?(nt.showSuccessAlert("Đã nhận yêu cầu lắp ráp"),this.getProducts()):nt.showErrorAlert("Bị lỗi khi nhận yêu cầu lắp ráp")})).catch((e=>{console.log(e)}))}),"Bạn chắc chắn muốn nhận yêu cầu này?")},editProduct(e,t){if($(`#${e}`).modal("show"),t.semiProductData.length>0){const e={semi_product_lot:t.semiProductData?t.semiProductData[0].semi_product_lot:"",semi_product_code:t.semiProductData?t.semiProductData[0].semi_product_code:"",semi_product_name:t.semiProductData?t.semiProductData[0].semi_product_name:""};e.CategoriesInfo=[{serial_sim:t.semiProductData&&t.semiProductData[0].categoriesSimData?t.semiProductData[0].categoriesSimData[0].serial_sim:"",activation_date:t.semiProductData?t.semiProductData[0].categoriesSimData[0].activation_date:""}],e.SimpackageInfo=[{sim_package_description:t.semiProductData?t.semiProductData[0].SimpackageInfo[0].sim_package_description:""}],this.semiProducts.push(e)}this.selectedSemi!==t.semi_product_lot&&(this.selectedSemi=t.semi_product_lot),this.updateProduct.old_semi_product_lot=t.semi_product_lot,this.updateProduct.product_lot=t.product_code,this.updateProduct.product_code=t.product_id,this.updateProduct.product_name=t.product_name,this.updateProduct.selectedSemi=t.semi_product_id,this.updateProduct.product_assembly_date=t.product_assembly_date?(0,st.Z)(new Date(t.product_assembly_date),"yyyy-MM-dd"):"",this.updateProduct.product_note=t.product_note,this.updateProduct.product_status=5==t.product_status||10==t.product_status?t.product_status:""},updateAssemble(){const e={old_semi_product_lot:this.updateProduct.old_semi_product_lot,semi_product_lot:this.selectedSemi,product_assembly_date:this.updateProduct.product_assembly_date,product_status:this.updateProduct.product_status};console.log(e);const t=[{name:"semi_product_lot",label:"Số Lot Board",nullable:!1},{name:"product_status",label:"Trạng thái",nullable:!1},{name:"product_assembly_date",label:"Ngày hoàn thành",nullable:!1}];this.updateErrors=nt.validateData(e,t),0===Object.keys(this.updateErrors).length&&va.putData(`assemble/updateOrderAssemble/${this.updateProduct.product_lot}`,e).then((e=>{console.log(e),nt.showSuccessAlert("Cập nhật thành công"),this.closeModal("productModal"),this.getProducts()})).catch((e=>{console.log(e)}))},closeModal(e,t,s){const a=this.$refs[e];$(a).modal("hide"),this[t]={},this[s]={}}}};const hS=(0,r.Z)(mS,[["render",pS]]);var bS=hS,gS={components:{ListProduct:bS},data(){return{assemblys:null,jobsheetCode:null}},mounted(){this.getAssemblys()},methods:{chooseJobsheet(e){this.jobsheetCode=e.jobsheet_code},loadtable(){this.$nextTick((()=>{nt.initializeDataTable("#assemblyTable")}))},getAssemblys(){va.getData("assemble/listAssemble").then((e=>{this.assemblys=e.data.data,this.loadtable()})).catch((e=>{console.log(e)}))},closeModal(e){const t=this.$refs[e];$(t).modal("hide")}}};const vS=(0,r.Z)(gS,[["render",mM]]);var fS=vS;const yS={class:"main-content side-content pt-0"},wS={class:"main-container container-fluid pt-5"},kS={class:"inner-body"},xS=(0,l.uE)('<div class="page-header"><div><h2 class="main-content-title tx-24 mg-b-5">QA/QC</h2><ol class="breadcrumb"><li class="breadcrumb-item"><a href="#">Trang chủ</a></li><li class="breadcrumb-item active" aria-current="page">QA/QC</li></ol></div></div>',1),CS={class:"row row-sm"},DS={class:"col-lg-12"},PS={class:"card custom-card"},MS={class:"card-body"},SS=(0,l._)("div",null,[(0,l._)("h6",{class:"main-content-label mb-1"},"Danh sách kiểm tra"),(0,l._)("p",{class:"text-muted card-sub-title"})],-1),ES={class:"table-responsive"},TS=["data"],zS=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",null,"STT"),(0,l._)("th",{class:"wd-25p"},"Phiếu YCKT"),(0,l._)("th",{class:"wd-20p"},"Ngày tạo"),(0,l._)("th",{class:"wd-20p"},"Người tạo"),(0,l._)("th",{class:"wd-20p"},"Mã sản phẩm"),(0,l._)("th",{class:"wd-20p"},"Tên sản phẩm"),(0,l._)("th",{class:"wd-20p"},"Ghi chú"),(0,l._)("th",{class:"wd-15p"},"Thao tác")])],-1),US=(0,l._)("td",null,null,-1),jS=["onClick"],qS=(0,l._)("i",{class:"fe fe-eye"},null,-1),IS=[qS],LS={class:"modal fade",id:"qualityControl",ref:"qualityControl"},NS={class:"modal-dialog modal-fullscreen",role:"document"},RS={class:"modal-content modal-content-demo"},VS={class:"modal-body"},QS={class:"modal-footer"};function OS(e,t,s,a,o,d){const r=(0,l.up)("ListQualityControl");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",yS,[(0,l._)("div",wS,[(0,l._)("div",kS,[xS,(0,l._)("div",CS,[(0,l._)("div",DS,[(0,l._)("div",PS,[(0,l._)("div",MS,[SS,(0,l._)("div",ES,[(0,l._)("table",{data:o.qualitycontrols,class:"table table-bordered",id:"QCTable"},[zS,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.qualitycontrols,((e,t)=>((0,l.wg)(),(0,l.iD)("tr",{key:e._id},[(0,l._)("td",null,(0,p.zw)(t+1),1),(0,l._)("td",null,(0,p.zw)(e.quality_control_code),1),(0,l._)("td",null,(0,p.zw)(d.formatDate(e.quality_control_create_date)),1),(0,l._)("td",null,(0,p.zw)(e.user_id),1),(0,l._)("td",null,(0,p.zw)(e.getDetail[0].product_id),1),(0,l._)("td",null,(0,p.zw)(e.getDetail[0].product_name),1),US,(0,l._)("td",null,[(0,l._)("a",{onClick:t=>d.chooseJobsheet(e),"data-bs-target":"#qualityControl","data-bs-toggle":"modal",class:"btn btn-sm btn-outline-primary ms-1"},IS,8,jS)])])))),128))])],8,TS)])])])])])])])]),(0,l._)("div",LS,[(0,l._)("div",NS,[(0,l._)("div",RS,[(0,l._)("div",VS,[(0,l.Wm)(r,{jobsheetCode:o.jobsheetCode},null,8,["jobsheetCode"])]),(0,l._)("div",QS,[(0,l._)("div",null,[(0,l._)("button",{class:"btn ripple btn-danger ms-2",onClick:t[0]||(t[0]=e=>d.closeModal("qualityControl")),type:"button"}," Đóng ")])])])])],512)],64)}const AS={class:"row row-sm"},JS={class:"col-lg-12"},$S={class:"card custom-card"},GS={class:"card-body"},WS={class:"main-content-label mb-1"},BS=(0,l._)("p",{class:"text-muted card-sub-title"},null,-1),YS={class:"table-responsive"},HS=["data"],KS=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{class:"wd-20p"},"STT"),(0,l._)("th",{class:"wd-25p"},"Số lot"),(0,l._)("th",{class:"wd-20p"},"Mã SP"),(0,l._)("th",{class:"wd-20p"},"Tên SP"),(0,l._)("th",{class:"wd-20p"},"Người kiểm tra"),(0,l._)("th",{class:"wd-20p"},"Ngày kiểm tra"),(0,l._)("th",{class:"wd-20p"},"Trạng thái"),(0,l._)("th",{class:"wd-20p"},"Kết quả"),(0,l._)("th",{class:"wd-20p"},"Ghi chú"),(0,l._)("th",{class:"wd-15p"},"Thao tác")])],-1),ZS=["onClick"],FS={class:"modal",id:"update_quality_control",ref:"updateQC"},XS={class:"modal-dialog modal-lg",role:"document"},eE={class:"modal-content modal-content-demo",style:{"box-shadow":"rgba(0, 0, 0, 0.5) 0px 4px 100px"}},tE=(0,l._)("div",{class:"modal-header"},[(0,l._)("h6",{class:"modal-title"},"Cập nhật kiểm tra"),(0,l._)("button",{"aria-label":"Close",class:"btn-close","data-bs-dismiss":"modal",type:"button"})],-1),sE={class:"modal-body"},aE={class:"table"},lE={class:"align-top"},oE={class:"form-group"},dE=(0,l._)("label",{class:"fw-bold"},"Kết quả kiểm tra",-1),rE=(0,l._)("option",{value:"1"},"PASS",-1),iE=(0,l._)("option",{value:"0"},"FAIL",-1),nE=[rE,iE],cE={key:0,class:"invalid-feedback"},uE={class:"form-group"},_E=(0,l._)("label",{class:"fw-bold"},"Ghi chú",-1),pE={class:"modal-footer"},mE=(0,l._)("button",{class:"btn ripple btn-primary",type:"submit"},"Lưu",-1);function hE(e,t,s,o,d,r){return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",AS,[(0,l._)("div",JS,[(0,l._)("div",$S,[(0,l._)("div",GS,[(0,l._)("div",null,[(0,l._)("h6",WS,"Chi tiết QA/QC Jobsheet: "+(0,p.zw)(e.jobsheetID),1),BS]),(0,l._)("div",YS,[(0,l._)("table",{data:d.QCDetails,class:"table table-bordered display",id:"QCTableDetail"},[KS,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.QCDetails,((e,t)=>((0,l.wg)(),(0,l.iD)("tr",{key:e._id},[(0,l._)("td",null,(0,p.zw)(t+1),1),(0,l._)("td",null,(0,p.zw)(e.product_code||e.semi_product_lot),1),(0,l._)("td",null,(0,p.zw)(e.getDetail[0].product_id),1),(0,l._)("td",null,(0,p.zw)(e.getDetail[0].product_name),1),(0,l._)("td",null,(0,p.zw)(e.semi_product_tester||e.product_tester),1),(0,l._)("td",null,(0,p.zw)(e.semi_product_test_date||e.product_test_date),1),(0,l._)("td",null,[(0,l._)("span",{class:(0,p.C_)(["badge bg-pill",r.getStatus(e.semi_product_status||e.product_status)])},(0,p.zw)(r.semiProductStatus(e.semi_product_status||e.product_status)),3)]),(0,l._)("td",null,[e.semi_product_result||e.product_result?((0,l.wg)(),(0,l.iD)("span",{key:0,class:(0,p.C_)(["badge bg-pill",r.getResult(e.semi_product_result||e.product_result)])},(0,p.zw)(r.QCResultShow(e.semi_product_result||e.product_result)),3)):(0,l.kq)("",!0)]),(0,l._)("td",null,(0,p.zw)(e.semi_product_note),1),(0,l._)("td",null,[6==e.semi_product_status||6==e.product_status?((0,l.wg)(),(0,l.iD)("a",{key:0,onClick:t=>r.editQCModal("update_quality_control",e),class:"btn btn-sm ripple btn-primary text-light"},"Kiểm tra",8,ZS)):(0,l.kq)("",!0)])])))),128))])],8,HS)])])])])]),(0,l._)("div",FS,[(0,l._)("div",XS,[(0,l._)("div",eE,[tE,(0,l._)("form",{onSubmit:t[3]||(t[3]=(0,a.iM)(((...e)=>r.QCResult&&r.QCResult(...e)),["prevent"]))},[(0,l._)("div",sE,[(0,l._)("table",aE,[(0,l._)("tbody",null,[(0,l._)("tr",null,[(0,l._)("td",lE,[(0,l._)("div",oE,[dE,(0,l.wy)((0,l._)("select",{class:(0,p.C_)(["form-control form-select text-body",{"is-invalid":d.updateErrors.product_result}]),"onUpdate:modelValue":t[0]||(t[0]=e=>d.updateQC.product_result=e)},nE,2),[[a.bM,d.updateQC.product_result]]),d.updateErrors.product_result?((0,l.wg)(),(0,l.iD)("div",cE,(0,p.zw)(d.updateErrors.product_result),1)):(0,l.kq)("",!0)])]),(0,l._)("td",null,[(0,l._)("div",uE,[_E,(0,l.wy)((0,l._)("textarea",{class:"form-control text-body","onUpdate:modelValue":t[1]||(t[1]=e=>d.updateQC.product_note=e),rows:"5",placeholder:"Nhập ghi chú"},null,512),[[a.nr,d.updateQC.product_note]])])])])])])]),(0,l._)("div",pE,[(0,l._)("div",null,[mE,(0,l._)("button",{class:"btn ripple btn-danger ms-2",onClick:t[2]||(t[2]=e=>r.closeModal("updateQC","updateQC","")),type:"button"}," Đóng ")])])],32)])])],512)],64)}var bE={props:["jobsheetCode"],data(){return{QCDetails:null,updateQC:[],updateErrors:[]}},watch:{jobsheetCode(){this.getQADetail()}},mounted(){this.getQADetail()},methods:{loadtable(){this.$nextTick((()=>{nt.initializeDataTable("#QCTableDetail")}))},getQADetail(){null!=this.jobsheetCode&&va.getData(`quality-control/detailQualityControl/${this.jobsheetCode}`).then((e=>{this.QCDetails=e.data.data,this.loadtable()})).catch((e=>{console.log(e)}))},editQCModal(e,t){$(`#${e}`).modal("show"),this.updateQC.product_lot=t.product_code||t.semi_product_lot,this.updateQC.semi_product_result=t.semi_product_result||t.product_result,this.updateQC.semi_product_note=t.semi_product_note||t.product_note},QCResult(){const e={jobsheetCode:this.jobsheetCode,productId:this.updateQC.product_lot,product_tester:JSON.parse(sessionStorage.getItem("userLogin")).fullname,product_test_date:(0,st.Z)(new Date,"dd/MM/yyyy"),product_result:this.updateQC.product_result,product_note:this.updateQC.product_note},t=[{name:"product_result",label:"Kết quả",nullable:!1}];this.updateErrors=nt.validateData(e,t),0===Object.keys(this.updateErrors).length&&va.putData("quality-control/orderQualityControl",e).then((e=>{200==e.data.status&&(this.closeModal("updateQC"),nt.showSuccessAlert("Cập nhật thành công"),this.getQADetail(),this.updateQC={})})).catch((e=>{console.log(e)}))},closeModal(e,t,s){const a=this.$refs[e];$(a).modal("hide"),this[t]={},this[s]={}},getResult(e){switch(e){case"0":return"bg-danger-light";case"1":return"bg-success-light";default:return"bg-danger-light"}},QCResultShow(e){switch(parseInt(e)){case 0:return"FAIL";case 1:return"PASS";default:return"Không rõ"}},getStatus(e){switch(e){case"0":return"bg-primary-light";case"1":return"bg-success-light";case"2":return"bg-success-light";case"3":return"bg-success-light";case"4":return"bg-success-light";case"5":return"bg-success-light";case"6":return"bg-success-light";case"7":return"bg-success-light";case"8":return"bg-success-light";case"9":return"bg-success-light";case"10":return"bg-danger-light";default:return"bg-danger-light"}},semiProductStatus(e){switch(parseInt(e)){case 0:return"Mới tạo";case 1:return"Đã yêu cầu xuất kho";case 2:return"Đã xuất kho";case 3:return"Đã yêu cầu sản xuất";case 4:return"Đang sản xuất";case 5:return"Hoàn thành";case 6:return"Đã gửi yêu cầu kiểm tra";case 7:return"Đã kiểm tra";case 8:return"Đã gửi yêu cầu nhập kho";case 9:return"Đã nhập kho";case 10:return"Đã hủy";default:return"Không rõ"}}}};const gE=(0,r.Z)(bE,[["render",hE]]);var vE=gE,fE={components:{ListQualityControl:vE},data(){return{qualitycontrols:null,jobsheetCode:null}},mounted(){this.getQualityControls()},methods:{formatDate(e){if(!e)return"";const t=new Date(e);return isNaN(t.getTime())?e:(0,st.Z)(t,"MM/dd/yyyy")},loadtable(){this.$nextTick((()=>{nt.initializeDataTable("#QCTable")}))},getQualityControls(){va.getData("quality-control/listQualityControl").then((e=>{this.qualitycontrols=e.data.data,this.loadtable()})).catch((e=>{console.log(e)}))},chooseJobsheet(e){this.jobsheetCode=e.jobsheet_code},closeModal(e){const t=this.$refs[e];$(t).modal("hide")}}};const yE=(0,r.Z)(fE,[["render",OS]]);var wE=yE;const kE={class:"main-content side-content pt-0"},xE={class:"main-container container-fluid pt-5"},CE={class:"inner-body"},DE={class:"page-header"},PE=(0,l.uE)('<div><h2 class="main-content-title tx-24 mg-b-5">Hàn mạch</h2><ol class="breadcrumb"><li class="breadcrumb-item"><a href="#">Trang chủ</a></li><li class="breadcrumb-item active" aria-current="page">Chi tiết hàn mạch</li></ol></div>',1),ME={class:"d-flex"},SE={class:"justify-content-center"},EE=(0,l._)("i",{class:"fe fe-corner-down-left"},null,-1),TE={class:"row row-sm"},zE={class:"col-lg-12"},UE={class:"card custom-card"},jE={class:"card-body"},qE=(0,l._)("div",null,[(0,l._)("h6",{class:"main-content-label mb-1"},"Danh sách lắp ráp"),(0,l._)("p",{class:"text-muted card-sub-title"})],-1),IE={class:"table-responsive"},LE=["data"],NE=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",null,"STT"),(0,l._)("th",null,"Số lot"),(0,l._)("th",null,"Mã BTP"),(0,l._)("th",null,"Tên BTP"),(0,l._)("th",null,"Số SIM"),(0,l._)("th",null,"NV thực hiện"),(0,l._)("th",null,"Ngày hoàn thành"),(0,l._)("th",null,"Trạng thái"),(0,l._)("th",null,"Ghi chú"),(0,l._)("th",null,"Thao tác")])],-1),RE=["onClick"],VE=["onClick"],QE={class:"modal",id:"update_welding",ref:"SemiProductModal"},OE={class:"modal-dialog modal-lg",role:"document"},AE={class:"modal-content modal-content-demo"},JE={class:"modal-header"},$E=(0,l._)("h6",{class:"modal-title"},"Thông tin hàn mạch",-1),GE={class:"modal-body"},WE={class:"table"},BE={class:"align-top"},YE={class:"form-group"},HE=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Số lot BTP",-1),KE={class:"form-group"},ZE=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Tên BTP",-1),FE={class:"form-group"},XE=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Số SIM/E-SIM",-1),eT=["value"],tT={key:0,class:"invalid-feedback"},sT={class:"form-group"},aT=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Ngày kích hoạt",-1),lT={key:0,class:"invalid-feedback"},oT={class:"align-top"},dT={class:"form-group"},rT=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Gói cước sử dụng",-1),iT=["value"],nT={key:0,class:"invalid-feedback"},cT={class:"form-group"},uT=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Mục đích",-1),_T={key:0,class:"invalid-feedback"},pT={class:"align-top"},mT={class:"form-group"},hT=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Trạng thái",-1),bT=(0,l._)("option",{value:"5"},"Hoàn thành",-1),gT=(0,l._)("option",{value:"10"},"Đã hủy",-1),vT=[bT,gT],fT={key:0,class:"invalid-feedback"},yT={class:"form-group"},wT=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Ngày hoàn thành",-1),kT={key:0,class:"invalid-feedback"},xT={colspan:"2"},CT={class:"form-group"},DT=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Ghi chú",-1),PT={class:"modal-footer"};function MT(e,t,s,o,d,r){const i=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",kE,[(0,l._)("div",xE,[(0,l._)("div",CE,[(0,l._)("div",DE,[PE,(0,l._)("div",ME,[(0,l._)("div",SE,[(0,l.Wm)(i,{to:"/weldings",class:"btn btn-white btn-rounded my-2"},{default:(0,l.w5)((()=>[EE,(0,l.Uk)(" Trở lại")])),_:1})])])]),(0,l._)("div",TE,[(0,l._)("div",zE,[(0,l._)("div",UE,[(0,l._)("div",jE,[qE,(0,l._)("div",IE,[(0,l._)("table",{data:d.semiproducts,class:"table table-bordered display",id:"weldingTable"},[NE,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.semiproducts,((e,t)=>((0,l.wg)(),(0,l.iD)("tr",{key:e._id},[(0,l._)("td",null,(0,p.zw)(t+1),1),(0,l._)("td",null,(0,p.zw)(e.semi_product_lot),1),(0,l._)("td",null,(0,p.zw)(e.semi_product_code),1),(0,l._)("td",null,(0,p.zw)(e.semi_product_name),1),(0,l._)("td",null,(0,p.zw)(e.categoryInfo[0]?e.categoryInfo[0].serial_sim:""),1),(0,l._)("td",null,(0,p.zw)(e.semi_product_assembler),1),(0,l._)("td",null,(0,p.zw)(e.semi_product_assembly_date),1),(0,l._)("td",null,[(0,l._)("span",{class:(0,p.C_)(["badge bg-pill",r.getStatus(e.semi_product_status)])},(0,p.zw)(r.semiProductStatus(e.semi_product_status)),3)]),(0,l._)("td",null,(0,p.zw)(e.semi_product_note),1),(0,l._)("td",null,[4==e.semi_product_status||5==e.semi_product_status?((0,l.wg)(),(0,l.iD)("a",{key:0,onClick:t=>r.editWelding(e),"data-bs-target":"#update_welding","data-bs-toggle":"modal",class:"btn btn-sm ripple btn-primary text-light"},"Cập nhật",8,RE)):(0,l.kq)("",!0),"3"==e.semi_product_status?((0,l.wg)(),(0,l.iD)("button",{key:1,onClick:t=>r.confirmWelding(e.semi_product_lot),class:"btn btn-primary btn-sm"},"Nhận",8,VE)):(0,l.kq)("",!0)])])))),128))])],8,LE)])])])])])])])]),(0,l._)("div",QE,[(0,l._)("div",OE,[(0,l._)("div",AE,[(0,l._)("div",JE,[$E,(0,l._)("button",{"aria-label":"Close",class:"btn-close",onClick:t[0]||(t[0]=e=>r.closeModal("SemiProductModal","updateWelding","updateErrors")),type:"button"})]),(0,l._)("div",GE,[(0,l._)("table",WE,[(0,l._)("tbody",null,[(0,l._)("tr",null,[(0,l._)("td",BE,[(0,l._)("div",YE,[HE,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control text-body","onUpdate:modelValue":t[1]||(t[1]=e=>d.updateWelding.semi_product_lot=e),readonly:""},null,512),[[a.nr,d.updateWelding.semi_product_lot]])])]),(0,l._)("td",null,[(0,l._)("div",KE,[ZE,(0,l.wy)((0,l._)("textarea",{class:"form-control text-body","onUpdate:modelValue":t[2]||(t[2]=e=>d.updateWelding.semi_product_name=e),rows:"3",readonly:""},null,512),[[a.nr,d.updateWelding.semi_product_name]])])])]),(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",FE,[XE,(0,l.wy)((0,l._)("select",{class:(0,p.C_)(["form-control form-select text-body",{"is-invalid":d.updateErrors.categories_sim_id}]),"onUpdate:modelValue":t[3]||(t[3]=e=>d.updateWelding.categories_sim_id=e)},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.Sims,((e,t)=>((0,l.wg)(),(0,l.iD)("option",{key:e._id,value:e._id},(0,p.zw)(e.serial_sim),9,eT)))),128))],2),[[a.bM,d.updateWelding.categories_sim_id]]),d.updateErrors.categories_sim_id?((0,l.wg)(),(0,l.iD)("div",tT,(0,p.zw)(d.updateErrors.categories_sim_id),1)):(0,l.kq)("",!0)])]),(0,l._)("td",null,[(0,l._)("div",sT,[aT,(0,l.wy)((0,l._)("input",{type:"date",class:(0,p.C_)(["form-control text-body",{"is-invalid":d.updateErrors.activation_date}]),"onUpdate:modelValue":t[4]||(t[4]=e=>d.updateWelding.activation_date=e)},null,2),[[a.nr,d.updateWelding.activation_date]]),d.updateErrors.activation_date?((0,l.wg)(),(0,l.iD)("div",lT,(0,p.zw)(d.updateErrors.activation_date),1)):(0,l.kq)("",!0)])])]),(0,l._)("tr",null,[(0,l._)("td",oT,[(0,l._)("div",dT,[rT,(0,l.wy)((0,l._)("select",{class:(0,p.C_)(["form-control form-select text-body",{"is-invalid":d.updateErrors.sim_package_id}]),"onUpdate:modelValue":t[5]||(t[5]=e=>d.updateWelding.sim_package_id=e)},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.Packages,((e,t)=>((0,l.wg)(),(0,l.iD)("option",{key:e._id,value:e._id},(0,p.zw)(e.sim_package_description),9,iT)))),128))],2),[[a.bM,d.updateWelding.sim_package_id]]),d.updateErrors.sim_package_id?((0,l.wg)(),(0,l.iD)("div",nT,(0,p.zw)(d.updateErrors.sim_package_id),1)):(0,l.kq)("",!0)])]),(0,l._)("td",null,[(0,l._)("div",cT,[uT,(0,l.wy)((0,l._)("textarea",{class:(0,p.C_)(["form-control text-body",{"is-invalid":d.updateErrors.purpose}]),"onUpdate:modelValue":t[6]||(t[6]=e=>d.updateWelding.purpose=e),rows:"4",placeholder:"Nhập mục đích"},null,2),[[a.nr,d.updateWelding.purpose]]),d.updateErrors.purpose?((0,l.wg)(),(0,l.iD)("div",_T,(0,p.zw)(d.updateErrors.purpose),1)):(0,l.kq)("",!0)])])]),(0,l._)("tr",null,[(0,l._)("td",pT,[(0,l._)("div",mT,[hT,(0,l.wy)((0,l._)("select",{class:(0,p.C_)(["form-control text-body",{"is-invalid":d.updateErrors.semi_product_status}]),"onUpdate:modelValue":t[7]||(t[7]=e=>d.updateWelding.semi_product_status=e)},vT,2),[[a.bM,d.updateWelding.semi_product_status]]),d.updateErrors.semi_product_status?((0,l.wg)(),(0,l.iD)("div",fT,(0,p.zw)(d.updateErrors.semi_product_status),1)):(0,l.kq)("",!0)])]),(0,l._)("td",null,[(0,l._)("div",yT,[wT,(0,l.wy)((0,l._)("input",{type:"date",class:(0,p.C_)(["form-control text-body",{"is-invalid":d.updateErrors.semi_product_assembly_date}]),"onUpdate:modelValue":t[8]||(t[8]=e=>d.updateWelding.semi_product_assembly_date=e)},null,2),[[a.nr,d.updateWelding.semi_product_assembly_date]]),d.updateErrors.semi_product_assembly_date?((0,l.wg)(),(0,l.iD)("div",kT,(0,p.zw)(d.updateErrors.semi_product_assembly_date),1)):(0,l.kq)("",!0)])])]),(0,l._)("tr",null,[(0,l._)("td",xT,[(0,l._)("div",CT,[DT,(0,l.wy)((0,l._)("textarea",{class:"form-control text-body","onUpdate:modelValue":t[9]||(t[9]=e=>d.updateWelding.semi_product_note=e),rows:"4",placeholder:"Nhập ghi chú"},null,512),[[a.nr,d.updateWelding.semi_product_note]])])])])])])]),(0,l._)("div",PT,[(0,l._)("button",{class:"btn ripple btn-primary",type:"button",onClick:t[10]||(t[10]=(...e)=>r.update&&r.update(...e))},"Lưu"),(0,l._)("button",{class:"btn ripple btn-danger",onClick:t[11]||(t[11]=e=>r.closeModal("SemiProductModal","updateWelding","updateErrors")),type:"button"},"Đóng")])])])],512)],64)}var ST={data(){return{semiproducts:null,jobsheetID:null,Packages:[],selectedSim:null,Sims:[],updateWelding:[],updateErrors:[]}},props:["jobsheetCode"],mounted(){this.jobsheetID=this.$route.params.id,this.getSemiProducts(),console.log(this.jobsheetCode)},methods:{loadtable(){this.$nextTick((()=>{nt.initializeDataTable("#weldingTable")}))},async getSemiProducts(){try{const e=await va.getData(`welding/showDetailWelding/${this.jobsheetID}`);this.semiproducts=e.data.data[0].getDetail,console.log(e),this.Packages=e.data.getSimPackage,this.Sims=e.data.getCategoriesSim,this.loadtable()}catch(e){console.log(Error)}},getStatus(e){switch(e){case"0":return"bg-primary-light";case"1":return"bg-success-light";case"2":return"bg-success-light";case"3":return"bg-success-light";case"4":return"bg-success-light";case"5":return"bg-success-light";case"6":return"bg-success-light";case"7":return"bg-success-light";case"8":return"bg-success-light";case"9":return"bg-success-light";case"10":return"bg-danger-light";default:return"bg-danger-light"}},semiProductStatus(e){switch(parseInt(e)){case 0:return"Mới tạo";case 1:return"Đã yêu cầu xuất kho";case 2:return"Đã xuất kho";case 3:return"Đã yêu cầu sản xuất";case 4:return"Đang sản xuất";case 5:return"Hoàn thành";case 6:return"Đã gửi yêu cầu kiểm tra";case 7:return"Đã kiểm tra";case 8:return"Đã gửi yêu cầu nhập kho";case 9:return"Đã nhập kho";case 10:return"Đã hủy";default:return"Không rõ"}},confirmWelding(e){nt.confirmDelete((()=>{const t=JSON.parse(sessionStorage.getItem("userLogin")),s={fullname:t.fullname,semiProductID:e};va.putData(`welding/approveOrderWelding/${e}`,s).then((e=>{console.log(e.status),200==e.status?(nt.showSuccessAlert("Đã nhận yêu cầu hàn mạch"),this.getSemiProducts()):nt.showErrorAlert("Bị lỗi khi nhận yêu cầu hàn mạch")})).catch((e=>{console.log(e)}))}),"Bạn chắc chắn muốn nhận yêu cầu này?")},editWelding(e){if(e.categoryInfo.length>0){const t={_id:e.categories_sim_id,serial_sim:e.categoryInfo[0].serial_sim};this.Sims.push(t)}this.updateWelding.old_sim=e.categories_sim_id,this.updateWelding.id=e._id,this.updateWelding.semi_product_lot=e.semi_product_lot,this.updateWelding.semi_product_name=e.semi_product_name,this.updateWelding.semi_product_assembly_date=e.semi_product_assembly_date,this.updateWelding.purpose=e.purpose,this.updateWelding.categories_sim_id=e.categories_sim_id,this.updateWelding.activation_date=e.activation_date?(0,st.Z)(new Date(e.activation_date),"yyyy-MM-dd"):0,this.updateWelding.semi_product_note=e.semi_product_note,this.updateWelding.semi_product_status=5==e.semi_product_status||10==e.semi_product_status?e.semi_product_status:"",this.updateWelding.sim_package_id=e.SimpackageInfo[0]?e.SimpackageInfo[0]._id:""},update(){const e=JSON.parse(sessionStorage.getItem("userLogin")),t={old_sim:this.updateWelding.old_sim,semi_product_lot:this.updateWelding.semi_product_lot,categories_sim_id:this.updateWelding.categories_sim_id,activation_date:this.updateWelding.activation_date,sim_package_id:this.updateWelding.sim_package_id,semi_product_assembler:e.fullname,purpose:this.updateWelding.purpose,semi_product_note:this.updateWelding.semi_product_note,semi_product_status:this.updateWelding.semi_product_status,semi_product_assembly_date:this.updateWelding.semi_product_assembly_date},s=[{name:"categories_sim_id",label:"Số SIM/E-SIM",nullable:!1},{name:"activation_date",label:"Ngày kích hoạt",nullable:!1},{name:"sim_package_id",label:"Gói cước",nullable:!1},{name:"purpose",label:"Mục đích",nullable:!1},{name:"semi_product_status",label:"Trạng thái",nullable:!1},{name:"semi_product_assembly_date",label:"Ngày hoàn thành",nullable:!1}];if(this.updateErrors=nt.validateData(t,s),0===Object.keys(this.updateErrors).length){console.log(t);const e=this.Packages.filter((e=>e._id===this.updateWelding.sim_package_id)),s=this.updateWelding.activation_date,a=e[0].sim_package_expiration;t.expiration_date=nt.caculateExpirationDate(s,a),va.putData(`welding/updateOrderWelding/${t.semi_product_lot}`,t).then((e=>{console.log(e),nt.showSuccessAlert("Cập nhật thành công"),this.closeModal("SemiProductModal"),this.getSemiProducts()})).catch((e=>{console.log(e)}))}},closeModal(e,t,s){const a=this.$refs[e];$(a).modal("hide"),this[t]={},this[s]={}}}};const ET=(0,r.Z)(ST,[["render",MT]]);var TT=ET;const zT={class:"main-content side-content pt-0"},UT={class:"main-container container-fluid pt-5"},jT={class:"inner-body"},qT={class:"page-header"},IT=(0,l.uE)('<div><h2 class="main-content-title tx-24 mg-b-5">Lắp ráp</h2><ol class="breadcrumb"><li class="breadcrumb-item"><a href="#">Trang chủ</a></li><li class="breadcrumb-item active" aria-current="page">Chi tiết lắp ráp</li></ol></div>',1),LT={class:"d-flex"},NT={class:"justify-content-center"},RT=(0,l._)("i",{class:"fe fe-corner-down-left"},null,-1),VT={class:"row row-sm"},QT={class:"col-lg-12"},OT={class:"card custom-card"},AT={class:"card-body"},JT=(0,l._)("div",null,[(0,l._)("h6",{class:"main-content-label mb-1"},"Danh sách lắp ráp"),(0,l._)("p",{class:"text-muted card-sub-title"})],-1),$T={class:"table-responsive"},GT=["data","columns"],WT=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",null,"STT"),(0,l._)("th",null,"Số lot"),(0,l._)("th",null,"Số Seriral"),(0,l._)("th",null,"Mã SP"),(0,l._)("th",null,"Tên SP"),(0,l._)("th",null,"Số Lot Board"),(0,l._)("th",null,"NV thực hiện"),(0,l._)("th",null,"Ngày hoàn thành"),(0,l._)("th",null,"Trạng thái"),(0,l._)("th",null,"Ghi chú"),(0,l._)("th",null,"Thao tác")])],-1),BT=(0,l._)("td",null,null,-1),YT=["onClick"],HT=["onClick"],KT={class:"modal fade",id:"update_assembly",ref:"productModal"},ZT={class:"modal-dialog modal-xl",role:"document"},FT={class:"modal-content modal-content-demo"},XT={class:"modal-header"},ez=(0,l._)("h6",{class:"modal-title"},"Thông tin lắp ráp",-1),tz={class:"modal-body"},sz={class:"table"},az={class:"form-group"},lz=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Số lot TP",-1),oz={class:"form-group"},dz=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Mã TP",-1),rz={class:"form-group"},iz=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Tên TP",-1),nz={class:"form-group"},cz=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Số lot board",-1),uz=["value"],_z={key:0,class:"invalid-feedback"},pz={class:"form-group"},mz=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Mã BTP board",-1),hz={class:"form-group"},bz=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Tên board",-1),gz={class:"form-group"},vz=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Số SIM/E-SIM",-1),fz={class:"form-group"},yz=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Gói cước sử dụng",-1),wz={class:"form-group"},kz=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Ngày kích hoạt",-1),xz={class:"align-top"},Cz={class:"form-group"},Dz=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Trạng thái",-1),Pz=(0,l._)("option",{value:"5"},"Hoàn thành",-1),Mz=(0,l._)("option",{value:"10"},"Đã hủy",-1),Sz=[Pz,Mz],Ez={key:0,class:"invalid-feedback"},Tz={class:"align-top"},zz={class:"form-group"},Uz=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Ngày hoàn thành",-1),jz={key:0,class:"invalid-feedback"},qz={class:"form-group"},Iz=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Ghi chú",-1),Lz={class:"modal-footer"};function Nz(e,t,s,o,d,r){const i=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",zT,[(0,l._)("div",UT,[(0,l._)("div",jT,[(0,l._)("div",qT,[IT,(0,l._)("div",LT,[(0,l._)("div",NT,[(0,l.Wm)(i,{to:"/assemblys",class:"btn btn-white btn-rounded my-2"},{default:(0,l.w5)((()=>[RT,(0,l.Uk)(" Trở lại")])),_:1})])])]),(0,l._)("div",VT,[(0,l._)("div",QT,[(0,l._)("div",OT,[(0,l._)("div",AT,[JT,(0,l._)("div",$T,[(0,l._)("table",{data:d.products,columns:e.columns,class:"table table-bordered display",id:"productTable"},[WT,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.products,((e,t)=>((0,l.wg)(),(0,l.iD)("tr",{key:e._id},[(0,l._)("td",null,(0,p.zw)(t+1),1),(0,l._)("td",null,(0,p.zw)(e.product_code),1),(0,l._)("td",null,(0,p.zw)(e.product_serial),1),(0,l._)("td",null,(0,p.zw)(e.product_id),1),(0,l._)("td",null,(0,p.zw)(e.product_name),1),(0,l._)("td",null,(0,p.zw)(e.semiProductData[0]?e.semiProductData[0].semi_product_lot:""),1),(0,l._)("td",null,(0,p.zw)(e.product_assembler),1),(0,l._)("td",null,(0,p.zw)(e.product_assembly_date),1),(0,l._)("td",null,[(0,l._)("span",{class:(0,p.C_)(["badge bg-pill",r.getStatus(e.product_status)])},(0,p.zw)(r.productStatus(e.product_status)),3)]),BT,(0,l._)("td",null,[4==e.product_status||5==e.product_status?((0,l.wg)(),(0,l.iD)("a",{key:0,onClick:t=>r.editProduct(e),"data-bs-target":"#update_assembly","data-bs-toggle":"modal",class:"btn btn-sm ripple btn-primary text-light"},"Cập nhật",8,YT)):(0,l.kq)("",!0),"3"==e.product_status?((0,l.wg)(),(0,l.iD)("button",{key:1,onClick:t=>r.confirmAssembly(e.product_code),class:"btn btn-primary btn-sm"},"Nhận",8,HT)):(0,l.kq)("",!0)])])))),128))])],8,GT)])])])])])])])]),(0,l._)("div",KT,[(0,l._)("div",ZT,[(0,l._)("div",FT,[(0,l._)("div",XT,[ez,(0,l._)("button",{"aria-label":"Close",class:"btn-close",onClick:t[0]||(t[0]=e=>r.closeModal("productModal","updateProduct","updateErrors")),type:"button"})]),(0,l._)("div",tz,[(0,l._)("table",sz,[(0,l._)("tbody",null,[(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",az,[lz,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control text-body","onUpdate:modelValue":t[1]||(t[1]=e=>d.updateProduct.product_lot=e),readonly:""},null,512),[[a.nr,d.updateProduct.product_lot]])])]),(0,l._)("td",null,[(0,l._)("div",oz,[dz,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control text-body","onUpdate:modelValue":t[2]||(t[2]=e=>d.updateProduct.product_code=e),readonly:""},null,512),[[a.nr,d.updateProduct.product_code]])])]),(0,l._)("td",null,[(0,l._)("div",rz,[iz,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control text-body","onUpdate:modelValue":t[3]||(t[3]=e=>d.updateProduct.product_name=e),readonly:""},null,512),[[a.nr,d.updateProduct.product_name]])])])]),(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",nz,[cz,(0,l.wy)((0,l._)("select",{class:(0,p.C_)(["form-control form-select text-body",{"is-invalid":d.updateErrors.semi_product_lot}]),id:"semiProductId","onUpdate:modelValue":t[4]||(t[4]=e=>d.selectedSemi=e)},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.semiProducts,(e=>((0,l.wg)(),(0,l.iD)("option",{value:e.semi_product_lot},(0,p.zw)(e.semi_product_lot),9,uz)))),256))],2),[[a.bM,d.selectedSemi]]),d.updateErrors.semi_product_lot?((0,l.wg)(),(0,l.iD)("div",_z,(0,p.zw)(d.updateErrors.semi_product_lot),1)):(0,l.kq)("",!0)])]),(0,l._)("td",null,[(0,l._)("div",pz,[mz,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control text-body","onUpdate:modelValue":t[5]||(t[5]=e=>d.updateProduct.semi_product_code=e),readonly:""},null,512),[[a.nr,d.updateProduct.semi_product_code]])])]),(0,l._)("td",null,[(0,l._)("div",hz,[bz,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control text-body","onUpdate:modelValue":t[6]||(t[6]=e=>d.updateProduct.semi_product_name=e),readonly:""},null,512),[[a.nr,d.updateProduct.semi_product_name]])])])]),(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",gz,[vz,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control text-body","onUpdate:modelValue":t[7]||(t[7]=e=>d.updateProduct.serial_sim=e),readonly:""},null,512),[[a.nr,d.updateProduct.serial_sim]])])]),(0,l._)("td",null,[(0,l._)("div",fz,[yz,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control text-body","onUpdate:modelValue":t[8]||(t[8]=e=>d.updateProduct.package_sim=e),readonly:""},null,512),[[a.nr,d.updateProduct.package_sim]])])]),(0,l._)("td",null,[(0,l._)("div",wz,[kz,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control text-body","onUpdate:modelValue":t[9]||(t[9]=e=>d.updateProduct.activation_date=e),readonly:""},null,512),[[a.nr,d.updateProduct.activation_date]])])])]),(0,l._)("tr",null,[(0,l._)("td",xz,[(0,l._)("div",Cz,[Dz,(0,l.wy)((0,l._)("select",{class:(0,p.C_)(["form-control form-select text-body",{"is-invalid":d.updateErrors.product_status}]),"onUpdate:modelValue":t[10]||(t[10]=e=>d.updateProduct.product_status=e)},Sz,2),[[a.bM,d.updateProduct.product_status]]),d.updateErrors.product_status?((0,l.wg)(),(0,l.iD)("div",Ez,(0,p.zw)(d.updateErrors.product_status),1)):(0,l.kq)("",!0)])]),(0,l._)("td",Tz,[(0,l._)("div",zz,[Uz,(0,l.wy)((0,l._)("input",{type:"date",class:(0,p.C_)(["form-control text-body",{"is-invalid":d.updateErrors.product_assembly_date}]),"onUpdate:modelValue":t[11]||(t[11]=e=>d.updateProduct.product_assembly_date=e)},null,2),[[a.nr,d.updateProduct.product_assembly_date]]),d.updateErrors.product_assembly_date?((0,l.wg)(),(0,l.iD)("div",jz,(0,p.zw)(d.updateErrors.product_assembly_date),1)):(0,l.kq)("",!0)])]),(0,l._)("td",null,[(0,l._)("div",qz,[Iz,(0,l.wy)((0,l._)("textarea",{class:"form-control text-body","onUpdate:modelValue":t[12]||(t[12]=e=>d.updateProduct.product_note=e),rows:"4",placeholder:"Ghi chú"},null,512),[[a.nr,d.updateProduct.product_note]])])])])])]),(0,l._)("div",Lz,[(0,l._)("button",{class:"btn ripple btn-primary",type:"button",onClick:t[13]||(t[13]=(...e)=>r.updateAssemble&&r.updateAssemble(...e))},"Lưu"),(0,l._)("button",{class:"btn ripple btn-danger",onClick:t[14]||(t[14]=e=>r.closeModal("productModal","updateProduct","updateErrors")),type:"button"},"Đóng")])])])])],512)],64)}var Rz={data(){return{products:null,jobsheetID:null,updateProduct:[],selectedSemi:null,selectedProductName:"",semiProducts:[],updateErrors:[]}},watch:{selectedSemi(e){const t=this.semiProducts.find((t=>t.semi_product_lot===e));t&&(this.updateProduct.semi_product_code=t?t.semi_product_code:"",this.updateProduct.semi_product_name=t?t.semi_product_name:"",this.updateProduct.serial_sim=t&&t.CategoriesInfo?t.CategoriesInfo[0].serial_sim:"",this.updateProduct.activation_date=t&&t.CategoriesInfo?t.CategoriesInfo[0].activation_date:"",this.updateProduct.package_sim=t&&t.SimpackageInfo?t.SimpackageInfo[0].sim_package_description:"")}},mounted(){this.jobsheetID=this.$route.params.id,this.getProducts()},methods:{formatDate(e){return(0,st.Z)(new Date(e),"dd/MM/yyyy")},loadtable(){this.$nextTick((()=>{nt.initializeDataTable("#productTable")}))},getProducts(){va.getData(`assemble/showDetailAssemble/${this.jobsheetID}`).then((e=>{this.products=e.data.data[0].getDetail,this.semiProducts=e.data.getProductLot,console.log(e),this.loadtable()})).catch((e=>{console.log(e)}))},getStatus(e){switch(e){case"0":return"bg-primary-light";case"1":return"bg-success-light";case"2":return"bg-success-light";case"3":return"bg-success-light";case"4":return"bg-success-light";case"5":return"bg-success-light";case"6":return"bg-success-light";case"7":return"bg-success-light";case"8":return"bg-success-light";case"9":return"bg-success-light";case"10":return"bg-danger-light";default:return"bg-danger-light"}},productStatus(e){switch(parseInt(e)){case 0:return"Mới tạo";case 1:return"Đã yêu cầu xuất kho";case 2:return"Đã xuất kho";case 3:return"Đã yêu cầu sản xuất";case 4:return"Đang sản xuất";case 5:return"Hoàn thành";case 6:return"Đã gửi yêu cầu kiểm tra";case 7:return"Đã kiểm tra";case 8:return"Đã gửi yêu cầu nhập kho";case 9:return"Đã nhập kho";case 10:return"Đã hủy";default:return"Không rõ"}},confirmAssembly(e){nt.confirmDelete((()=>{const t=JSON.parse(sessionStorage.getItem("userLogin")),s={fullname:t.fullname,ProductID:e};va.putData(`assemble/approveOrderAssemble/${e}`,s).then((e=>{console.log(e.status),200==e.status?(nt.showSuccessAlert("Đã nhận yêu cầu lắp ráp"),this.getProducts()):nt.showErrorAlert("Bị lỗi khi nhận yêu cầu lắp ráp")})).catch((e=>{console.log(e)}))}),"Bạn chắc chắn muốn nhận yêu cầu này?")},editProduct(e){if(e.semiProductData.length>0){const t={semi_product_lot:e.semiProductData?e.semiProductData[0].semi_product_lot:"",semi_product_code:e.semiProductData?e.semiProductData[0].semi_product_code:"",semi_product_name:e.semiProductData?e.semiProductData[0].semi_product_name:""};t.CategoriesInfo=[{serial_sim:e.semiProductData&&e.semiProductData[0].categoriesSimData?e.semiProductData[0].categoriesSimData[0].serial_sim:"",activation_date:e.semiProductData?e.semiProductData[0].categoriesSimData[0].activation_date:""}],t.SimpackageInfo=[{sim_package_description:e.semiProductData?e.semiProductData[0].SimpackageInfo[0].sim_package_description:""}],this.semiProducts.push(t)}this.selectedSemi!==e.semi_product_lot&&(this.selectedSemi=e.semi_product_lot),this.updateProduct.old_semi_product_lot=e.semi_product_lot,this.updateProduct.product_lot=e.product_code,this.updateProduct.product_code=e.product_id,this.updateProduct.product_name=e.product_name,this.updateProduct.selectedSemi=e.semi_product_id,this.updateProduct.product_assembly_date=e.product_assembly_date?(0,st.Z)(new Date(e.product_assembly_date),"yyyy-MM-dd"):"",this.updateProduct.product_note=e.product_note,this.updateProduct.product_status=5==e.product_status||10==e.product_status?e.product_status:""},updateAssemble(){const e={old_semi_product_lot:this.updateProduct.old_semi_product_lot,semi_product_lot:this.selectedSemi,product_assembly_date:this.updateProduct.product_assembly_date,product_status:this.updateProduct.product_status};console.log(e);const t=[{name:"semi_product_lot",label:"Số Lot Board",nullable:!1},{name:"product_status",label:"Trạng thái",nullable:!1},{name:"product_assembly_date",label:"Ngày hoàn thành",nullable:!1}];this.updateErrors=nt.validateData(e,t),0===Object.keys(this.updateErrors).length&&va.putData(`assemble/updateOrderAssemble/${this.updateProduct.product_lot}`,e).then((e=>{console.log(e),nt.showSuccessAlert("Cập nhật thành công"),this.closeModal("productModal"),this.getProducts()})).catch((e=>{console.log(e)}))},closeModal(e,t,s){const a=this.$refs[e];$(a).modal("hide"),this[t]={},this[s]={}}}};const Vz=(0,r.Z)(Rz,[["render",Nz]]);var Qz=Vz;const Oz={class:"main-content side-content pt-0"},Az={class:"main-container container-fluid pt-5"},Jz={class:"inner-body"},$z={class:"page-header"},Gz=(0,l._)("h2",{class:"main-content-title tx-24 mg-b-5"},"QA/QC",-1),Wz={class:"breadcrumb"},Bz={class:"breadcrumb-item"},Yz=(0,l._)("li",{class:"breadcrumb-item active","aria-current":"page"}," QA/QC",-1),Hz={class:"d-flex"},Kz={class:"justify-content-center"},Zz=(0,l._)("i",{class:"fe fe-corner-down-left"},null,-1),Fz={class:"row row-sm"},Xz={class:"col-lg-12"},eU={class:"card custom-card"},tU={class:"card-body"},sU={class:"main-content-label mb-1"},aU=(0,l._)("p",{class:"text-muted card-sub-title"},null,-1),lU={class:"table-responsive"},oU=["data"],dU=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{class:"wd-20p"},"STT"),(0,l._)("th",{class:"wd-25p"},"Số lot"),(0,l._)("th",{class:"wd-20p"},"Mã SP"),(0,l._)("th",{class:"wd-20p"},"Tên SP"),(0,l._)("th",{class:"wd-20p"},"Người kiểm tra"),(0,l._)("th",{class:"wd-20p"},"Ngày kiểm tra"),(0,l._)("th",{class:"wd-20p"},"Trạng thái"),(0,l._)("th",{class:"wd-20p"},"Kết quả"),(0,l._)("th",{class:"wd-20p"},"Ghi chú"),(0,l._)("th",{class:"wd-15p"},"Thao tác")])],-1),rU=["onClick"],iU={class:"modal",id:"update_quality_control",ref:"updateQC"},nU={class:"modal-dialog modal-lg",role:"document"},cU={class:"modal-content modal-content-demo"},uU=(0,l._)("div",{class:"modal-header"},[(0,l._)("h6",{class:"modal-title"},"Cập nhật kiểm tra"),(0,l._)("button",{"aria-label":"Close",class:"btn-close","data-bs-dismiss":"modal",type:"button"})],-1),_U={class:"modal-body"},pU={class:"table"},mU={class:"align-top"},hU={class:"form-group"},bU=(0,l._)("label",{class:"fw-bold"},"Kết quả kiểm tra",-1),gU=(0,l._)("option",{value:"1"},"PASS",-1),vU=(0,l._)("option",{value:"0"},"FAIL",-1),fU=[gU,vU],yU={key:0,class:"invalid-feedback"},wU={class:"form-group"},kU=(0,l._)("label",{class:"fw-bold"},"Ghi chú",-1),xU={class:"modal-footer"},CU=(0,l._)("button",{class:"btn ripple btn-primary",type:"submit"},"Lưu",-1);function DU(e,t,s,o,d,r){const i=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",Oz,[(0,l._)("div",Az,[(0,l._)("div",Jz,[(0,l._)("div",$z,[(0,l._)("div",null,[Gz,(0,l._)("ol",Wz,[(0,l._)("li",Bz,[(0,l.Wm)(i,{to:"/"},{default:(0,l.w5)((()=>[(0,l.Uk)("Trang chủ")])),_:1})]),Yz])]),(0,l._)("div",Hz,[(0,l._)("div",Kz,[(0,l.Wm)(i,{to:"/qualitycontrol",class:"btn btn-white btn-rounded my-2"},{default:(0,l.w5)((()=>[Zz,(0,l.Uk)(" Trở lại")])),_:1})])])]),(0,l._)("div",Fz,[(0,l._)("div",Xz,[(0,l._)("div",eU,[(0,l._)("div",tU,[(0,l._)("div",null,[(0,l._)("h6",sU,"Chi tiết QA/QC Jobsheet: "+(0,p.zw)(d.jobsheetID),1),aU]),(0,l._)("div",lU,[(0,l._)("table",{data:d.QCDetails,class:"table table-bordered display",id:"QCTable"},[dU,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.QCDetails,((e,t)=>((0,l.wg)(),(0,l.iD)("tr",{key:e._id},[(0,l._)("td",null,(0,p.zw)(t+1),1),(0,l._)("td",null,(0,p.zw)(e.product_code||e.semi_product_lot),1),(0,l._)("td",null,(0,p.zw)(e.getDetail[0].product_id),1),(0,l._)("td",null,(0,p.zw)(e.getDetail[0].product_name),1),(0,l._)("td",null,(0,p.zw)(e.semi_product_tester||e.product_tester),1),(0,l._)("td",null,(0,p.zw)(e.semi_product_test_date||e.product_test_date),1),(0,l._)("td",null,[(0,l._)("span",{class:(0,p.C_)(["badge bg-pill",r.getStatus(e.semi_product_status||e.product_status)])},(0,p.zw)(r.semiProductStatus(e.semi_product_status||e.product_status)),3)]),(0,l._)("td",null,[e.semi_product_result||e.product_result?((0,l.wg)(),(0,l.iD)("span",{key:0,class:(0,p.C_)(["badge bg-pill",r.getResult(e.semi_product_result||e.product_result)])},(0,p.zw)(r.QCResultShow(e.semi_product_result||e.product_result)),3)):(0,l.kq)("",!0)]),(0,l._)("td",null,(0,p.zw)(e.semi_product_note),1),(0,l._)("td",null,[6==e.semi_product_status||6==e.product_status?((0,l.wg)(),(0,l.iD)("a",{key:0,onClick:t=>r.editQCModal(e),"data-bs-target":"#update_quality_control","data-bs-toggle":"modal",class:"btn btn-sm ripple btn-primary text-light"},"Kiểm tra",8,rU)):(0,l.kq)("",!0)])])))),128))])],8,oU)])])])])])])])]),(0,l._)("div",iU,[(0,l._)("div",nU,[(0,l._)("div",cU,[uU,(0,l._)("form",{onSubmit:t[3]||(t[3]=(0,a.iM)(((...e)=>r.QCResult&&r.QCResult(...e)),["prevent"]))},[(0,l._)("div",_U,[(0,l._)("table",pU,[(0,l._)("tbody",null,[(0,l._)("tr",null,[(0,l._)("td",mU,[(0,l._)("div",hU,[bU,(0,l.wy)((0,l._)("select",{class:(0,p.C_)(["form-control form-select text-body",{"is-invalid":d.updateErrors.product_result}]),"onUpdate:modelValue":t[0]||(t[0]=e=>d.updateQC.product_result=e)},fU,2),[[a.bM,d.updateQC.product_result]]),d.updateErrors.product_result?((0,l.wg)(),(0,l.iD)("div",yU,(0,p.zw)(d.updateErrors.product_result),1)):(0,l.kq)("",!0)])]),(0,l._)("td",null,[(0,l._)("div",wU,[kU,(0,l.wy)((0,l._)("textarea",{class:"form-control text-body","onUpdate:modelValue":t[1]||(t[1]=e=>d.updateQC.product_note=e),rows:"5",placeholder:"Nhập ghi chú"},null,512),[[a.nr,d.updateQC.product_note]])])])])])])]),(0,l._)("div",xU,[(0,l._)("div",null,[CU,(0,l._)("button",{class:"btn ripple btn-danger ms-2",onClick:t[2]||(t[2]=e=>r.closeModal("updateQC","updateQC","")),type:"button"}," Đóng ")])])],32)])])],512)],64)}var PU={data(){return{QCDetails:null,jobsheetID:null,updateQC:[],updateErrors:[]}},mounted(){this.jobsheetID=this.$route.params.id,this.getQADetail()},methods:{loadtable(){this.$nextTick((()=>{nt.initializeDataTable("#QCTable")}))},getQADetail(){va.getData(`quality-control/detailQualityControl/${this.jobsheetID}`).then((e=>{this.QCDetails=e.data.data,this.loadtable(),console.log(e)})).catch((e=>{console.log(e)}))},editQCModal(e){this.updateQC.product_lot=e.product_code||e.semi_product_lot,this.updateQC.semi_product_result=e.semi_product_result||e.product_result,this.updateQC.semi_product_note=e.semi_product_note||e.product_note},QCResult(){const e={jobsheetCode:this.jobsheetID,productId:this.updateQC.product_lot,product_tester:JSON.parse(sessionStorage.getItem("userLogin")).fullname,product_test_date:(0,st.Z)(new Date,"dd/MM/yyyy"),product_result:this.updateQC.product_result,product_note:this.updateQC.product_note};console.log(e);const t=[{name:"product_result",label:"Kết quả",nullable:!1}];this.updateErrors=nt.validateData(e,t),0===Object.keys(this.updateErrors).length&&va.putData("quality-control/orderQualityControl",e).then((e=>{200==e.data.status&&(this.closeModal("updateQC"),nt.showSuccessAlert("Cập nhật thành công"),this.getQADetail(),this.updateQC={}),console.log(e)})).catch((e=>{console.log(e)}))},closeModal(e,t,s){const a=this.$refs[e];$(a).modal("hide"),this[t]={},this[s]={}},getResult(e){switch(e){case"0":return"bg-danger-light";case"1":return"bg-success-light";default:return"bg-danger-light"}},QCResultShow(e){switch(parseInt(e)){case 0:return"FAIL";case 1:return"PASS";default:return"Không rõ"}},getStatus(e){switch(e){case"0":return"bg-primary-light";case"1":return"bg-success-light";case"2":return"bg-success-light";case"3":return"bg-success-light";case"4":return"bg-success-light";case"5":return"bg-success-light";case"6":return"bg-success-light";case"7":return"bg-success-light";case"8":return"bg-success-light";case"9":return"bg-success-light";case"10":return"bg-danger-light";default:return"bg-danger-light"}},semiProductStatus(e){switch(parseInt(e)){case 0:return"Mới tạo";case 1:return"Đã yêu cầu xuất kho";case 2:return"Đã xuất kho";case 3:return"Đã yêu cầu sản xuất";case 4:return"Đang sản xuất";case 5:return"Hoàn thành";case 6:return"Đã gửi yêu cầu kiểm tra";case 7:return"Đã kiểm tra";case 8:return"Đã gửi yêu cầu nhập kho";case 9:return"Đã nhập kho";case 10:return"Đã hủy";default:return"Không rõ"}}}};const MU=(0,r.Z)(PU,[["render",DU]]);var SU=MU;const EU={class:"main-content side-content pt-0"},TU={class:"main-container container-fluid pt-5"},zU={class:"inner-body"},UU=(0,l.uE)('<div class="page-header"><div><h2 class="main-content-title tx-24 mg-b-5">Quản lý chức vụ</h2><ol class="breadcrumb"><li class="breadcrumb-item"><a href="#">Trang chủ</a></li><li class="breadcrumb-item active" aria-current="page"> Chức vụ </li></ol></div><div class="d-flex"><div class="justify-content-center"><a data-bs-target="#add_position" data-bs-toggle="modal" class="btn btn-primary btn-rounded my-2 text-white"><i class="fe fe-plus"></i> Thêm mới </a></div></div></div>',1),jU={class:"row row-sm"},qU={class:"col-lg-12"},IU={class:"card custom-card"},LU={class:"card-body"},NU=(0,l._)("div",null,[(0,l._)("h6",{class:"main-content-label mb-1"},"Danh sách chức vụ"),(0,l._)("p",{class:"text-muted card-sub-title"})],-1),RU={class:"table-responsive"},VU=["data"],QU=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{class:"wd-20p"},"STT"),(0,l._)("th",{class:"wd-25p"},"Mã chức vụ"),(0,l._)("th",{class:"wd-25p"},"Tên chức vụ"),(0,l._)("th",{class:"wd-25p"},"Ghi chú"),(0,l._)("th",{class:"wd-15p"},"Thao tác")])],-1),OU=["onClick"],AU=(0,l._)("i",{class:"fe fe-edit-2"},null,-1),JU=[AU],$U=["onClick"],GU=(0,l._)("i",{class:"fe fe-trash"},null,-1),WU=[GU],BU={class:"modal",id:"add_position",ref:"addPositionModal"},YU={class:"modal-dialog modal-lg",role:"document"},HU={class:"modal-content modal-content-demo"},KU=(0,l._)("div",{class:"modal-header"},[(0,l._)("h6",{class:"modal-title"},"Thêm mới chức vụ"),(0,l._)("button",{"aria-label":"Close",class:"btn-close","data-bs-dismiss":"modal",type:"button"})],-1),ZU={class:"modal-body"},FU={class:"table"},XU={class:"form-group"},ej=(0,l._)("label",{class:"fw-bold"},"Mã chức vụ",-1),tj={key:0,class:"invalid-feedback mt-2"},sj={class:"form-group"},aj=(0,l._)("label",{class:"fw-bold"},"Tên chức vụ",-1),lj={key:0,class:"invalid-feedback"},oj={colspan:"2"},dj={class:"form-group"},rj=(0,l._)("label",{class:"fw-bold"},"Ghi chú",-1),ij={class:"invalid-feedback"},nj={key:0,class:"alert alert-success text-center"},cj={class:"modal-footer d-flex justify-content-between"},uj={class:"form-check"},_j=(0,l._)("label",{class:"form-check-label fw-bold"},"Không đóng màn hình",-1),pj=(0,l._)("button",{class:"btn ripple btn-primary",type:"submit"},"Lưu",-1),mj={class:"modal",id:"update_position",ref:"updatePositionModal"},hj={class:"modal-dialog modal-lg",role:"document"},bj={class:"modal-content modal-content-demo"},gj=(0,l._)("div",{class:"modal-header"},[(0,l._)("h6",{class:"modal-title"},"Cập nhật chức vụ"),(0,l._)("button",{"aria-label":"Close",class:"btn-close","data-bs-dismiss":"modal",type:"button"})],-1),vj={class:"modal-body"},fj={class:"table"},yj={class:"form-group"},wj=(0,l._)("label",{class:"fw-bold"},"Mã chức vụ",-1),kj={key:0,class:"invalid-feedback"},xj={class:"form-group"},Cj=(0,l._)("label",{class:"fw-bold"},"Tên chức vụ",-1),Dj={key:0,class:"invalid-feedback"},Pj={colspan:"2"},Mj={class:"form-group"},Sj=(0,l._)("label",{class:"fw-bold"},"Ghi chú",-1),Ej={key:0,class:"invalid-feedback"},Tj={class:"modal-footer"},zj=(0,l._)("button",{class:"btn ripple btn-primary",type:"submit"},"Lưu",-1);function Uj(e,t,s,o,d,r){return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",EU,[(0,l._)("div",TU,[(0,l._)("div",zU,[UU,(0,l._)("div",jU,[(0,l._)("div",qU,[(0,l._)("div",IU,[(0,l._)("div",LU,[NU,(0,l._)("div",RU,[(0,l._)("table",{data:d.positions,class:"table table-bordered",id:"positionTable"},[QU,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.positions,((e,t)=>((0,l.wg)(),(0,l.iD)("tr",{key:e._id},[(0,l._)("td",null,(0,p.zw)(t+1),1),(0,l._)("td",null,(0,p.zw)(e.position_code),1),(0,l._)("td",null,(0,p.zw)(e.position_name),1),(0,l._)("td",null,(0,p.zw)(e.position_note),1),(0,l._)("td",null,[(0,l._)("a",{onClick:t=>r.editPosition(e),"data-bs-target":"#update_position","data-bs-toggle":"modal",class:"btn btn-sm btn-outline-info ms-1"},JU,8,OU),(0,l._)("a",{onClick:t=>r.deletePosition(e._id),class:"btn btn-sm btn-outline-danger ms-1"},WU,8,$U)])])))),128))])],8,VU)])])])])])])])]),(0,l._)("div",BU,[(0,l._)("div",YU,[(0,l._)("div",HU,[KU,(0,l._)("form",{onSubmit:t[5]||(t[5]=(0,a.iM)(((...e)=>r.addPosition&&r.addPosition(...e)),["prevent"]))},[(0,l._)("div",ZU,[(0,l._)("table",FU,[(0,l._)("tbody",null,[(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",XU,[ej,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>d.storePosition.position_code=e),class:(0,p.C_)(["form-control text-body",{"is-invalid":d.addErrors.position_code}]),name:"position_code",type:"text",placeholder:"Nhập mã chức vụ"},null,2),[[a.nr,d.storePosition.position_code]]),d.addErrors.position_code?((0,l.wg)(),(0,l.iD)("div",tj,(0,p.zw)(d.addErrors.position_code),1)):(0,l.kq)("",!0)])]),(0,l._)("td",null,[(0,l._)("div",sj,[aj,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>d.storePosition.position_name=e),class:(0,p.C_)(["form-control text-body",{"is-invalid":d.addErrors.position_name}]),name:"position_name",type:"text",placeholder:"Nhập tên chức vụ"},null,2),[[a.nr,d.storePosition.position_name]]),d.addErrors.position_name?((0,l.wg)(),(0,l.iD)("div",lj,(0,p.zw)(d.addErrors.position_name),1)):(0,l.kq)("",!0)])])]),(0,l._)("tr",null,[(0,l._)("td",oj,[(0,l._)("div",dj,[rj,(0,l.wy)((0,l._)("textarea",{"onUpdate:modelValue":t[2]||(t[2]=e=>d.storePosition.position_note=e),class:(0,p.C_)(["form-control text-body",{"is-invalid":d.addErrors.position_note}]),rows:"5",placeholder:"Nhập ghi chú"},null,2),[[a.nr,d.storePosition.position_note]]),(0,l._)("div",ij,(0,p.zw)(d.addErrors.position_note),1)])])])])])]),d.showSuccessMessage?((0,l.wg)(),(0,l.iD)("div",nj,(0,p.zw)(e.successMessage),1)):(0,l.kq)("",!0),(0,l._)("div",cj,[(0,l._)("div",uj,[(0,l.wy)((0,l._)("input",{class:"form-check-input",type:"checkbox",id:"check1",name:"option1",value:"something","onUpdate:modelValue":t[3]||(t[3]=e=>d.dontCloseModal=e)},null,512),[[a.e8,d.dontCloseModal]]),_j]),(0,l._)("div",null,[pj,(0,l._)("button",{class:"btn ripple btn-danger ms-2",onClick:t[4]||(t[4]=e=>r.closeModal("addPositionModal","storePosition","addErrors")),type:"button"}," Đóng ")])])],32)])])],512),(0,l._)("div",mj,[(0,l._)("div",hj,[(0,l._)("div",bj,[gj,(0,l._)("form",{onSubmit:t[10]||(t[10]=(0,a.iM)(((...e)=>r.updatePosition&&r.updatePosition(...e)),["prevent"]))},[(0,l._)("div",vj,[(0,l._)("table",fj,[(0,l._)("tbody",null,[(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",yj,[wj,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>d.selectedPosition.position_code=e),class:(0,p.C_)([{"is-invalid":d.updateErrors.position_code},"form-control text-body"]),type:"text",placeholder:"Nhập mã chức vụ"},null,2),[[a.nr,d.selectedPosition.position_code]]),d.updateErrors.position_code?((0,l.wg)(),(0,l.iD)("div",kj,(0,p.zw)(d.updateErrors.position_code),1)):(0,l.kq)("",!0)])]),(0,l._)("td",null,[(0,l._)("div",xj,[Cj,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>d.selectedPosition.position_name=e),class:(0,p.C_)(["form-control text-body",{"is-invalid":d.updateErrors.position_name}]),type:"text",placeholder:"Nhập tên chức vụ"},null,2),[[a.nr,d.selectedPosition.position_name]]),d.updateErrors.position_name?((0,l.wg)(),(0,l.iD)("div",Dj,(0,p.zw)(d.updateErrors.position_name),1)):(0,l.kq)("",!0)])])]),(0,l._)("tr",null,[(0,l._)("td",Pj,[(0,l._)("div",Mj,[Sj,(0,l.wy)((0,l._)("textarea",{"onUpdate:modelValue":t[8]||(t[8]=e=>d.selectedPosition.position_note=e),class:(0,p.C_)([{"is-invalid":d.updateErrors.position_note},"form-control text-body"]),name:"",rows:"5",placeholder:"Nhập ghi chú"},null,2),[[a.nr,d.selectedPosition.position_note]]),d.updateErrors.position_note?((0,l.wg)(),(0,l.iD)("div",Ej,(0,p.zw)(d.updateErrors.position_note),1)):(0,l.kq)("",!0)])])])])])]),(0,l._)("div",Tj,[zj,(0,l._)("button",{class:"btn ripple btn-danger",onClick:t[9]||(t[9]=e=>r.closeModal("updatePositionModal","selectedPosition","updateErrors")),type:"button"}," Đóng ")])],32)])])],512)],64)}var jj={data(){return{positions:[],storePosition:{position_code:"",position_name:"",position_note:""},selectedPosition:[],dontCloseModal:!1,addErrors:[],updateErrors:[],showSuccessMessage:!1,notifications:[]}},mounted(){this.getPositions()},methods:{loadtable(){this.$nextTick((()=>{nt.initializeDataTable("#positionTable")}))},async getPositions(){try{const e=await va.getData("position/listPosition");this.positions=e.data.data,this.loadtable()}catch(e){nt.errorRedirect()}},addPosition(){const e={position_code:this.storePosition.position_code,position_name:this.storePosition.position_name,position_note:this.storePosition.position_note||""},t=[{name:"position_code",label:"Mã bộ phận",maxLength:50,nullable:!1},{name:"position_name",label:"Tên bộ phận",maxLength:50,nullable:!1},{name:"position_note",label:"Ghi chú",maxLength:50,nullable:!0}];this.addErrors=nt.validateData(e,t),0===Object.keys(this.addErrors).length&&va.postData("position/storePosition",e).then((e=>{e.data.error?e.data.error.details.forEach((e=>{const t=e.message,s=e.path[0];this.errors[s]=[],this.errors[s]=t})):this.dontCloseModal?(this.getPositions(),this.storePosition={},this.showSuccessMessage=!0,this.successMessage="Thêm thành công",setTimeout((()=>{this.showSuccessMessage=!1}),1e3)):(this.getPositions(),this.closeModal("addPositionModal","storePosition","errors"),nt.showSuccessAlert("Thêm thành công"))})).catch((e=>{console.error("Lỗi khi thêm:",e)}))},closeModal(e,t,s){const a=this.$refs[e];$(a).modal("hide"),this[t]={},this[s]={}},editPosition(e){this.selectedPosition.id=e._id,this.selectedPosition.position_code=e.position_code,this.selectedPosition.position_name=e.position_name,this.selectedPosition.position_note=e.position_note},updatePosition(){const e={position_code:this.selectedPosition.position_code,position_name:this.selectedPosition.position_name,position_note:this.selectedPosition.position_note},t=[{name:"position_code",label:"Mã bộ phận",maxLength:50,nullable:!1},{name:"position_name",label:"Tên bộ phận",maxLength:50,nullable:!1},{name:"position_note",label:"Ghi chú",maxLength:50,nullable:!0}];this.updateErrors=nt.validateData(e,t),0===Object.keys(this.updateErrors).length&&va.putData(`position/updatePosition/${this.selectedPosition.id}`,e).then((e=>{e.data.error?e.data.error.details.forEach((e=>{const t=e.message,s=e.path[0];this.updateErrors[s]=[],this.updateErrors[s]=t})):(nt.showSuccessAlert("Cập nhật thành công"),this.closeModal("updatePositionModal","selectedPosition","updateErrors"),this.getPositions())})).catch((e=>{console.error("Lỗi khi cập nhật bộ phận:",e),console.log(e)}))},deletePosition(e){nt.confirmDelete((()=>{va.deleteData(`position/deletePosition/?id=${e}`).then((e=>{nt.showSuccessAlert("Xóa thành công"),this.getPositions()})).catch((e=>{console.error("Lỗi khi xóa chức vụ:",e)}))}))}}};const qj=(0,r.Z)(jj,[["render",Uj]]);var Ij=qj;const Lj={class:"main-content side-content pt-0"},Nj={class:"main-container container-fluid pt-5"},Rj={class:"inner-body"},Vj=(0,l.uE)('<div class="page-header"><div><h2 class="main-content-title tx-24 mg-b-5">Quản lý bộ phận</h2><ol class="breadcrumb"><li class="breadcrumb-item"><a href="#">Trang chủ</a></li><li class="breadcrumb-item active" aria-current="page">Bộ phận</li></ol></div><div class="d-flex"><div class="justify-content-center"><a data-bs-target="#add_department" data-bs-toggle="modal" class="btn btn-primary btn-rounded my-2 text-white"><i class="fe fe-plus"></i> Thêm mới </a></div></div></div>',1),Qj={class:"row row-sm"},Oj={class:"col-lg-12"},Aj={class:"card custom-card"},Jj={class:"card-body"},$j=(0,l._)("div",null,[(0,l._)("h6",{class:"main-content-label mb-1"},"Danh sách bộ phận"),(0,l._)("p",{class:"text-muted card-sub-title"})],-1),Gj={class:"table-responsive"},Wj=["data"],Bj=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{class:"wd-20p"},"STT"),(0,l._)("th",{class:"wd-25p"},"Mã bộ phận"),(0,l._)("th",{class:"wd-25p"},"Tên bộ phận"),(0,l._)("th",{class:"wd-25p"},"Ghi chú"),(0,l._)("th",{class:"wd-15p"},"Thao tác")])],-1),Yj=["onClick"],Hj=(0,l._)("i",{class:"fe fe-edit-2"},null,-1),Kj=[Hj],Zj=["onClick"],Fj=(0,l._)("i",{class:"fe fe-trash"},null,-1),Xj=[Fj],eq={class:"modal",id:"add_department",ref:"addDepartmentModal"},tq={class:"modal-dialog modal-lg",role:"document"},sq={class:"modal-content modal-content-demo"},aq=(0,l._)("div",{class:"modal-header"},[(0,l._)("h6",{class:"modal-title"},"Thêm mới bộ phận"),(0,l._)("button",{"aria-label":"Close",class:"btn-close","data-bs-dismiss":"modal",type:"button"})],-1),lq={class:"modal-body"},oq={class:"table"},dq={class:"form-group"},rq=(0,l._)("label",{class:"fw-bold"},"Mã bộ phận",-1),iq={key:0,class:"invalid-feedback mt-2"},nq={class:"form-group"},cq=(0,l._)("label",{class:"fw-bold"},"Tên bộ phận",-1),uq={key:0,class:"invalid-feedback"},_q={colspan:"2"},pq={class:"form-group"},mq=(0,l._)("label",{class:"fw-bold"},"Ghi chú",-1),hq={key:0,class:"invalid-feedback"},bq={key:0,class:"alert alert-success text-center"},gq={class:"modal-footer d-flex justify-content-between"},vq={class:"form-check"},fq=(0,l._)("label",{class:"form-check-label fw-bold"},"Không đóng màn hình",-1),yq=(0,l._)("button",{class:"btn ripple btn-primary",type:"submit"},"Lưu",-1),wq={class:"modal",id:"update_department",ref:"updateDepartmentModal"},kq={class:"modal-dialog modal-lg",role:"document"},xq={class:"modal-content modal-content-demo"},Cq=(0,l._)("div",{class:"modal-header"},[(0,l._)("h6",{class:"modal-title"},"Cập nhật bộ phận"),(0,l._)("button",{"aria-label":"Close",class:"btn-close","data-bs-dismiss":"modal",type:"button"})],-1),Dq={class:"modal-body"},Pq={class:"table"},Mq={class:"form-group"},Sq=(0,l._)("label",{class:"fw-bold"},"Mã bộ phận",-1),Eq={key:0,class:"invalid-feedback"},Tq={class:"form-group"},zq=(0,l._)("label",{class:"fw-bold"},"Tên bộ phận",-1),Uq={key:0,class:"invalid-feedback"},jq={colspan:"2"},qq={class:"form-group"},Iq=(0,l._)("label",{class:"fw-bold"},"Ghi chú",-1),Lq={key:0,class:"invalid-feedback"},Nq={class:"modal-footer"},Rq=(0,l._)("button",{class:"btn ripple btn-primary",type:"submit"},"Lưu",-1);function Vq(e,t,s,o,d,r){return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",Lj,[(0,l._)("div",Nj,[(0,l._)("div",Rj,[Vj,(0,l._)("div",Qj,[(0,l._)("div",Oj,[(0,l._)("div",Aj,[(0,l._)("div",Jj,[$j,(0,l._)("div",Gj,[(0,l._)("table",{data:d.departments,class:"table table-bordered",id:"departmentTable"},[Bj,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.departments,((e,t)=>((0,l.wg)(),(0,l.iD)("tr",{key:e._id},[(0,l._)("td",null,(0,p.zw)(t+1),1),(0,l._)("td",null,(0,p.zw)(e.department_code),1),(0,l._)("td",null,(0,p.zw)(e.department_name),1),(0,l._)("td",null,(0,p.zw)(e.department_note),1),(0,l._)("td",null,[(0,l._)("a",{onClick:t=>r.editDepartment(e),"data-bs-target":"#update_department","data-bs-toggle":"modal",class:"btn btn-sm btn-outline-info ms-1"},Kj,8,Yj),(0,l._)("a",{onClick:t=>r.deleteDepartment(e._id),class:"btn btn-sm btn-outline-danger ms-1"},Xj,8,Zj)])])))),128))])],8,Wj)])])])])])])])]),(0,l._)("div",eq,[(0,l._)("div",tq,[(0,l._)("div",sq,[aq,(0,l._)("form",{onSubmit:t[5]||(t[5]=(0,a.iM)(((...e)=>r.addDepartment&&r.addDepartment(...e)),["prevent"]))},[(0,l._)("div",lq,[(0,l._)("table",oq,[(0,l._)("tbody",null,[(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",dq,[rq,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>d.storeDepartment.department_code=e),class:(0,p.C_)(["form-control text-body",{"is-invalid":d.addErrors.department_code}]),name:"department_code",type:"text",placeholder:"Nhập mã bộ phận"},null,2),[[a.nr,d.storeDepartment.department_code]]),d.addErrors.department_code?((0,l.wg)(),(0,l.iD)("div",iq,(0,p.zw)(d.addErrors.department_code),1)):(0,l.kq)("",!0)])]),(0,l._)("td",null,[(0,l._)("div",nq,[cq,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>d.storeDepartment.department_name=e),class:(0,p.C_)(["form-control text-body",{"is-invalid":d.addErrors.department_name}]),name:"department_name",type:"text",placeholder:"Nhập tên bộ phận"},null,2),[[a.nr,d.storeDepartment.department_name]]),d.addErrors.department_name?((0,l.wg)(),(0,l.iD)("div",uq,(0,p.zw)(d.addErrors.department_name),1)):(0,l.kq)("",!0)])])]),(0,l._)("tr",null,[(0,l._)("td",_q,[(0,l._)("div",pq,[mq,(0,l.wy)((0,l._)("textarea",{"onUpdate:modelValue":t[2]||(t[2]=e=>d.storeDepartment.department_note=e),class:(0,p.C_)(["form-control text-body",{"is-invalid":d.addErrors.department_note}]),rows:"5",placeholder:"Nhập ghi chú"},null,2),[[a.nr,d.storeDepartment.department_note]]),d.addErrors.department_note?((0,l.wg)(),(0,l.iD)("div",hq,(0,p.zw)(d.addErrors.department_note),1)):(0,l.kq)("",!0)])])])])])]),d.showSuccessMessage?((0,l.wg)(),(0,l.iD)("div",bq,(0,p.zw)(e.successMessage),1)):(0,l.kq)("",!0),(0,l._)("div",gq,[(0,l._)("div",vq,[(0,l.wy)((0,l._)("input",{class:"form-check-input",type:"checkbox",id:"check1",name:"option1",value:"something","onUpdate:modelValue":t[3]||(t[3]=e=>d.dontCloseModal=e)},null,512),[[a.e8,d.dontCloseModal]]),fq]),(0,l._)("div",null,[yq,(0,l._)("button",{class:"btn ripple btn-danger ms-2",onClick:t[4]||(t[4]=e=>r.closeModal("addDepartmentModal","storeDepartment","addErrors")),type:"button"}," Đóng ")])])],32)])])],512),(0,l._)("div",wq,[(0,l._)("div",kq,[(0,l._)("div",xq,[Cq,(0,l._)("form",{onSubmit:t[10]||(t[10]=(0,a.iM)(((...e)=>r.updateDepartment&&r.updateDepartment(...e)),["prevent"]))},[(0,l._)("div",Dq,[(0,l._)("table",Pq,[(0,l._)("tbody",null,[(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",Mq,[Sq,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>d.selectedDepartment.department_code=e),class:(0,p.C_)([{"is-invalid":d.updateErrors.department_code},"form-control text-body"]),type:"text",placeholder:"Nhập mã bộ phận"},null,2),[[a.nr,d.selectedDepartment.department_code]]),d.updateErrors.department_code?((0,l.wg)(),(0,l.iD)("div",Eq,(0,p.zw)(d.updateErrors.department_code),1)):(0,l.kq)("",!0)])]),(0,l._)("td",null,[(0,l._)("div",Tq,[zq,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>d.selectedDepartment.department_name=e),class:(0,p.C_)(["form-control text-body",{"is-invalid":d.updateErrors.department_name}]),type:"text",placeholder:"Nhập tên bộ phận"},null,2),[[a.nr,d.selectedDepartment.department_name]]),d.updateErrors.department_name?((0,l.wg)(),(0,l.iD)("div",Uq,(0,p.zw)(d.updateErrors.department_name),1)):(0,l.kq)("",!0)])])]),(0,l._)("tr",null,[(0,l._)("td",jq,[(0,l._)("div",qq,[Iq,(0,l.wy)((0,l._)("textarea",{"onUpdate:modelValue":t[8]||(t[8]=e=>d.selectedDepartment.department_note=e),class:(0,p.C_)([{"is-invalid":d.updateErrors.department_note},"form-control text-body"]),name:"",rows:"5",placeholder:"Nhập ghi chú"},null,2),[[a.nr,d.selectedDepartment.department_note]]),d.updateErrors.department_note?((0,l.wg)(),(0,l.iD)("div",Lq,(0,p.zw)(d.updateErrors.department_note),1)):(0,l.kq)("",!0)])])])])])]),(0,l._)("div",Nq,[Rq,(0,l._)("button",{class:"btn ripple btn-danger",onClick:t[9]||(t[9]=e=>r.closeModal("updateDepartmentModal","selectedDepartment","updateErrors")),type:"button"}," Đóng ")])],32)])])],512)],64)}var Qq={data(){return{departments:{department_code:"",department_name:"",department_note:""},storeDepartment:{department_code:"",department_name:"",department_note:""},selectedDepartment:[],dontCloseModal:!1,addErrors:[],updateErrors:[],showSuccessMessage:!1}},mounted(){this.getDepartments()},methods:{loadtable(){this.$nextTick((()=>{nt.initializeDataTable("#departmentTable")}))},async getDepartments(){try{const e=await va.getData("deparment/listDepartment");this.departments=e.data.data,this.loadtable()}catch(e){e.response&&403===e.response.status?nt.LoginSession():nt.errorRedirect()}},async addDepartment(){const e={department_code:this.storeDepartment.department_code,department_name:this.storeDepartment.department_name,department_note:this.storeDepartment.department_note||""},t=[{name:"department_code",label:"Mã bộ phận",maxLength:50,nullable:!1},{name:"department_name",label:"Tên bộ phận",maxLength:50,nullable:!1},{name:"department_note",label:"Ghi chú",maxLength:50,nullable:!0}];if(this.addErrors=nt.validateData(e,t),!(Object.keys(this.addErrors).length>0))try{const t=await va.postData("deparment/storeDepartment",e);t.data.error?t.data.error.details.forEach((e=>{const t=e.message,s=e.path[0];this.errors[s]=t})):this.dontCloseModal?(this.getDepartments(),this.storeDepartment={},this.showSuccessMessage=!0,this.successMessage="Thêm thành công",setTimeout((()=>{this.showSuccessMessage=!1}),1e3)):(this.getDepartments(),this.closeModal("addDepartmentModal","storeDepartment","errors"),nt.showSuccessAlert("Thêm thành công"))}catch(s){console.error("Lỗi khi thêm:",s)}},closeModal(e,t,s){const a=this.$refs[e];$(a).modal("hide"),this[t]={},this[s]={}},editDepartment(e){this.selectedDepartment={id:e._id,department_code:e.department_code,department_name:e.department_name,department_note:e.department_note}},async updateDepartment(){const e={department_code:this.selectedDepartment.department_code,department_name:this.selectedDepartment.department_name,department_note:this.selectedDepartment.department_note},t=[{name:"department_code",label:"Mã bộ phận",maxLength:50,nullable:!1},{name:"department_name",label:"Tên bộ phận",maxLength:50,nullable:!1},{name:"department_note",label:"Ghi chú",maxLength:50,nullable:!0}];if(this.updateErrors=nt.validateData(e,t),!(Object.keys(this.updateErrors).length>0))try{const t=await va.putData(`deparment/updateDepartment/${this.selectedDepartment.id}`,e);t.data.error?t.data.error.details.forEach((e=>{const t=e.message,s=e.path[0];this.updateErrors[s]=t})):(nt.showSuccessAlert("Cập nhật thành công"),this.closeModal("updateDepartmentModal","selectedDepartment","updateErrors"),await this.getDepartments())}catch(s){console.error("Lỗi khi cập nhật bộ phận:",s),console.log(s)}},deleteDepartment(e){nt.confirmDelete((()=>{va.deleteData(`deparment/deleteDepartment/${e}`).then((e=>{nt.showSuccessAlert("Xóa thành công"),this.getDepartments()})).catch((e=>{console.error("Lỗi khi xóa khu vực:",e)}))}))}}};const Oq=(0,r.Z)(Qq,[["render",Vq]]);var Aq=Oq;const Jq={class:"main-content side-content pt-0"},$q={class:"main-container container-fluid pt-5"},Gq={class:"inner-body"},Wq=(0,l.uE)('<div class="page-header"><div><h2 class="main-content-title tx-24 mg-b-5">Quản lý khu vực</h2><ol class="breadcrumb"><li class="breadcrumb-item"><a href="#">Trang chủ</a></li><li class="breadcrumb-item active" aria-current="page"> Khu vực </li></ol></div><div class="d-flex"><div class="justify-content-center"><a data-bs-target="#add_region" data-bs-toggle="modal" class="btn btn-primary btn-rounded my-2 text-white"><i class="fe fe-plus"></i> Thêm mới </a></div></div></div>',1),Bq={class:"row row-sm"},Yq={class:"col-lg-12"},Hq={class:"card custom-card"},Kq={class:"card-body"},Zq=(0,l._)("div",null,[(0,l._)("h6",{class:"main-content-label mb-1"},"Danh sách khu vực"),(0,l._)("p",{class:"text-muted card-sub-title"})],-1),Fq={class:"table-responsive"},Xq=["data"],eI=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",null,"STT"),(0,l._)("th",null,"Mã khu vực"),(0,l._)("th",null,"Tên khu vực"),(0,l._)("th",null,"Ghi chú"),(0,l._)("th",null,"Thao tác")])],-1),tI=["onClick"],sI=(0,l._)("i",{class:"fe fe-edit-2"},null,-1),aI=[sI],lI=["onClick"],oI=(0,l._)("i",{class:"fe fe-trash"},null,-1),dI=[oI],rI={class:"modal",id:"add_region",ref:"addRegionModal"},iI={class:"modal-dialog modal-lg",role:"document"},nI={class:"modal-content modal-content-demo"},cI=(0,l._)("div",{class:"modal-header"},[(0,l._)("h6",{class:"modal-title"},"Thêm mới khu vực"),(0,l._)("button",{"aria-label":"Close",class:"btn-close","data-bs-dismiss":"modal",type:"button"})],-1),uI={class:"modal-body"},_I={class:"table"},pI={class:"form-group"},mI=(0,l._)("label",{class:"fw-bold"},"Mã khu vực",-1),hI={key:0,class:"invalid-feedback mt-2"},bI={class:"form-group"},gI=(0,l._)("label",{class:"fw-bold"},"Tên khu vực",-1),vI={key:0,class:"invalid-feedback"},fI={colspan:"2"},yI={class:"form-group"},wI=(0,l._)("label",{class:"fw-bold"},"Ghi chú",-1),kI={class:"invalid-feedback"},xI={key:0,class:"alert alert-success text-center"},CI={class:"modal-footer d-flex justify-content-between"},DI={class:"form-check"},PI=(0,l._)("label",{class:"form-check-label fw-bold"},"Không đóng màn hình",-1),MI=(0,l._)("button",{class:"btn ripple btn-primary",type:"submit"},"Lưu",-1),SI={class:"modal",id:"update_region",ref:"updateRegionModal"},EI={class:"modal-dialog modal-lg",role:"document"},TI={class:"modal-content modal-content-demo"},zI=(0,l._)("div",{class:"modal-header"},[(0,l._)("h6",{class:"modal-title"},"Cập nhật khu vực"),(0,l._)("button",{"aria-label":"Close",class:"btn-close","data-bs-dismiss":"modal",type:"button"})],-1),UI={class:"modal-body"},jI={class:"table"},qI={class:"form-group"},II=(0,l._)("label",{class:"fw-bold"},"Mã khu vực",-1),LI={key:0,class:"invalid-feedback"},NI={class:"form-group"},RI=(0,l._)("label",{class:"fw-bold"},"Tên khu vực",-1),VI={key:0,class:"invalid-feedback"},QI={colspan:"2"},OI={class:"form-group"},AI=(0,l._)("label",{class:"fw-bold"},"Ghi chú",-1),JI={key:0,class:"invalid-feedback"},$I={class:"modal-footer"},GI=(0,l._)("button",{class:"btn ripple btn-primary",type:"submit"},"Lưu",-1);function WI(e,t,s,o,d,r){return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",Jq,[(0,l._)("div",$q,[(0,l._)("div",Gq,[Wq,(0,l._)("div",Bq,[(0,l._)("div",Yq,[(0,l._)("div",Hq,[(0,l._)("div",Kq,[Zq,(0,l._)("div",Fq,[(0,l._)("table",{data:d.regions,class:"table table-bordered",id:"regionTable"},[eI,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.regions,((e,t)=>((0,l.wg)(),(0,l.iD)("tr",{key:e.id},[(0,l._)("td",null,(0,p.zw)(t+1),1),(0,l._)("td",null,(0,p.zw)(e.region_code),1),(0,l._)("td",null,(0,p.zw)(e.region_name),1),(0,l._)("td",null,(0,p.zw)(e.region_note),1),(0,l._)("td",null,[(0,l._)("a",{onClick:t=>r.editRegion(e),"data-bs-target":"#update_region","data-bs-toggle":"modal",class:"btn btn-sm btn-outline-info ms-1"},aI,8,tI),(0,l._)("a",{onClick:t=>r.deleteRegion(e._id),class:"btn btn-sm btn-outline-danger ms-1"},dI,8,lI)])])))),128))])],8,Xq)])])])])])])])]),(0,l._)("div",rI,[(0,l._)("div",iI,[(0,l._)("div",nI,[cI,(0,l._)("form",{onSubmit:t[5]||(t[5]=(0,a.iM)(((...e)=>r.addRegion&&r.addRegion(...e)),["prevent"]))},[(0,l._)("div",uI,[(0,l._)("table",_I,[(0,l._)("tbody",null,[(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",pI,[mI,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>d.storeRegion.region_code=e),class:(0,p.C_)(["form-control text-body",{"is-invalid":d.addErrors.region_code}]),name:"region_code",type:"text",placeholder:"Nhập mã khu vực"},null,2),[[a.nr,d.storeRegion.region_code]]),d.addErrors.region_code?((0,l.wg)(),(0,l.iD)("div",hI,(0,p.zw)(d.addErrors.region_code),1)):(0,l.kq)("",!0)])]),(0,l._)("td",null,[(0,l._)("div",bI,[gI,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>d.storeRegion.region_name=e),class:(0,p.C_)(["form-control text-body",{"is-invalid":d.addErrors.region_name}]),name:"region_name",type:"text",placeholder:"Nhập tên khu vực"},null,2),[[a.nr,d.storeRegion.region_name]]),d.addErrors.region_name?((0,l.wg)(),(0,l.iD)("div",vI,(0,p.zw)(d.addErrors.region_name),1)):(0,l.kq)("",!0)])])]),(0,l._)("tr",null,[(0,l._)("td",fI,[(0,l._)("div",yI,[wI,(0,l.wy)((0,l._)("textarea",{"onUpdate:modelValue":t[2]||(t[2]=e=>d.storeRegion.region_note=e),class:(0,p.C_)(["form-control text-body",{"is-invalid":d.addErrors.region_note}]),rows:"5",placeholder:"Nhập ghi chú"},null,2),[[a.nr,d.storeRegion.region_note]]),(0,l._)("div",kI,(0,p.zw)(d.addErrors.region_note),1)])])])])])]),d.showSuccessMessage?((0,l.wg)(),(0,l.iD)("div",xI,(0,p.zw)(d.successMessage),1)):(0,l.kq)("",!0),(0,l._)("div",CI,[(0,l._)("div",DI,[(0,l.wy)((0,l._)("input",{class:"form-check-input",type:"checkbox",id:"check1",name:"option1",value:"something","onUpdate:modelValue":t[3]||(t[3]=e=>d.dontCloseModal=e)},null,512),[[a.e8,d.dontCloseModal]]),PI]),(0,l._)("div",null,[MI,(0,l._)("button",{class:"btn ripple btn-danger ms-2",onClick:t[4]||(t[4]=e=>r.closeModal("addRegionModal","storeRegion","addErrors")),type:"button"}," Đóng ")])])],32)])])],512),(0,l._)("div",SI,[(0,l._)("div",EI,[(0,l._)("div",TI,[zI,(0,l._)("form",{onSubmit:t[10]||(t[10]=(0,a.iM)(((...e)=>r.updateRegion&&r.updateRegion(...e)),["prevent"]))},[(0,l._)("div",UI,[(0,l._)("table",jI,[(0,l._)("tbody",null,[(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",qI,[II,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>d.selectedRegion.region_code=e),class:(0,p.C_)([{"is-invalid":d.updateErrors.region_code},"form-control text-body"]),type:"text",placeholder:"Nhập mã khu vực"},null,2),[[a.nr,d.selectedRegion.region_code]]),d.updateErrors.region_code?((0,l.wg)(),(0,l.iD)("div",LI,(0,p.zw)(d.updateErrors.region_code),1)):(0,l.kq)("",!0)])]),(0,l._)("td",null,[(0,l._)("div",NI,[RI,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>d.selectedRegion.region_name=e),class:(0,p.C_)(["form-control text-body",{"is-invalid":d.updateErrors.region_name}]),type:"text",placeholder:"Nhập tên khu vực"},null,2),[[a.nr,d.selectedRegion.region_name]]),d.updateErrors.region_name?((0,l.wg)(),(0,l.iD)("div",VI,(0,p.zw)(d.updateErrors.region_name),1)):(0,l.kq)("",!0)])])]),(0,l._)("tr",null,[(0,l._)("td",QI,[(0,l._)("div",OI,[AI,(0,l.wy)((0,l._)("textarea",{"onUpdate:modelValue":t[8]||(t[8]=e=>d.selectedRegion.region_note=e),class:(0,p.C_)([{"is-invalid":d.updateErrors.region_note},"form-control text-body"]),name:"",rows:"5",placeholder:"Nhập ghi chú"},null,2),[[a.nr,d.selectedRegion.region_note]]),d.updateErrors.region_note?((0,l.wg)(),(0,l.iD)("div",JI,(0,p.zw)(d.updateErrors.region_note),1)):(0,l.kq)("",!0)])])])])])]),(0,l._)("div",$I,[GI,(0,l._)("button",{class:"btn ripple btn-danger",onClick:t[9]||(t[9]=e=>r.closeModal("updateRegionModal","selectedRegion","updateErrors")),type:"button"}," Đóng ")])],32)])])],512)],64)}var BI={name:"ListRegion",data(){return{regions:[],storeRegion:{region_code:"",region_name:"",region_note:""},selectedRegion:[],dontCloseModal:!1,addErrors:[],updateErrors:[],showSuccessMessage:!1,successMessage:""}},mounted(){this.getRegions()},methods:{loadtable(){this.$nextTick((()=>{nt.initializeDataTable("#regionTable")}))},getRegions(){va.getData("region/listRegion").then((e=>{this.regions=e.data.data,this.loadtable()})).catch((e=>{nt.errorRedirect()}))},addRegion(){const e={region_code:this.storeRegion.region_code,region_name:this.storeRegion.region_name,region_note:this.storeRegion.region_note?this.storeRegion.region_note:""},t=[{name:"region_code",label:"Mã khu vực",maxLength:50,nullable:!1},{name:"region_name",label:"Tên khu vực",maxLength:50,nullable:!1},{name:"region_note",label:"Ghi chú",maxLength:50,nullable:!0}];this.addErrors=nt.validateData(e,t),0===Object.keys(this.addErrors).length&&va.postData("region/storeRegion",e).then((e=>{e.data.error?e.data.error.details.forEach((e=>{const t=e.message,s=e.path[0];this.errors[s]=[],this.errors[s]=t})):this.dontCloseModal?(this.getRegions(),this.storeRegion={},this.showSuccessMessage=!0,this.successMessage="Thêm thành công",setTimeout((()=>{this.showSuccessMessage=!1}),1e3)):(this.getRegions(),this.closeModal("addRegionModal","storeRegion","errors"),nt.showSuccessAlert("Thêm thành công"))})).catch((e=>{console.error("Lỗi khi thêm khu vực:",e)}))},deleteRegion(e){nt.confirmDelete((()=>{va.deleteData(`region/deleteRegion/?id=${e}`).then((e=>{nt.showSuccessAlert("Xóa thành công"),this.getRegions()})).catch((e=>{console.error("Lỗi khi xóa khu vực:",e)}))}))},closeModal(e,t,s){const a=this.$refs[e];$(a).modal("hide"),this[t]={},this[s]={}},editRegion(e){this.selectedRegion.id=e._id,this.selectedRegion.region_code=e.region_code,this.selectedRegion.region_name=e.region_name,this.selectedRegion.region_note=e.region_note},updateRegion(){const e={region_code:this.selectedRegion.region_code,region_name:this.selectedRegion.region_name,region_note:this.selectedRegion.region_note},t=[{name:"region_code",label:"Mã khu vực",maxLength:50,nullable:!1},{name:"region_name",label:"Tên khu vực",maxLength:50,nullable:!1},{name:"region_note",label:"Ghi chú",maxLength:50,nullable:!0}];this.updateErrors=nt.validateData(e,t),0===Object.keys(this.updateErrors).length&&va.putData(`region/updateRegion/${this.selectedRegion.id}`,e).then((e=>{e.data.error?e.data.error.details.forEach((e=>{const t=e.message,s=e.path[0];this.updateErrors[s]=[],this.updateErrors[s]=t})):(nt.showSuccessAlert("Cập nhật thành công"),this.closeModal("updateRegionModal","selectedRegion","updateErrors"),this.getRegions())})).catch((e=>{console.error("Lỗi khi cập nhật khu vực:",e)}))}}};const YI=(0,r.Z)(BI,[["render",WI]]);var HI=YI;const KI={class:"main-content side-content pt-0"},ZI={class:"main-container container-fluid pt-5"},FI={class:"inner-body"},XI=(0,l.uE)('<div class="page-header"><div><h2 class="main-content-title tx-24 mg-b-5">Quản lý loại sản phẩm</h2><ol class="breadcrumb"><li class="breadcrumb-item"><a href="#">Trang chủ</a></li><li class="breadcrumb-item active" aria-current="page"> loại sản phẩm </li></ol></div><div class="d-flex"><div class="justify-content-center"><a data-bs-target="#add_product_type" data-bs-toggle="modal" class="btn btn-primary btn-rounded my-2 text-white"><i class="fe fe-plus"></i> Thêm mới </a></div></div></div>',1),eL={class:"row row-sm"},tL={class:"col-lg-12"},sL={class:"card custom-card"},aL={class:"card-body"},lL=(0,l._)("div",null,[(0,l._)("h6",{class:"main-content-label mb-1"},"Danh sách loại sản phẩm"),(0,l._)("p",{class:"text-muted card-sub-title"})],-1),oL={class:"table-responsive"},dL=["data"],rL=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{class:"wd-20p"},"STT"),(0,l._)("th",{class:"wd-25p"},"Mã loại sản phẩm"),(0,l._)("th",{class:"wd-25p"},"Mô tả"),(0,l._)("th",{class:"wd-25p"},"Ghi chú"),(0,l._)("th",{class:"wd-15p"},"Thao tác")])],-1),iL=["onClick"],nL=(0,l._)("i",{class:"fe fe-edit-2"},null,-1),cL=[nL],uL=["onClick"],_L=(0,l._)("i",{class:"fe fe-trash"},null,-1),pL=[_L],mL={class:"modal",id:"add_product_type",ref:"addProTypeModal"},hL={class:"modal-dialog modal-lg",role:"document"},bL={class:"modal-content modal-content-demo"},gL=(0,l._)("div",{class:"modal-header"},[(0,l._)("h6",{class:"modal-title"},"Thêm mới loại sản phẩm"),(0,l._)("button",{"aria-label":"Close",class:"btn-close","data-bs-dismiss":"modal",type:"button"})],-1),vL={class:"modal-body"},fL={class:"table"},yL={class:"form-group"},wL=(0,l._)("label",{class:"fw-bold"},"Mã loại sản phẩm",-1),kL={key:0,class:"invalid-feedback mt-2"},xL={class:"form-group"},CL=(0,l._)("label",{class:"fw-bold"},"Tên loại sản phẩm",-1),DL={key:0,class:"invalid-feedback"},PL={colspan:"2"},ML={class:"form-group"},SL=(0,l._)("label",{class:"fw-bold"},"Ghi chú",-1),EL={class:"invalid-feedback"},TL={key:0,class:"alert alert-success text-center"},zL={class:"modal-footer d-flex justify-content-between"},UL={class:"form-check"},jL=(0,l._)("label",{class:"form-check-label fw-bold"},"Không đóng màn hình",-1),qL=(0,l._)("button",{class:"btn ripple btn-primary",type:"submit"},"Lưu",-1),IL={class:"modal",id:"update_product_type",ref:"updateProType"},LL={class:"modal-dialog modal-lg",role:"document"},NL={class:"modal-content modal-content-demo"},RL=(0,l._)("div",{class:"modal-header"},[(0,l._)("h6",{class:"modal-title"},"Cập nhật loại sản phẩm"),(0,l._)("button",{"aria-label":"Close",class:"btn-close","data-bs-dismiss":"modal",type:"button"})],-1),VL={class:"modal-body"},QL={class:"table"},OL={class:"form-group"},AL=(0,l._)("label",{class:"fw-bold"},"Mã loại sản phẩm",-1),JL={key:0,class:"invalid-feedback"},$L={class:"form-group"},GL=(0,l._)("label",{class:"fw-bold"},"Tên loại sản phẩm",-1),WL={key:0,class:"invalid-feedback"},BL={colspan:"2"},YL={class:"form-group"},HL=(0,l._)("label",{class:"fw-bold"},"Ghi chú",-1),KL={key:0,class:"invalid-feedback"},ZL={class:"modal-footer"},FL=(0,l._)("button",{class:"btn ripple btn-primary",type:"submit"},"Lưu",-1);function XL(e,t,s,o,d,r){return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",KI,[(0,l._)("div",ZI,[(0,l._)("div",FI,[XI,(0,l._)("div",eL,[(0,l._)("div",tL,[(0,l._)("div",sL,[(0,l._)("div",aL,[lL,(0,l._)("div",oL,[(0,l._)("table",{data:d.product_types,class:"table table-bordered",id:"productTypeTable"},[rL,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.product_types,((e,t)=>((0,l.wg)(),(0,l.iD)("tr",{key:e.id},[(0,l._)("td",null,(0,p.zw)(t+1),1),(0,l._)("td",null,(0,p.zw)(e.product_type_code),1),(0,l._)("td",null,(0,p.zw)(e.product_type_name),1),(0,l._)("td",null,(0,p.zw)(e.product_type_note),1),(0,l._)("td",null,[(0,l._)("a",{onClick:t=>r.editProductType(e),"data-bs-target":"#update_product_type","data-bs-toggle":"modal",class:"btn btn-sm btn-outline-info ms-1"},cL,8,iL),(0,l._)("a",{onClick:t=>r.deleteProductType(e._id),class:"btn btn-sm btn-outline-danger ms-1"},pL,8,uL)])])))),128))])],8,dL)])])])])])])])]),(0,l._)("div",mL,[(0,l._)("div",hL,[(0,l._)("div",bL,[gL,(0,l._)("form",{onSubmit:t[5]||(t[5]=(0,a.iM)(((...e)=>r.addProType&&r.addProType(...e)),["prevent"]))},[(0,l._)("div",vL,[(0,l._)("table",fL,[(0,l._)("tbody",null,[(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",yL,[wL,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>d.storeProType.product_type_code=e),class:(0,p.C_)(["form-control text-body",{"is-invalid":d.addErrors.product_type_code}]),name:"product_type_code",type:"text",placeholder:"Nhập mã loại sản phẩm"},null,2),[[a.nr,d.storeProType.product_type_code]]),d.addErrors.product_type_code?((0,l.wg)(),(0,l.iD)("div",kL,(0,p.zw)(d.addErrors.product_type_code),1)):(0,l.kq)("",!0)])]),(0,l._)("td",null,[(0,l._)("div",xL,[CL,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>d.storeProType.product_type_name=e),class:(0,p.C_)(["form-control text-body",{"is-invalid":d.addErrors.product_type_name}]),name:"product_type_name",type:"text",placeholder:"Nhập tên loại sản phẩm"},null,2),[[a.nr,d.storeProType.product_type_name]]),d.addErrors.product_type_name?((0,l.wg)(),(0,l.iD)("div",DL,(0,p.zw)(d.addErrors.product_type_name),1)):(0,l.kq)("",!0)])])]),(0,l._)("tr",null,[(0,l._)("td",PL,[(0,l._)("div",ML,[SL,(0,l.wy)((0,l._)("textarea",{"onUpdate:modelValue":t[2]||(t[2]=e=>d.storeProType.product_type_note=e),class:(0,p.C_)(["form-control text-body",{"is-invalid":d.addErrors.product_type_note}]),rows:"5",placeholder:"Nhập ghi chú"},null,2),[[a.nr,d.storeProType.product_type_note]]),(0,l._)("div",EL,(0,p.zw)(d.addErrors.product_type_note),1)])])])])])]),d.showSuccessMessage?((0,l.wg)(),(0,l.iD)("div",TL,(0,p.zw)(d.successMessage),1)):(0,l.kq)("",!0),(0,l._)("div",zL,[(0,l._)("div",UL,[(0,l.wy)((0,l._)("input",{class:"form-check-input",type:"checkbox",id:"check1",name:"option1",value:"something","onUpdate:modelValue":t[3]||(t[3]=e=>d.dontCloseModal=e)},null,512),[[a.e8,d.dontCloseModal]]),jL]),(0,l._)("div",null,[qL,(0,l._)("button",{class:"btn ripple btn-danger ms-2",onClick:t[4]||(t[4]=e=>r.closeModal("addProTypeModal","storeProType","addErrors")),type:"button"}," Đóng ")])])],32)])])],512),(0,l._)("div",IL,[(0,l._)("div",LL,[(0,l._)("div",NL,[RL,(0,l._)("form",{onSubmit:t[10]||(t[10]=(0,a.iM)(((...e)=>r.updateProType&&r.updateProType(...e)),["prevent"]))},[(0,l._)("div",VL,[(0,l._)("table",QL,[(0,l._)("tbody",null,[(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",OL,[AL,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>d.selectedProType.product_type_code=e),class:(0,p.C_)([{"is-invalid":d.updateErrors.product_type_code},"form-control text-body"]),type:"text",placeholder:"Nhập mã loại sản phẩm"},null,2),[[a.nr,d.selectedProType.product_type_code]]),d.updateErrors.product_type_code?((0,l.wg)(),(0,l.iD)("div",JL,(0,p.zw)(d.updateErrors.product_type_code),1)):(0,l.kq)("",!0)])]),(0,l._)("td",null,[(0,l._)("div",$L,[GL,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>d.selectedProType.product_type_name=e),class:(0,p.C_)(["form-control text-body",{"is-invalid":d.updateErrors.product_type_name}]),type:"text",placeholder:"Nhập tên loại sản phẩm"},null,2),[[a.nr,d.selectedProType.product_type_name]]),d.updateErrors.product_type_name?((0,l.wg)(),(0,l.iD)("div",WL,(0,p.zw)(d.updateErrors.product_type_name),1)):(0,l.kq)("",!0)])])]),(0,l._)("tr",null,[(0,l._)("td",BL,[(0,l._)("div",YL,[HL,(0,l.wy)((0,l._)("textarea",{"onUpdate:modelValue":t[8]||(t[8]=e=>d.selectedProType.product_type_note=e),class:(0,p.C_)([{"is-invalid":d.updateErrors.product_type_note},"form-control text-body"]),name:"",rows:"5",placeholder:"Nhập ghi chú"},null,2),[[a.nr,d.selectedProType.product_type_note]]),d.updateErrors.product_type_note?((0,l.wg)(),(0,l.iD)("div",KL,(0,p.zw)(d.updateErrors.product_type_note),1)):(0,l.kq)("",!0)])])])])])]),(0,l._)("div",ZL,[FL,(0,l._)("button",{class:"btn ripple btn-danger",onClick:t[9]||(t[9]=e=>r.closeModal("updateProType","selectedProType","updateErrors")),type:"button"}," Đóng ")])],32)])])],512)],64)}var eN={data(){return{product_types:{product_type_code:"",product_type_name:"",product_type_note:""},storeProType:{product_type_code:"",product_type_name:"",product_type_note:""},selectedProType:[],dontCloseModal:!1,addErrors:[],updateErrors:[],showSuccessMessage:!1,successMessage:""}},mounted(){this.getproduct_types()},methods:{loadtable(){this.$nextTick((()=>{nt.initializeDataTable("#productTypeTable")}))},getproduct_types(){va.getData("product-type/listProductType").then((e=>{this.product_types=e.data.data,this.loadtable()})).catch((e=>{nt.errorRedirect()}))},addProType(){const e={product_type_code:this.storeProType.product_type_code,product_type_name:this.storeProType.product_type_name,product_type_note:this.storeProType.product_type_note?this.storeProType.product_type_note:""},t=[{name:"product_type_code",label:"Mã loại sản phẩm",maxLength:50,nullable:!1},{name:"product_type_name",label:"Tên loại sản phẩm",maxLength:50,nullable:!1},{name:"product_type_note",label:"Ghi chú",maxLength:50,nullable:!0}];this.addErrors=nt.validateData(e,t),0===Object.keys(this.addErrors).length&&va.postData("product-type/storeProductType",e).then((e=>{e.data.error?e.data.error.details.forEach((e=>{const t=e.message,s=e.path[0];this.errors[s]=[],this.errors[s]=t})):this.dontCloseModal?(this.getproduct_types(),this.storeProType={},this.showSuccessMessage=!0,this.successMessage="Thêm thành công",setTimeout((()=>{this.showSuccessMessage=!1}),1e3)):(this.getproduct_types(),this.closeModal("addProTypeModal","storeProType","errors"),nt.showSuccessAlert("Thêm thành công"))})).catch((e=>{console.error("Lỗi khi thêm loại sản phẩm:",e)}))},deleteProductType(e){nt.confirmDelete((()=>{va.deleteData(`product-type/deleteProductType/?id=${e}`).then((e=>{nt.showSuccessAlert("Xóa thành công"),this.getproduct_types()})).catch((e=>{console.error("Lỗi khi xóa loại sản phẩm:",e)}))}))},closeModal(e,t,s){const a=this.$refs[e];$(a).modal("hide"),this[t]={},this[s]={}},editProductType(e){this.selectedProType.id=e._id,this.selectedProType.product_type_code=e.product_type_code,this.selectedProType.product_type_name=e.product_type_name,this.selectedProType.product_type_note=e.product_type_note},updateProType(){const e={product_type_code:this.selectedProType.product_type_code,product_type_name:this.selectedProType.product_type_name,product_type_note:this.selectedProType.product_type_note},t=[{name:"product_type_code",label:"Mã loại sản phẩm",maxLength:50,nullable:!1},{name:"product_type_name",label:"Tên loại sản phẩm",maxLength:50,nullable:!1},{name:"product_type_note",label:"Ghi chú",maxLength:50,nullable:!0}];this.updateErrors=nt.validateData(e,t),0===Object.keys(this.updateErrors).length&&va.putData(`product-type/updateProductType/${this.selectedProType.id}`,e).then((e=>{e.data.error?e.data.error.details.forEach((e=>{const t=e.message,s=e.path[0];this.updateErrors[s]=[],this.updateErrors[s]=t})):(nt.showSuccessAlert("Cập nhật thành công"),this.closeModal("updateProType","selectedProType","updateErrors"),this.getproduct_types())})).catch((e=>{console.error("Lỗi khi cập nhật loại sản phẩm:",e)}))}}};const tN=(0,r.Z)(eN,[["render",XL]]);var sN=tN;const aN={class:"main-content side-content pt-0"},lN={class:"main-container container-fluid pt-5"},oN={class:"inner-body"},dN=(0,l.uE)('<div class="page-header"><div><h2 class="main-content-title tx-24 mg-b-5">Quản lý nhóm sản phẩm</h2><ol class="breadcrumb"><li class="breadcrumb-item"><a href="#">Trang chủ</a></li><li class="breadcrumb-item active" aria-current="page"> nhóm sản phẩm </li></ol></div><div class="d-flex"><div class="justify-content-center"><a data-bs-target="#add_product_group" data-bs-toggle="modal" class="btn btn-primary btn-rounded my-2 text-white"><i class="fe fe-plus"></i> Thêm mới </a></div></div></div>',1),rN={class:"row row-sm"},iN={class:"col-lg-12"},nN={class:"card custom-card"},cN={class:"card-body"},uN=(0,l._)("div",null,[(0,l._)("h6",{class:"main-content-label mb-1"},"Danh sách nhóm sản phẩm"),(0,l._)("p",{class:"text-muted card-sub-title"})],-1),_N={class:"table-responsive"},pN=["data"],mN=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{class:"wd-20p"},"STT"),(0,l._)("th",{class:"wd-25p"},"Mã nhóm sản phẩm"),(0,l._)("th",{class:"wd-25p"},"Tên nhóm sản phẩm"),(0,l._)("th",{class:"wd-25p"},"Ghi chú"),(0,l._)("th",{class:"wd-15p no-print no-excel"},"Thao tác")])],-1),hN=["onClick"],bN=(0,l._)("i",{class:"fe fe-edit-2"},null,-1),gN=[bN],vN=["onClick"],fN=(0,l._)("i",{class:"fe fe-trash"},null,-1),yN=[fN],wN={class:"modal",id:"add_product_group",ref:"addProGroupModal"},kN={class:"modal-dialog modal-lg",role:"document"},xN={class:"modal-content modal-content-demo"},CN=(0,l._)("div",{class:"modal-header"},[(0,l._)("h6",{class:"modal-title"},"Thêm mới nhóm sản phẩm"),(0,l._)("button",{"aria-label":"Close",class:"btn-close","data-bs-dismiss":"modal",type:"button"})],-1),DN={class:"modal-body"},PN={class:"table"},MN={class:"form-group"},SN=(0,l._)("label",{class:"fw-bold"},"Mã nhóm sản phẩm",-1),EN={key:0,class:"invalid-feedback mt-2"},TN={class:"form-group"},zN=(0,l._)("label",{class:"fw-bold"},"Tên nhóm sản phẩm",-1),UN={key:0,class:"invalid-feedback"},jN={colspan:"2"},qN={class:"form-group"},IN=(0,l._)("label",{class:"fw-bold"},"Ghi chú",-1),LN={class:"invalid-feedback"},NN={key:0,class:"alert alert-success text-center"},RN={class:"modal-footer d-flex justify-content-between"},VN={class:"form-check"},QN=(0,l._)("label",{class:"form-check-label fw-bold"},"Không đóng màn hình",-1),ON=(0,l._)("button",{class:"btn ripple btn-primary",type:"submit"},"Lưu",-1),AN={class:"modal",id:"update_product_group",ref:"updateProGroup"},JN={class:"modal-dialog modal-lg",role:"document"},$N={class:"modal-content modal-content-demo"},GN=(0,l._)("div",{class:"modal-header"},[(0,l._)("h6",{class:"modal-title"},"Cập nhật nhóm sản phẩm"),(0,l._)("button",{"aria-label":"Close",class:"btn-close","data-bs-dismiss":"modal",type:"button"})],-1),WN={class:"modal-body"},BN={class:"table"},YN={class:"form-group"},HN=(0,l._)("label",{class:"fw-bold"},"Mã nhóm sản phẩm",-1),KN={key:0,class:"invalid-feedback"},ZN={class:"form-group"},FN=(0,l._)("label",{class:"fw-bold"},"Tên nhóm sản phẩm",-1),XN={key:0,class:"invalid-feedback"},eR={colspan:"2"},tR={class:"form-group"},sR=(0,l._)("label",{class:"fw-bold"},"Ghi chú",-1),aR={key:0,class:"invalid-feedback"},lR={class:"modal-footer"},oR=(0,l._)("button",{class:"btn ripple btn-primary",type:"submit"},"Lưu",-1);function dR(e,t,s,o,d,r){return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",aN,[(0,l._)("div",lN,[(0,l._)("div",oN,[dN,(0,l._)("div",rN,[(0,l._)("div",iN,[(0,l._)("div",nN,[(0,l._)("div",cN,[uN,(0,l._)("div",_N,[(0,l._)("table",{data:d.product_groups,class:"table table-bordered",id:"productGroupTable"},[mN,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.product_groups,((e,t)=>((0,l.wg)(),(0,l.iD)("tr",{key:e._id},[(0,l._)("td",null,(0,p.zw)(t+1),1),(0,l._)("td",null,(0,p.zw)(e.product_group_code),1),(0,l._)("td",null,(0,p.zw)(e.product_group_name),1),(0,l._)("td",null,(0,p.zw)(e.product_group_note),1),(0,l._)("td",null,[(0,l._)("a",{onClick:t=>r.editProductGroup(e),"data-bs-target":"#update_product_group","data-bs-toggle":"modal",class:"btn btn-sm btn-outline-info ms-1"},gN,8,hN),(0,l._)("a",{onClick:t=>r.deleteProductGroup(e._id),class:"btn btn-sm btn-outline-danger ms-1"},yN,8,vN)])])))),128))])],8,pN)])])])])])])])]),(0,l._)("div",wN,[(0,l._)("div",kN,[(0,l._)("div",xN,[CN,(0,l._)("form",{onSubmit:t[5]||(t[5]=(0,a.iM)(((...e)=>r.addProGroup&&r.addProGroup(...e)),["prevent"]))},[(0,l._)("div",DN,[(0,l._)("table",PN,[(0,l._)("tbody",null,[(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",MN,[SN,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>d.storeProGroup.product_group_code=e),class:(0,p.C_)(["form-control text-body",{"is-invalid":d.addErrors.product_group_code}]),name:"product_group_code",type:"text",placeholder:"Nhập mã nhóm sản phẩm"},null,2),[[a.nr,d.storeProGroup.product_group_code]]),d.addErrors.product_group_code?((0,l.wg)(),(0,l.iD)("div",EN,(0,p.zw)(d.addErrors.product_group_code),1)):(0,l.kq)("",!0)])]),(0,l._)("td",null,[(0,l._)("div",TN,[zN,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>d.storeProGroup.product_group_name=e),class:(0,p.C_)(["form-control text-body",{"is-invalid":d.addErrors.product_group_name}]),name:"product_group_name",type:"text",placeholder:"Nhập tên nhóm sản phẩm"},null,2),[[a.nr,d.storeProGroup.product_group_name]]),d.addErrors.product_group_name?((0,l.wg)(),(0,l.iD)("div",UN,(0,p.zw)(d.addErrors.product_group_name),1)):(0,l.kq)("",!0)])])]),(0,l._)("tr",null,[(0,l._)("td",jN,[(0,l._)("div",qN,[IN,(0,l.wy)((0,l._)("textarea",{"onUpdate:modelValue":t[2]||(t[2]=e=>d.storeProGroup.product_group_note=e),class:(0,p.C_)(["form-control text-body",{"is-invalid":d.addErrors.product_group_note}]),rows:"5",placeholder:"Nhập ghi chú"},null,2),[[a.nr,d.storeProGroup.product_group_note]]),(0,l._)("div",LN,(0,p.zw)(d.addErrors.product_group_note),1)])])])])])]),d.showSuccessMessage?((0,l.wg)(),(0,l.iD)("div",NN,(0,p.zw)(d.successMessage),1)):(0,l.kq)("",!0),(0,l._)("div",RN,[(0,l._)("div",VN,[(0,l.wy)((0,l._)("input",{class:"form-check-input",type:"checkbox",id:"check1",name:"option1",value:"something","onUpdate:modelValue":t[3]||(t[3]=e=>d.dontCloseModal=e)},null,512),[[a.e8,d.dontCloseModal]]),QN]),(0,l._)("div",null,[ON,(0,l._)("button",{class:"btn ripple btn-danger ms-2",onClick:t[4]||(t[4]=e=>r.closeModal("addProGroupModal","storeProGroup","addErrors")),type:"button"}," Đóng ")])])],32)])])],512),(0,l._)("div",AN,[(0,l._)("div",JN,[(0,l._)("div",$N,[GN,(0,l._)("form",{onSubmit:t[10]||(t[10]=(0,a.iM)(((...e)=>r.updateProGroup&&r.updateProGroup(...e)),["prevent"]))},[(0,l._)("div",WN,[(0,l._)("table",BN,[(0,l._)("tbody",null,[(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",YN,[HN,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>d.selectedProGroup.product_group_code=e),class:(0,p.C_)([{"is-invalid":d.updateErrors.product_group_code},"form-control text-body"]),type:"text",placeholder:"Nhập mã nhóm sản phẩm"},null,2),[[a.nr,d.selectedProGroup.product_group_code]]),d.updateErrors.product_group_code?((0,l.wg)(),(0,l.iD)("div",KN,(0,p.zw)(d.updateErrors.product_group_code),1)):(0,l.kq)("",!0)])]),(0,l._)("td",null,[(0,l._)("div",ZN,[FN,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>d.selectedProGroup.product_group_name=e),class:(0,p.C_)(["form-control text-body",{"is-invalid":d.updateErrors.product_group_name}]),type:"text",placeholder:"Nhập tên nhóm sản phẩm"},null,2),[[a.nr,d.selectedProGroup.product_group_name]]),d.updateErrors.product_group_name?((0,l.wg)(),(0,l.iD)("div",XN,(0,p.zw)(d.updateErrors.product_group_name),1)):(0,l.kq)("",!0)])])]),(0,l._)("tr",null,[(0,l._)("td",eR,[(0,l._)("div",tR,[sR,(0,l.wy)((0,l._)("textarea",{"onUpdate:modelValue":t[8]||(t[8]=e=>d.selectedProGroup.product_group_note=e),class:(0,p.C_)([{"is-invalid":d.updateErrors.product_group_note},"form-control text-body"]),name:"",rows:"5",placeholder:"Nhập ghi chú"},null,2),[[a.nr,d.selectedProGroup.product_group_note]]),d.updateErrors.product_group_note?((0,l.wg)(),(0,l.iD)("div",aR,(0,p.zw)(d.updateErrors.product_group_note),1)):(0,l.kq)("",!0)])])])])])]),(0,l._)("div",lR,[oR,(0,l._)("button",{class:"btn ripple btn-danger",onClick:t[9]||(t[9]=e=>r.closeModal("updateProGroup","selectedProGroup","updateErrors")),type:"button"}," Đóng ")])],32)])])],512)],64)}var rR={data(){return{product_groups:{product_group_code:"",product_group_name:"",product_group_note:""},storeProGroup:{product_group_code:"",product_group_name:"",product_group_note:""},selectedProGroup:[],dontCloseModal:!1,addErrors:[],updateErrors:[],showSuccessMessage:!1,successMessage:""}},mounted(){this.getproduct_groups()},methods:{loadtable(){this.$nextTick((()=>{nt.initializeDataTable("#productGroupTable")}))},getproduct_groups(){va.getData("product-group/listProductGroup").then((e=>{this.product_groups=e.data.data,this.loadtable()})).catch((e=>{nt.errorRedirect()}))},addProGroup(){const e={product_group_code:this.storeProGroup.product_group_code,product_group_name:this.storeProGroup.product_group_name,product_group_note:this.storeProGroup.product_group_note?this.storeProGroup.product_group_note:""},t=[{name:"product_group_code",label:"Mã nhóm sản phẩm",maxLength:50,nullable:!1},{name:"product_group_name",label:"Tên nhóm sản phẩm",maxLength:100,nullable:!1},{name:"product_group_note",label:"Ghi chú",maxLength:50,nullable:!0}];this.addErrors=nt.validateData(e,t),0===Object.keys(this.addErrors).length&&va.postData("product-group/storeProductGroup",e).then((e=>{e.data.error?e.data.error.details.forEach((e=>{const t=e.message,s=e.path[0];this.errors[s]=[],this.errors[s]=t})):this.dontCloseModal?(this.getproduct_groups(),this.storeProGroup={},this.showSuccessMessage=!0,this.successMessage="Thêm thành công",setTimeout((()=>{this.showSuccessMessage=!1}),1e3)):(this.getproduct_groups(),this.closeModal("addProGroupModal","storeProGroup","errors"),nt.showSuccessAlert("Thêm thành công"))})).catch((e=>{console.error("Lỗi khi thêm nhóm sản phẩm:",e)}))},deleteProductGroup(e){nt.confirmDelete((()=>{va.deleteData(`product-group/deleteProductGroup/?id=${e}`).then((e=>{nt.showSuccessAlert("Xóa thành công"),this.getproduct_groups()})).catch((e=>{console.error("Lỗi khi xóa nhóm sản phẩm:",e)}))}))},closeModal(e,t,s){const a=this.$refs[e];$(a).modal("hide"),this[t]={},this[s]={}},editProductGroup(e){this.selectedProGroup.id=e._id,this.selectedProGroup.product_group_code=e.product_group_code,this.selectedProGroup.product_group_name=e.product_group_name,this.selectedProGroup.product_group_note=e.product_group_note},updateProGroup(){const e={product_group_code:this.selectedProGroup.product_group_code,product_group_name:this.selectedProGroup.product_group_name,product_group_note:this.selectedProGroup.product_group_note},t=[{name:"product_group_code",label:"Mã nhóm sản phẩm",maxLength:50,nullable:!1},{name:"product_group_name",label:"Tên nhóm sản phẩm",maxLength:50,nullable:!1},{name:"product_group_note",label:"Ghi chú",maxLength:50,nullable:!0}];this.updateErrors=nt.validateData(e,t),0===Object.keys(this.updateErrors).length&&va.putData(`product-group/updateProductGroup/${this.selectedProGroup.id}`,e).then((e=>{e.data.error?e.data.error.details.forEach((e=>{const t=e.message,s=e.path[0];this.updateErrors[s]=[],this.updateErrors[s]=t})):(nt.showSuccessAlert("Cập nhật thành công"),this.closeModal("updateProGroup","selectedProGroup","updateErrors"),this.getproduct_groups())})).catch((e=>{console.error("Lỗi khi cập nhật nhóm sản phẩm:",e)}))}}};const iR=(0,r.Z)(rR,[["render",dR]]);var nR=iR;const cR={class:"main-content side-content pt-0"},uR={class:"main-container container-fluid pt-5"},_R={class:"inner-body"},pR=(0,l.uE)('<div class="page-header"><div><h2 class="main-content-title tx-24 mg-b-5">Quản lý dòng sản phẩm</h2><ol class="breadcrumb"><li class="breadcrumb-item"><a href="#">Trang chủ</a></li><li class="breadcrumb-item active" aria-current="page"> Dòng sản phẩm </li></ol></div><div class="d-flex"><div class="justify-content-center"><a data-bs-target="#add_product_series" data-bs-toggle="modal" class="btn btn-primary btn-rounded my-2 text-white"><i class="fe fe-plus"></i> Thêm mới </a></div></div></div>',1),mR={class:"row row-sm"},hR={class:"col-lg-12"},bR={class:"card custom-card"},gR={class:"card-body"},vR=(0,l._)("div",null,[(0,l._)("h6",{class:"main-content-label mb-1"},"Danh sách dòng sản phẩm"),(0,l._)("p",{class:"text-muted card-sub-title"})],-1),fR={class:"table-responsive"},yR=["data"],wR=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{class:"wd-20p"},"STT"),(0,l._)("th",{class:"wd-25p"},"Mã dòng sản phẩm"),(0,l._)("th",{class:"wd-25p"},"Tên dòng sản phẩm"),(0,l._)("th",{class:"wd-25p"},"Ghi chú"),(0,l._)("th",{class:"wd-15p no-print no-excel"},"Thao tác")])],-1),kR=["onClick"],xR=(0,l._)("i",{class:"fe fe-edit-2"},null,-1),CR=[xR],DR=["onClick"],PR=(0,l._)("i",{class:"fe fe-trash"},null,-1),MR=[PR],SR={class:"modal",id:"add_product_series",ref:"addProSeriesModal"},ER={class:"modal-dialog modal-lg",role:"document"},TR={class:"modal-content modal-content-demo"},zR=(0,l._)("div",{class:"modal-header"},[(0,l._)("h6",{class:"modal-title"},"Thêm mới dòng sản phẩm"),(0,l._)("button",{"aria-label":"Close",class:"btn-close","data-bs-dismiss":"modal",type:"button"})],-1),UR={class:"modal-body"},jR={class:"table"},qR={class:"form-group"},IR=(0,l._)("label",{class:"fw-bold"},"Mã dòng sản phẩm",-1),LR={key:0,class:"invalid-feedback mt-2"},NR={class:"form-group"},RR=(0,l._)("label",{class:"fw-bold"},"Tên dòng sản phẩm",-1),VR={key:0,class:"invalid-feedback"},QR={colspan:"2"},OR={class:"form-group"},AR=(0,l._)("label",{class:"fw-bold"},"Ghi chú",-1),JR={class:"invalid-feedback"},$R={key:0,class:"alert alert-success text-center"},GR={class:"modal-footer d-flex justify-content-between"},WR={class:"form-check"},BR=(0,l._)("label",{class:"form-check-label fw-bold"},"Không đóng màn hình",-1),YR=(0,l._)("button",{class:"btn ripple btn-primary",type:"submit"},"Lưu",-1),HR={class:"modal",id:"update_product_series",ref:"updateProSeries"},KR={class:"modal-dialog modal-lg",role:"document"},ZR={class:"modal-content modal-content-demo"},FR=(0,l._)("div",{class:"modal-header"},[(0,l._)("h6",{class:"modal-title"},"Cập nhật dòng sản phẩm"),(0,l._)("button",{"aria-label":"Close",class:"btn-close","data-bs-dismiss":"modal",type:"button"})],-1),XR={class:"modal-body"},eV={class:"table"},tV={class:"form-group"},sV=(0,l._)("label",{class:"fw-bold"},"Mã dòng sản phẩm",-1),aV={key:0,class:"invalid-feedback"},lV={class:"form-group"},oV=(0,l._)("label",{class:"fw-bold"},"Tên dòng sản phẩm",-1),dV={key:0,class:"invalid-feedback"},rV={colspan:"2"},iV={class:"form-group"},nV=(0,l._)("label",{class:"fw-bold"},"Ghi chú",-1),cV={key:0,class:"invalid-feedback"},uV={class:"modal-footer"},_V=(0,l._)("button",{class:"btn ripple btn-primary",type:"submit"},"Lưu",-1);function pV(e,t,s,o,d,r){return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",cR,[(0,l._)("div",uR,[(0,l._)("div",_R,[pR,(0,l._)("div",mR,[(0,l._)("div",hR,[(0,l._)("div",bR,[(0,l._)("div",gR,[vR,(0,l._)("div",fR,[(0,l._)("table",{data:d.product_series,class:"table table-bordered",id:"productSeriesTable"},[wR,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.product_series,((e,t)=>((0,l.wg)(),(0,l.iD)("tr",{key:e.id},[(0,l._)("td",null,(0,p.zw)(t+1),1),(0,l._)("td",null,(0,p.zw)(e.product_series_code),1),(0,l._)("td",null,(0,p.zw)(e.product_series_name),1),(0,l._)("td",null,(0,p.zw)(e.product_series_note),1),(0,l._)("td",null,[(0,l._)("a",{onClick:t=>r.editProductSeries(e),"data-bs-target":"#update_product_series","data-bs-toggle":"modal",class:"btn btn-sm btn-outline-info ms-1"},CR,8,kR),(0,l._)("a",{onClick:t=>r.deleteProductSeries(e._id),class:"btn btn-sm btn-outline-danger ms-1"},MR,8,DR)])])))),128))])],8,yR)])])])])])])])]),(0,l._)("div",SR,[(0,l._)("div",ER,[(0,l._)("div",TR,[zR,(0,l._)("form",{onSubmit:t[5]||(t[5]=(0,a.iM)(((...e)=>r.addProSeries&&r.addProSeries(...e)),["prevent"]))},[(0,l._)("div",UR,[(0,l._)("table",jR,[(0,l._)("tbody",null,[(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",qR,[IR,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>d.storeProSeries.product_series_code=e),class:(0,p.C_)(["form-control text-body",{"is-invalid":d.addErrors.product_series_code}]),name:"product_series_code",type:"text",placeholder:"Nhập mã dòng sản phẩm"},null,2),[[a.nr,d.storeProSeries.product_series_code]]),d.addErrors.product_series_code?((0,l.wg)(),(0,l.iD)("div",LR,(0,p.zw)(d.addErrors.product_series_code),1)):(0,l.kq)("",!0)])]),(0,l._)("td",null,[(0,l._)("div",NR,[RR,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>d.storeProSeries.product_series_name=e),class:(0,p.C_)(["form-control text-body",{"is-invalid":d.addErrors.product_series_name}]),name:"product_series_name",type:"text",placeholder:"Nhập tên dòng sản phẩm"},null,2),[[a.nr,d.storeProSeries.product_series_name]]),d.addErrors.product_series_name?((0,l.wg)(),(0,l.iD)("div",VR,(0,p.zw)(d.addErrors.product_series_name),1)):(0,l.kq)("",!0)])])]),(0,l._)("tr",null,[(0,l._)("td",QR,[(0,l._)("div",OR,[AR,(0,l.wy)((0,l._)("textarea",{"onUpdate:modelValue":t[2]||(t[2]=e=>d.storeProSeries.product_series_note=e),class:(0,p.C_)(["form-control text-body",{"is-invalid":d.addErrors.product_series_note}]),rows:"5",placeholder:"Nhập ghi chú"},null,2),[[a.nr,d.storeProSeries.product_series_note]]),(0,l._)("div",JR,(0,p.zw)(d.addErrors.product_series_note),1)])])])])])]),d.showSuccessMessage?((0,l.wg)(),(0,l.iD)("div",$R,(0,p.zw)(d.successMessage),1)):(0,l.kq)("",!0),(0,l._)("div",GR,[(0,l._)("div",WR,[(0,l.wy)((0,l._)("input",{class:"form-check-input",type:"checkbox",id:"check1",name:"option1",value:"something","onUpdate:modelValue":t[3]||(t[3]=e=>d.dontCloseModal=e)},null,512),[[a.e8,d.dontCloseModal]]),BR]),(0,l._)("div",null,[YR,(0,l._)("button",{class:"btn ripple btn-danger ms-2",onClick:t[4]||(t[4]=e=>r.closeModal("addProSeriesModal","storeProSeries","addErrors")),type:"button"}," Đóng ")])])],32)])])],512),(0,l._)("div",HR,[(0,l._)("div",KR,[(0,l._)("div",ZR,[FR,(0,l._)("form",{onSubmit:t[10]||(t[10]=(0,a.iM)(((...e)=>r.updateProSeries&&r.updateProSeries(...e)),["prevent"]))},[(0,l._)("div",XR,[(0,l._)("table",eV,[(0,l._)("tbody",null,[(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",tV,[sV,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>d.selectedProSeries.product_series_code=e),class:(0,p.C_)([{"is-invalid":d.updateErrors.product_series_code},"form-control text-body"]),type:"text",placeholder:"Nhập mã dòng sản phẩm"},null,2),[[a.nr,d.selectedProSeries.product_series_code]]),d.updateErrors.product_series_code?((0,l.wg)(),(0,l.iD)("div",aV,(0,p.zw)(d.updateErrors.product_series_code),1)):(0,l.kq)("",!0)])]),(0,l._)("td",null,[(0,l._)("div",lV,[oV,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>d.selectedProSeries.product_series_name=e),class:(0,p.C_)(["form-control text-body",{"is-invalid":d.updateErrors.product_series_name}]),type:"text",placeholder:"Nhập tên dòng sản phẩm"},null,2),[[a.nr,d.selectedProSeries.product_series_name]]),d.updateErrors.product_series_name?((0,l.wg)(),(0,l.iD)("div",dV,(0,p.zw)(d.updateErrors.product_series_name),1)):(0,l.kq)("",!0)])])]),(0,l._)("tr",null,[(0,l._)("td",rV,[(0,l._)("div",iV,[nV,(0,l.wy)((0,l._)("textarea",{"onUpdate:modelValue":t[8]||(t[8]=e=>d.selectedProSeries.product_series_note=e),class:(0,p.C_)([{"is-invalid":d.updateErrors.product_series_note},"form-control text-body"]),name:"",rows:"5",placeholder:"Nhập ghi chú"},null,2),[[a.nr,d.selectedProSeries.product_series_note]]),d.updateErrors.product_series_note?((0,l.wg)(),(0,l.iD)("div",cV,(0,p.zw)(d.updateErrors.product_series_note),1)):(0,l.kq)("",!0)])])])])])]),(0,l._)("div",uV,[_V,(0,l._)("button",{class:"btn ripple btn-danger",onClick:t[9]||(t[9]=e=>r.closeModal("updateProSeries","selectedProSeries","updateErrors")),type:"button"}," Đóng ")])],32)])])],512)],64)}var mV={data(){return{product_series:{product_series_code:"",product_series_name:"",product_series_note:""},storeProSeries:{product_series_code:"",product_series_name:"",product_series_note:""},selectedProSeries:[],dontCloseModal:!1,addErrors:[],updateErrors:[],showSuccessMessage:!1,successMessage:""}},mounted(){this.getproduct_series()},methods:{loadtable(){this.$nextTick((()=>{nt.initializeDataTable("#productSeriesTable")}))},getproduct_series(){va.getData("product-series/listProductSeries").then((e=>{this.product_series=e.data.data,this.loadtable(),console.log(e)})).catch((e=>{console.log(e)}))},addProSeries(){const e={product_series_code:this.storeProSeries.product_series_code,product_series_name:this.storeProSeries.product_series_name,product_series_note:this.storeProSeries.product_series_note?this.storeProSeries.product_series_note:""},t=[{name:"product_series_code",label:"Mã dòng sản phẩm",maxLength:50,nullable:!1},{name:"product_series_name",label:"Tên dòng sản phẩm",maxLength:100,nullable:!1},{name:"product_series_note",label:"Ghi chú",maxLength:50,nullable:!0}];this.addErrors=nt.validateData(e,t),0===Object.keys(this.addErrors).length&&va.postData("product-series/storeProductSeries",e).then((e=>{e.data.error?e.data.error.details.forEach((e=>{const t=e.message,s=e.path[0];this.errors[s]=[],this.errors[s]=t})):this.dontCloseModal?(this.getproduct_series(),this.storeProSeries={},this.showSuccessMessage=!0,this.successMessage="Thêm thành công",setTimeout((()=>{this.showSuccessMessage=!1}),1e3)):(this.getproduct_series(),this.closeModal("addProSeriesModal","storeProSeries","errors"),nt.showSuccessAlert("Thêm thành công"))})).catch((e=>{console.error("Lỗi khi thêm dòng sản phẩm:",e)}))},deleteProductSeries(e){nt.confirmDelete((()=>{va.deleteData(`product-series/deleteProductSeries/?id=${e}`).then((e=>{nt.showSuccessAlert("Xóa thành công"),this.getproduct_series()})).catch((e=>{console.error("Lỗi khi xóa dòng sản phẩm:",e)}))}))},closeModal(e,t,s){const a=this.$refs[e];$(a).modal("hide"),this[t]={},this[s]={}},editProductSeries(e){this.selectedProSeries.id=e._id,this.selectedProSeries.product_series_code=e.product_series_code,this.selectedProSeries.product_series_name=e.product_series_name,this.selectedProSeries.product_series_note=e.product_series_note},updateProSeries(){const e={product_series_code:this.selectedProSeries.product_series_code,product_series_name:this.selectedProSeries.product_series_name,product_series_note:this.selectedProSeries.product_series_note},t=[{name:"product_series_code",label:"Mã dòng sản phẩm",maxLength:50,nullable:!1},{name:"product_series_name",label:"Tên dòng sản phẩm",maxLength:50,nullable:!1},{name:"product_series_note",label:"Ghi chú",maxLength:50,nullable:!0}];this.updateErrors=nt.validateData(e,t),0===Object.keys(this.updateErrors).length&&va.putData(`product-series/updateProductSeries/${this.selectedProSeries.id}`,e).then((e=>{e.data.error?e.data.error.details.forEach((e=>{const t=e.message,s=e.path[0];this.updateErrors[s]=[],this.updateErrors[s]=t})):(nt.showSuccessAlert("Cập nhật thành công"),this.closeModal("updateProSeries","selectedProSeries","updateErrors"),this.getproduct_series())})).catch((e=>{console.error("Lỗi khi cập nhật dòng sản phẩm:",e)}))}}};const hV=(0,r.Z)(mV,[["render",pV]]);var bV=hV;const gV={class:"main-content side-content pt-0"},vV={class:"main-container container-fluid pt-5"},fV={class:"inner-body"},yV=(0,l.uE)('<div class="page-header"><div><h2 class="main-content-title tx-24 mg-b-5"> Quản lý bán thành phẩm </h2><ol class="breadcrumb"><li class="breadcrumb-item"><a href="#">Trang chủ</a></li><li class="breadcrumb-item active" aria-current="page"> Bán thành phẩm </li></ol></div><div class="d-flex"><div class="justify-content-center"><button data-bs-target="#add_semi_product" data-bs-toggle="modal" class="btn btn-primary btn-rounded my-2 btn-icon-text"><i class="fe fe-plus"></i> Thêm mới </button></div></div></div>',1),wV={class:"row row-sm"},kV={class:"col-lg-12"},xV={class:"card custom-card"},CV={class:"card-body"},DV=(0,l._)("div",null,[(0,l._)("h6",{class:"main-content-label mb-1"}," Danh sách bán thành phẩm "),(0,l._)("p",{class:"text-muted card-sub-title"})],-1),PV={class:"table-responsive"},MV=["data"],SV=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",null,"STT"),(0,l._)("th",null,"Số lot board"),(0,l._)("th",null,"Mã BTP"),(0,l._)("th",null,"Tên BTP"),(0,l._)("th",null,"ĐVT"),(0,l._)("th",null,"Số sim"),(0,l._)("th",null,"Trạng thái"),(0,l._)("th",null,"Ghi chú"),(0,l._)("th",null,"Thao tác")])],-1),EV=["onClick"],TV=(0,l._)("td",null,null,-1),zV=["onClick"],UV=(0,l._)("i",{class:"fe fe-edit-2"},null,-1),jV=[UV],qV=["onClick"],IV=(0,l._)("i",{class:"fe fe-trash"},null,-1),LV=[IV],NV={class:"modal fade",id:"add_semi_product",ref:"addSemiProModal"},RV={class:"modal-dialog modal-xl",role:"document"},VV={class:"modal-content modal-content-demo"},QV=(0,l._)("div",{class:"modal-header"},[(0,l._)("h6",{class:"modal-title"},"Thêm mới bán thành phẩm"),(0,l._)("button",{"aria-label":"Close",class:"btn-close","data-bs-dismiss":"modal",type:"button"})],-1),OV={class:"modal-body"},AV={class:"table"},JV={class:"form-group"},$V=(0,l._)("label",{class:"fw-bold"},"Số lot board",-1),GV={key:0,class:"invalid-feedback mt-2"},WV={class:"form-group"},BV=(0,l._)("label",{class:"fw-bold"},"Mã BTP",-1),YV={key:0,class:"invalid-feedback mt-2"},HV={class:"form-group"},KV=(0,l._)("label",{class:"fw-bold"},"Tên BTP",-1),ZV={key:0,class:"invalid-feedback mt-2"},FV={class:"form-group"},XV=(0,l._)("div",null,[(0,l._)("label",{class:"fw-bold"},"Số SIM/E-SIM")],-1),eQ=(0,l._)("option",{value:"",disabled:"",selected:""},"Chọn số SIM/E-SIM",-1),tQ=["value"],sQ={key:0,class:"invalid-feedback mt-2"},aQ={class:"form-group"},lQ=(0,l._)("label",{class:"fw-bold"},"Ngày kích hoạt",-1),oQ={key:0,class:"invalid-feedback mt-2"},dQ={class:"form-group"},rQ=(0,l._)("label",{class:"fw-bold"},"Gói cước",-1),iQ=(0,l._)("option",{value:"",disabled:"",selected:""},"Chọn gói cước",-1),nQ=["value"],cQ={key:0,class:"invalid-feedback mt-2"},uQ={class:"form-group"},_Q=(0,l._)("label",{class:"fw-bold"},"Đơn vị tính",-1),pQ=(0,l._)("option",{value:"",disabled:"",selected:""},"Chọn đơn vị tính",-1),mQ=(0,l._)("option",{value:"SET"},"SET",-1),hQ=(0,l._)("option",{value:"PCE"},"PCE",-1),bQ=[pQ,mQ,hQ],gQ={key:0,class:"invalid-feedback mt-2"},vQ={colspan:"2"},fQ={class:"form-group"},yQ=(0,l._)("label",{class:"fw-bold"},"Mục đích",-1),wQ={key:0,class:"invalid-feedback mt-2"},kQ={colspan:"3"},xQ={class:"form-group"},CQ=(0,l._)("label",{class:"fw-bold"},"Ghi chú",-1),DQ={key:0,class:"invalid-feedback mt-2"},PQ={key:0,class:"alert alert-success text-center"},MQ={class:"modal-footer d-flex justify-content-between"},SQ={class:"form-check"},EQ=(0,l._)("label",{class:"form-check-label fw-bold"},"Không đóng màn hình",-1),TQ=(0,l._)("button",{class:"btn ripple btn-primary",type:"submit"},"Lưu",-1),zQ={class:"modal fade",id:"update_semi_product",ref:"updateSemiProModal"},UQ={class:"modal-dialog modal-xl",role:"document"},jQ={class:"modal-content modal-content-demo"},qQ=(0,l._)("div",{class:"modal-header"},[(0,l._)("h6",{class:"modal-title"},"Thêm mới bán thành phẩm"),(0,l._)("button",{"aria-label":"Close",class:"btn-close","data-bs-dismiss":"modal",type:"button"})],-1),IQ={class:"modal-body"},LQ={class:"table"},NQ={class:"form-group"},RQ=(0,l._)("label",{class:"fw-bold"},"Số lot board",-1),VQ={key:0,class:"invalid-feedback mt-2"},QQ={class:"form-group"},OQ=(0,l._)("label",{class:"fw-bold"},"Mã BTP",-1),AQ={key:0,class:"invalid-feedback mt-2"},JQ={class:"form-group"},$Q=(0,l._)("label",{class:"fw-bold"},"Tên BTP",-1),GQ={key:0,class:"invalid-feedback mt-2"},WQ={class:"form-group"},BQ=(0,l._)("label",{for:"sel1"},"Số SIM/E-SIM",-1),YQ=(0,l._)("option",{value:"",disabled:"",selected:""},"Chọn số SIM/E-SIM",-1),HQ=["value"],KQ={key:0,class:"invalid-feedback mt-2"},ZQ={class:"form-group"},FQ=(0,l._)("label",{class:"fw-bold"},"Ngày kích hoạt",-1),XQ={key:0,class:"invalid-feedback mt-2"},eO={class:"form-group"},tO=(0,l._)("label",{class:"fw-bold"},"Gói cước",-1),sO=(0,l._)("option",{value:"",disabled:"",selected:""},"Chọn gói cước",-1),aO=["value"],lO={key:0,class:"invalid-feedback mt-2"},oO={class:"form-group"},dO=(0,l._)("label",{class:"fw-bold"},"Đơn vị tính",-1),rO=(0,l._)("option",{value:"",disabled:"",selected:""},"Chọn đơn vị tính",-1),iO=(0,l._)("option",{value:"SET"},"SET",-1),nO=(0,l._)("option",{value:"PCE"},"PCE",-1),cO=[rO,iO,nO],uO={key:0,class:"invalid-feedback mt-2"},_O={colspan:"2"},pO={class:"form-group"},mO=(0,l._)("label",{class:"fw-bold"},"Mục đích",-1),hO={key:0,class:"invalid-feedback mt-2"},bO={colspan:"3"},gO={class:"form-group"},vO=(0,l._)("label",{class:"fw-bold"},"Ghi chú",-1),fO={key:0,class:"invalid-feedback mt-2"},yO={key:0,class:"alert alert-success text-center"},wO={class:"modal-footer d-flex justify-content-between"},kO={class:"form-check"},xO=(0,l._)("label",{class:"form-check-label fw-bold"},"Đóng màn hình",-1),CO=(0,l._)("button",{class:"btn ripple btn-primary",type:"submit"},"Lưu",-1),DO={class:"modal fade",id:"sim_info",ref:"simInfo"},PO={class:"modal-dialog modal-xl",role:"document"},MO={class:"modal-content modal-content-demo"},SO=(0,l._)("div",{class:"modal-header"},[(0,l._)("h6",{class:"modal-title"},"Thông tin chi tiết"),(0,l._)("button",{"aria-label":"Close",class:"btn-close","data-bs-dismiss":"modal",type:"button"})],-1),EO={class:"modal-body"},TO={class:"table"},zO={class:"form-group"},UO=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Số Lot Board",-1),jO={class:"form-group"},qO=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Mã BTP",-1),IO={colspan:"2"},LO={class:"form-group"},NO=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Tên BTP",-1),RO={class:"form-group"},VO=(0,l._)("p",{class:"mg-b-10 fw-bold"},"ĐVT",-1),QO={class:"form-group"},OO=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Số SIM",-1),AO={class:"form-group"},JO=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Phân loại",-1),$O={class:"form-group"},GO=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Gói cước",-1),WO={class:"form-group"},BO=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Ngày kích hoạt",-1),YO={class:"form-group"},HO=(0,l._)("p",{class:"mg-b-10 fw-bold"},"Ngày hết hạn",-1),KO={class:"modal-footer"};function ZO(e,t,s,o,d,r){return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",gV,[(0,l._)("div",vV,[(0,l._)("div",fV,[yV,(0,l._)("div",wV,[(0,l._)("div",kV,[(0,l._)("div",xV,[(0,l._)("div",CV,[DV,(0,l._)("div",PV,[(0,l._)("table",{data:d.semi_products,class:"table table-bordered",id:"SemiProTable"},[SV,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.semi_products,((e,t)=>((0,l.wg)(),(0,l.iD)("tr",{key:e._id},[(0,l._)("td",null,(0,p.zw)(t+1),1),(0,l._)("td",null,(0,p.zw)(e.semi_product_lot),1),(0,l._)("td",null,(0,p.zw)(e.semi_product_code),1),(0,l._)("td",null,(0,p.zw)(e.semi_product_name),1),(0,l._)("td",null,(0,p.zw)(e.semi_product_unit),1),(0,l._)("td",null,[(0,l._)("div",{class:"tooltip1",onClick:t=>r.viewDetail(e),"data-bs-target":"#sim_info","data-bs-toggle":"modal"},(0,p.zw)(e.category[0].serial_sim),9,EV)]),(0,l._)("td",null,[(0,l._)("span",{class:(0,p.C_)(["badge bg-pill",r.getStatus(e.semi_product_status)])},(0,p.zw)(r.semiProductStatus(e.semi_product_status)),3)]),TV,(0,l._)("td",null,[(0,l._)("a",{onClick:t=>r.editSemiPro(e),"data-bs-target":"#update_semi_product","data-bs-toggle":"modal",class:"btn btn-sm btn-outline-info ms-1"},jV,8,zV),(0,l._)("a",{onClick:t=>r.deleteSemiPro(e._id),class:"btn btn-sm btn-outline-danger ms-1"},LV,8,qV)])])))),128))])],8,MV)])])])])])])])]),(0,l._)("div",NV,[(0,l._)("div",RV,[(0,l._)("div",VV,[QV,(0,l._)("form",{onSubmit:t[11]||(t[11]=(0,a.iM)(((...e)=>r.addSemiPro&&r.addSemiPro(...e)),["prevent"]))},[(0,l._)("div",OV,[(0,l._)("table",AV,[(0,l._)("tbody",null,[(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",JV,[$V,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>d.storeSemiPro.semi_product_lot=e),class:(0,p.C_)(["form-control text-body",{"is-invalid":d.addErrors.semi_product_lot}]),type:"text",placeholder:"Nhập số lot board"},null,2),[[a.nr,d.storeSemiPro.semi_product_lot]]),d.addErrors.semi_product_lot?((0,l.wg)(),(0,l.iD)("div",GV,(0,p.zw)(d.addErrors.semi_product_lot),1)):(0,l.kq)("",!0)])]),(0,l._)("td",null,[(0,l._)("div",WV,[BV,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>d.storeSemiPro.semi_product_code=e),class:(0,p.C_)(["form-control text-body",{"is-invalid":d.addErrors.semi_product_code}]),type:"text",placeholder:"Nhập mã BTP"},null,2),[[a.nr,d.storeSemiPro.semi_product_code]]),d.addErrors.semi_product_code?((0,l.wg)(),(0,l.iD)("div",YV,(0,p.zw)(d.addErrors.semi_product_code),1)):(0,l.kq)("",!0)])]),(0,l._)("td",null,[(0,l._)("div",HV,[KV,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>d.storeSemiPro.semi_product_name=e),class:(0,p.C_)(["form-control text-body",{"is-invalid":d.addErrors.semi_product_name}]),type:"text",placeholder:"Nhập tên BTP"},null,2),[[a.nr,d.storeSemiPro.semi_product_name]]),d.addErrors.semi_product_name?((0,l.wg)(),(0,l.iD)("div",ZV,(0,p.zw)(d.addErrors.semi_product_name),1)):(0,l.kq)("",!0)])])]),(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",FV,[XV,(0,l.wy)((0,l._)("select",{class:(0,p.C_)(["form-control form-select text-body",{"is-invalid":d.addErrors.categories_sim_id}]),"onUpdate:modelValue":t[3]||(t[3]=e=>d.storeSemiPro.categories_sim_id=e)},[eQ,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.sims,(e=>((0,l.wg)(),(0,l.iD)("option",{key:e._id,value:e._id},(0,p.zw)(e.serial_sim),9,tQ)))),128))],2),[[a.bM,d.storeSemiPro.categories_sim_id]]),d.addErrors.categories_sim_id?((0,l.wg)(),(0,l.iD)("div",sQ,(0,p.zw)(d.addErrors.categories_sim_id),1)):(0,l.kq)("",!0)])]),(0,l._)("td",null,[(0,l._)("div",aQ,[lQ,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>d.storeSemiPro.activation_date=e),class:(0,p.C_)([{"is-invalid":d.addErrors.activation_date},"form-control text-body"]),type:"date"},null,2),[[a.nr,d.storeSemiPro.activation_date]]),d.addErrors.activation_date?((0,l.wg)(),(0,l.iD)("div",oQ,(0,p.zw)(d.addErrors.activation_date),1)):(0,l.kq)("",!0)])]),(0,l._)("td",null,[(0,l._)("div",dQ,[rQ,(0,l.wy)((0,l._)("select",{class:(0,p.C_)(["form-control form-select text-body",{"is-invalid":d.addErrors.sim_package_id}]),"onUpdate:modelValue":t[5]||(t[5]=e=>d.storeSemiPro.sim_package_id=e)},[iQ,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.packages,(e=>((0,l.wg)(),(0,l.iD)("option",{key:e._id,value:e._id},(0,p.zw)(e.sim_package_description),9,nQ)))),128))],2),[[a.bM,d.storeSemiPro.sim_package_id]]),d.addErrors.sim_package_id?((0,l.wg)(),(0,l.iD)("div",cQ,(0,p.zw)(d.addErrors.sim_package_id),1)):(0,l.kq)("",!0)])])]),(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",uQ,[_Q,(0,l.wy)((0,l._)("select",{class:(0,p.C_)(["form-control form-select text-body",{"is-invalid":d.addErrors.semi_product_unit}]),"onUpdate:modelValue":t[6]||(t[6]=e=>d.storeSemiPro.semi_product_unit=e)},bQ,2),[[a.bM,d.storeSemiPro.semi_product_unit]]),d.addErrors.sim_package_id?((0,l.wg)(),(0,l.iD)("div",gQ,(0,p.zw)(d.addErrors.sim_package_id),1)):(0,l.kq)("",!0)])]),(0,l._)("td",vQ,[(0,l._)("div",fQ,[yQ,(0,l.wy)((0,l._)("textarea",{"onUpdate:modelValue":t[7]||(t[7]=e=>d.storeSemiPro.purpose=e),class:(0,p.C_)(["form-control text-body",{"is-invalid":d.addErrors.purpose}]),rows:"3",placeholder:"Nhập mục đích"},null,2),[[a.nr,d.storeSemiPro.purpose]]),d.addErrors.purpose?((0,l.wg)(),(0,l.iD)("div",wQ,(0,p.zw)(d.addErrors.purpose),1)):(0,l.kq)("",!0)])])]),(0,l._)("tr",null,[(0,l._)("td",kQ,[(0,l._)("div",xQ,[CQ,(0,l.wy)((0,l._)("textarea",{"onUpdate:modelValue":t[8]||(t[8]=e=>d.storeSemiPro.semi_product_note=e),class:(0,p.C_)(["form-control text-body",{"is-invalid":d.addErrors.semi_product_note}]),rows:"3",placeholder:"Nhập ghi chú"},null,2),[[a.nr,d.storeSemiPro.semi_product_note]]),d.addErrors.semi_product_note?((0,l.wg)(),(0,l.iD)("div",DQ,(0,p.zw)(d.addErrors.semi_product_note),1)):(0,l.kq)("",!0)])])])])])]),d.showSuccessMessage?((0,l.wg)(),(0,l.iD)("div",PQ,(0,p.zw)(d.successMessage),1)):(0,l.kq)("",!0),(0,l._)("div",MQ,[(0,l._)("div",SQ,[(0,l.wy)((0,l._)("input",{class:"form-check-input",type:"checkbox",id:"check1",name:"option1",value:"something","onUpdate:modelValue":t[9]||(t[9]=e=>d.dontCloseModal=e)},null,512),[[a.e8,d.dontCloseModal]]),EQ]),(0,l._)("div",null,[TQ,(0,l._)("button",{class:"btn ripple btn-danger ms-2",onClick:t[10]||(t[10]=e=>r.closeModal("addSemiProModal","storeSemiPro","addErrors")),type:"button"}," Đóng ")])])],32)])])],512),(0,l._)("div",zQ,[(0,l._)("div",UQ,[(0,l._)("div",jQ,[qQ,(0,l._)("form",{onSubmit:t[23]||(t[23]=(0,a.iM)(((...e)=>r.updateSemiPro&&r.updateSemiPro(...e)),["prevent"]))},[(0,l._)("div",IQ,[(0,l._)("table",LQ,[(0,l._)("tbody",null,[(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",NQ,[RQ,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[12]||(t[12]=e=>d.selectedSemiPro.semi_product_lot=e),class:(0,p.C_)(["form-control text-body",{"is-invalid":d.updateErrors.semi_product_lot}]),type:"text",placeholder:"Nhập số lot board"},null,2),[[a.nr,d.selectedSemiPro.semi_product_lot]]),d.updateErrors.semi_product_lot?((0,l.wg)(),(0,l.iD)("div",VQ,(0,p.zw)(d.updateErrors.semi_product_lot),1)):(0,l.kq)("",!0)])]),(0,l._)("td",null,[(0,l._)("div",QQ,[OQ,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[13]||(t[13]=e=>d.selectedSemiPro.semi_product_code=e),class:(0,p.C_)(["form-control text-body",{"is-invalid":d.updateErrors.semi_product_code}]),type:"text",placeholder:"Nhập mã BTP"},null,2),[[a.nr,d.selectedSemiPro.semi_product_code]]),d.updateErrors.semi_product_code?((0,l.wg)(),(0,l.iD)("div",AQ,(0,p.zw)(d.updateErrors.semi_product_code),1)):(0,l.kq)("",!0)])]),(0,l._)("td",null,[(0,l._)("div",JQ,[$Q,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[14]||(t[14]=e=>d.selectedSemiPro.semi_product_name=e),class:(0,p.C_)(["form-control text-body",{"is-invalid":d.updateErrors.semi_product_name}]),type:"text",placeholder:"Nhập tên BTP"},null,2),[[a.nr,d.selectedSemiPro.semi_product_name]]),d.updateErrors.semi_product_name?((0,l.wg)(),(0,l.iD)("div",GQ,(0,p.zw)(d.updateErrors.semi_product_name),1)):(0,l.kq)("",!0)])])]),(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",WQ,[BQ,(0,l.wy)((0,l._)("select",{class:(0,p.C_)(["form-control form-select text-body",{"is-invalid":d.updateErrors.categories_sim_id}]),"onUpdate:modelValue":t[15]||(t[15]=e=>d.selectedSemiPro.categories_sim_id=e)},[YQ,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.sims,(e=>((0,l.wg)(),(0,l.iD)("option",{key:e._id,value:e._id},(0,p.zw)(e.serial_sim),9,HQ)))),128))],2),[[a.bM,d.selectedSemiPro.categories_sim_id]]),d.updateErrors.categories_sim_id?((0,l.wg)(),(0,l.iD)("div",KQ,(0,p.zw)(d.updateErrors.categories_sim_id),1)):(0,l.kq)("",!0)])]),(0,l._)("td",null,[(0,l._)("div",ZQ,[FQ,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[16]||(t[16]=e=>d.selectedSemiPro.activation_date=e),class:(0,p.C_)([{"is-invalid":d.updateErrors.activation_date},"form-control text-body"]),type:"date"},null,2),[[a.nr,d.selectedSemiPro.activation_date]]),d.updateErrors.activation_date?((0,l.wg)(),(0,l.iD)("div",XQ,(0,p.zw)(d.updateErrors.activation_date),1)):(0,l.kq)("",!0)])]),(0,l._)("td",null,[(0,l._)("div",eO,[tO,(0,l.wy)((0,l._)("select",{class:(0,p.C_)(["form-control form-select text-body",{"is-invalid":d.updateErrors.sim_package_id}]),"onUpdate:modelValue":t[17]||(t[17]=e=>d.selectedSemiPro.sim_package_id=e)},[sO,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.packages,(e=>((0,l.wg)(),(0,l.iD)("option",{key:e._id,value:e._id},(0,p.zw)(e.sim_package_description),9,aO)))),128))],2),[[a.bM,d.selectedSemiPro.sim_package_id]]),d.updateErrors.sim_package_id?((0,l.wg)(),(0,l.iD)("div",lO,(0,p.zw)(d.updateErrors.sim_package_id),1)):(0,l.kq)("",!0)])])]),(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",oO,[dO,(0,l.wy)((0,l._)("select",{class:(0,p.C_)(["form-control form-select text-body",{"is-invalid":d.updateErrors.semi_product_unit}]),"onUpdate:modelValue":t[18]||(t[18]=e=>d.selectedSemiPro.semi_product_unit=e)},cO,2),[[a.bM,d.selectedSemiPro.semi_product_unit]]),d.updateErrors.sim_package_id?((0,l.wg)(),(0,l.iD)("div",uO,(0,p.zw)(d.updateErrors.sim_package_id),1)):(0,l.kq)("",!0)])]),(0,l._)("td",_O,[(0,l._)("div",pO,[mO,(0,l.wy)((0,l._)("textarea",{"onUpdate:modelValue":t[19]||(t[19]=e=>d.selectedSemiPro.purpose=e),class:(0,p.C_)(["form-control text-body",{"is-invalid":d.updateErrors.purpose}]),rows:"3",placeholder:"Nhập mục đích"},null,2),[[a.nr,d.selectedSemiPro.purpose]]),d.updateErrors.purpose?((0,l.wg)(),(0,l.iD)("div",hO,(0,p.zw)(d.updateErrors.purpose),1)):(0,l.kq)("",!0)])])]),(0,l._)("tr",null,[(0,l._)("td",bO,[(0,l._)("div",gO,[vO,(0,l.wy)((0,l._)("textarea",{"onUpdate:modelValue":t[20]||(t[20]=e=>d.selectedSemiPro.semi_product_note=e),class:(0,p.C_)(["form-control text-body",{"is-invalid":d.updateErrors.semi_product_note}]),rows:"3",placeholder:"Nhập ghi chú"},null,2),[[a.nr,d.selectedSemiPro.semi_product_note]]),d.updateErrors.semi_product_note?((0,l.wg)(),(0,l.iD)("div",fO,(0,p.zw)(d.updateErrors.semi_product_note),1)):(0,l.kq)("",!0)])])])])])]),d.showSuccessMessage?((0,l.wg)(),(0,l.iD)("div",yO,(0,p.zw)(d.successMessage),1)):(0,l.kq)("",!0),(0,l._)("div",wO,[(0,l._)("div",kO,[(0,l.wy)((0,l._)("input",{class:"form-check-input",type:"checkbox",id:"check1",name:"option1",value:"something","onUpdate:modelValue":t[21]||(t[21]=e=>d.dontCloseModal=e)},null,512),[[a.e8,d.dontCloseModal]]),xO]),(0,l._)("div",null,[CO,(0,l._)("button",{class:"btn ripple btn-danger ms-2",onClick:t[22]||(t[22]=e=>r.closeModal("updateSemiProModal","selectedSemiPro","updateErrors")),type:"button"}," Đóng ")])])],32)])])],512),(0,l._)("div",DO,[(0,l._)("div",PO,[(0,l._)("div",MO,[SO,(0,l._)("div",EO,[(0,l._)("table",TO,[(0,l._)("tbody",null,[(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",zO,[UO,(0,l._)("span",null,(0,p.zw)(d.detailInfo.semi_product_lot),1)])]),(0,l._)("td",null,[(0,l._)("div",jO,[qO,(0,l._)("span",null,(0,p.zw)(d.detailInfo.semi_product_code),1)])]),(0,l._)("td",IO,[(0,l._)("div",LO,[NO,(0,l._)("span",null,(0,p.zw)(d.detailInfo.semi_product_name),1)])]),(0,l._)("td",null,[(0,l._)("div",RO,[VO,(0,l._)("span",null,(0,p.zw)(d.detailInfo.semi_product_unit),1)])])]),(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",QO,[OO,(0,l._)("span",null,(0,p.zw)(d.detailInfo.category&&d.detailInfo.category[0].serial_sim||""),1)])]),(0,l._)("td",null,[(0,l._)("div",AO,[JO,(0,l._)("span",null,(0,p.zw)(d.detailInfo.category&&d.detailInfo.category[0].sim_type||""),1)])]),(0,l._)("td",null,[(0,l._)("div",$O,[GO,(0,l._)("span",null,(0,p.zw)(d.detailInfo.category&&d.detailInfo.category[0].SimpackageInfo[0].sim_package_description||""),1)])]),(0,l._)("td",null,[(0,l._)("div",WO,[BO,(0,l._)("span",null,(0,p.zw)(d.detailInfo.category&&d.detailInfo.category[0].activation_date||""),1)])]),(0,l._)("td",null,[(0,l._)("div",YO,[HO,(0,l._)("span",null,(0,p.zw)(d.detailInfo.category&&d.detailInfo.category[0].expiration_date||""),1)])])])])])]),(0,l._)("div",KO,[(0,l._)("button",{class:"btn ripple btn-danger ms-2",onClick:t[24]||(t[24]=e=>r.closeModal("simInfo","selectedSemiPro","updateErrors")),type:"button"}," Đóng ")])])])],512)],64)}var FO={data(){return{semi_products:[],sims:[],packages:[],storeSemiPro:{semi_product_lot:"",semi_product_code:"",semi_product_name:"",semi_product_unit:"",categories_sim_id:"",activation_date:"",sim_package_id:"",purpose:"",semi_product_note:""},selectedSemiPro:[],dontCloseModal:!1,addErrors:[],updateErrors:[],showSuccessMessage:!1,successMessage:"",detailInfo:[]}},mounted(){this.getsemiPros()},methods:{loadtable(){this.$nextTick((()=>{nt.initializeDataTable("#SemiProTable")}))},getsemiPros(){va.getData("semi-product/listSemiProduct").then((e=>{this.semi_products=e.data.data,this.sims=e.data.getCategoriesSim,this.packages=e.data.getSimPackage,this.loadtable(),console.log(this.semi_products)})).catch((e=>{console.log(e),401==Error.response.status&&nt.LoginSession()}))},getStatus(e){switch(e){case"0":return"bg-primary-light";case"1":return"bg-success-light";case"2":return"bg-success-light";case"3":return"bg-success-light";case"4":return"bg-success-light";case"5":return"bg-success-light";case"9":return"bg-success-light";case"10":return"bg-danger-light";default:return"bg-danger-light"}},semiProductStatus(e){switch(parseInt(e)){case 0:return"Mới tạo";case 1:return"Đã yêu cầu xuất kho";case 2:return"Đã xuất kho";case 3:return"Đã yêu cầu sản xuất";case 4:return"Đang sản xuất";case 5:return"Hoàn thành";case 9:return"Đã nhập kho";case 10:return"Đã hủy";default:return"Không rõ"}},addSemiPro(){const e={semi_product_lot:this.storeSemiPro.semi_product_lot,semi_product_code:this.storeSemiPro.semi_product_code,semi_product_name:this.storeSemiPro.semi_product_name,semi_product_unit:this.storeSemiPro.semi_product_unit,categories_sim_id:this.storeSemiPro.categories_sim_id,activation_date:this.storeSemiPro.activation_date,sim_package_id:this.storeSemiPro.sim_package_id,purpose:this.storeSemiPro.purpose,semi_product_status:"9",semi_product_note:this.storeSemiPro.semi_product_note?this.storeSemiPro.semi_product_note:""},t=[{name:"semi_product_lot",label:"Số lot board",maxLength:50,nullable:!1},{name:"semi_product_code",label:"Mã BTP",maxLength:50,nullable:!1},{name:"semi_product_name",label:"Tên BTP",maxLength:50,nullable:!1},{name:"semi_product_unit",label:"Tên BTP",maxLength:50,nullable:!1},{name:"categories_sim_id",label:"Số sim",nullable:!1},{name:"activation_date",label:"Ngày kích hoạt",nullable:!1},{name:"sim_package_id",label:"Gói cước",nullable:!1},{name:"purpose",label:"Mục đích",maxLength:50,nullable:!1},{name:"semi_product_note",label:"ghi chú",maxLength:50,nullable:!0}];if(this.addErrors=nt.validateData(e,t),0===Object.keys(this.addErrors).length){const t=this.packages.filter((e=>e._id===this.storeSemiPro.sim_package_id))||"",s=this.storeSemiPro.activation_date||"",a=t[0].sim_package_expiration||"";e.expiration_date=nt.caculateExpirationDate(s,a),va.postData("semi-product/storeSemiProduct",e).then((e=>{e.data.error?e.data.error.details.forEach((e=>{const t=e.message,s=e.path[0];this.errors[s]=[],this.errors[s]=t})):this.dontCloseModal?(this.getsemiPros(),this.storeSemiPro={},this.showSuccessMessage=!0,this.successMessage="Thêm thành công",setTimeout((()=>{this.showSuccessMessage=!1}),1e3)):(this.getsemiPros(),this.closeModal("addSemiProModal","storeSemiPro","errors"),nt.showSuccessAlert("Thêm thành công"),console.log(e))})).catch((e=>{console.error("Lỗi khi thêm:",e)}))}},deleteSemiPro(e){nt.confirmDelete((()=>{va.deleteData(`semi-product/deleteSemiProduct/?id=${e}`).then((e=>{nt.showSuccessAlert("Xóa thành công"),this.loadtable(),this.getsemiPros()})).catch((e=>{console.error("Lỗi khi xóa khu vực:",e)}))}))},closeModal(e,t,s){const a=this.$refs[e];$(a).modal("hide"),this[t]={},this[s]={}},editSemiPro(e){const t={_id:e.categories_sim_id,serial_sim:e.category[0].serial_sim};this.sims.push(t),this.selectedSemiPro.semi_product_id=e._id,this.selectedSemiPro.semi_product_lot=e.semi_product_lot,this.selectedSemiPro.semi_product_code=e.semi_product_code,this.selectedSemiPro.semi_product_name=e.semi_product_name,this.selectedSemiPro.semi_product_unit=e.semi_product_unit,this.selectedSemiPro.categories_sim_id=e.categories_sim_id,this.selectedSemiPro.activation_date=(0,st.Z)(new Date(e.activation_date),"yyyy-MM-dd"),this.selectedSemiPro.sim_package_id=e.sim_package_id,this.selectedSemiPro.purpose=e.purpose,this.selectedSemiPro.semi_product_note=e.semi_product_note},updateSemiPro(){const e={old_semi_product_id:this.selectedSemiPro.semi_product_id,old_sim_id:this.storeSemiPro.categories_sim_id,semi_product_lot:this.selectedSemiPro.semi_product_lot,semi_product_code:this.selectedSemiPro.semi_product_code,semi_product_name:this.selectedSemiPro.semi_product_name,semi_product_unit:this.selectedSemiPro.semi_product_unit,categories_sim_id:this.selectedSemiPro.categories_sim_id,activation_date:this.selectedSemiPro.activation_date,sim_package_id:this.selectedSemiPro.sim_package_id,purpose:this.selectedSemiPro.purpose,semi_product_note:this.selectedSemiPro.semi_product_note},t=[{name:"semi_product_lot",label:"Số lot board",maxLength:50,nullable:!1},{name:"semi_product_code",label:"Mã BTP",maxLength:50,nullable:!1},{name:"semi_product_name",label:"Tên BTP",maxLength:50,nullable:!1},{name:"semi_product_unit",label:"Tên BTP",maxLength:50,nullable:!1},{name:"categories_sim_id",label:"Số sim",nullable:!1},{name:"activation_date",label:"Ngày kích hoạt",nullable:!1},{name:"sim_package_id",label:"Gói cước",nullable:!1},{name:"purpose",label:"Mục đích",maxLength:50,nullable:!1},{name:"semi_product_note",label:"ghi chú",maxLength:50,nullable:!0}];if(this.updateErrors=nt.validateData(e,t),0===Object.keys(this.updateErrors).length){const t=this.packages.filter((e=>e._id===this.selectedSemiPro.sim_package_id)),s=this.selectedSemiPro.activation_date,a=t[0].sim_package_expiration;e.expiration_date=nt.caculateExpirationDate(s,a),va.putData(`semi-product/updateSemiProduct/${this.selectedSemiPro.semi_product_id}`,e).then((e=>{e.data.error?e.data.error.details.forEach((e=>{const t=e.message,s=e.path[0];this.updateErrors[s]=[],this.updateErrors[s]=t})):(nt.showSuccessAlert("Cập nhật thành công"),this.closeModal("updateSemiProModal","selectedSemiPro","updateErrors"),this.getsemiPros())})).catch((e=>{console.error("Lỗi khi cập nhật nhóm sản phẩm:",e)}))}},viewDetail(e){this.detailInfo=e,console.log(this.detailInfo.category[0].serial_sim)}}};const XO=(0,r.Z)(FO,[["render",ZO]]);var eA=XO;const tA={class:"main-content side-content pt-0"},sA={class:"main-container container-fluid pt-5"},aA={class:"inner-body"},lA=(0,l.uE)('<div class="page-header"><div><h2 class="main-content-title tx-24 mg-b-5"> Quản lý tài khoản </h2><ol class="breadcrumb"><li class="breadcrumb-item"><a href="#">Trang chủ</a></li><li class="breadcrumb-item active" aria-current="page"> Tài khoản </li></ol></div><div class="d-flex"><div class="justify-content-center"><a data-bs-target="#add_user" data-bs-toggle="modal" class="btn btn-primary btn-rounded text-white my-2"><i class="fe fe-plus"></i> Thêm mới </a></div></div></div>',1),oA={class:"row row-sm"},dA={class:"col-lg-12"},rA={class:"card custom-card"},iA={class:"card-body"},nA=(0,l._)("div",null,[(0,l._)("h6",{class:"main-content-label mb-1"},"Danh sách khu vực"),(0,l._)("p",{class:"text-muted card-sub-title"})],-1),cA={class:"table-responsive"},uA=["data"],_A=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",null,"STT"),(0,l._)("th",null,"Họ tên"),(0,l._)("th",null,"Email"),(0,l._)("th",null,"Giới tính"),(0,l._)("th",null,"Ngày sinh"),(0,l._)("th",null,"Chức vụ"),(0,l._)("th",null,"Bộ phận"),(0,l._)("th",null,"Khu vực"),(0,l._)("th",null,"Quyền"),(0,l._)("th",null,"Thao tác")])],-1),pA={class:"d-flex align-items-center"},mA={class:"main-img-user avatar-md"},hA=["src"],bA={class:"ms-2"},gA=["href"],vA=["onClick"],fA=(0,l._)("i",{class:"fe fe-edit-2"},null,-1),yA=[fA],wA=["onClick"],kA=(0,l._)("i",{class:"fe fe-trash"},null,-1),xA=[kA],CA={class:"modal fade",id:"add_user",ref:"addUserModal"},DA={class:"modal-dialog modal-xl",role:"document"},PA={class:"modal-content modal-content-demo"},MA=(0,l._)("div",{class:"modal-header"},[(0,l._)("h6",{class:"modal-title"},"Thêm mới người dùng"),(0,l._)("button",{"aria-label":"Close",class:"btn-close","data-bs-dismiss":"modal",type:"button"})],-1),SA={class:"modal-body"},EA={class:"table"},TA={class:"form-group"},zA=(0,l._)("label",{class:"fw-bold"},"Email",-1),UA={key:0,class:"invalid-feedback"},jA={class:"form-group"},qA=(0,l._)("label",{class:"fw-bold"},"Tên đăng nhập",-1),IA={key:0,class:"invalid-feedback"},LA={class:"form-group"},NA=(0,l._)("label",{class:"fw-bold"},"Mật khẩu",-1),RA={key:0,class:"invalid-feedback"},VA={class:"form-group"},QA=(0,l._)("label",{class:"fw-bold"},"Nhập lại mật khẩu",-1),OA={key:0,class:"invalid-feedback"},AA={class:"form-group"},JA=(0,l._)("label",{class:"fw-bold"},"Họ tên",-1),$A={key:0,class:"invalid-feedback"},GA={class:"form-group"},WA=(0,l._)("label",{class:"fw-bold"},"Giới tính",-1),BA=(0,l._)("option",{value:"true"},"Nam",-1),YA=(0,l._)("option",{value:"false"},"Nữ",-1),HA=[BA,YA],KA={key:0,class:"invalid-feedback"},ZA={class:"form-group"},FA=(0,l._)("label",{class:"fw-bold"},"Ngày sinh",-1),XA={key:0,class:"invalid-feedback"},eJ={class:"form-group"},tJ=(0,l._)("label",{class:"fw-bold"},"Bộ phận",-1),sJ=(0,l._)("option",{value:"",disabled:"",selected:""},"Chọn bộ phận",-1),aJ=["value"],lJ={key:0,class:"invalid-feedback"},oJ={class:"form-group"},dJ=(0,l._)("label",{class:"fw-bold"},"Chức vụ",-1),rJ=(0,l._)("option",{value:"",disabled:"",selected:""},"Chọn chức vụ",-1),iJ=["value"],nJ={key:0,class:"invalid-feedback"},cJ={class:"form-group"},uJ=(0,l._)("label",{class:"fw-bold"},"Khu vực",-1),_J=(0,l._)("option",{value:"",disabled:"",selected:""},"Chọn khu vực",-1),pJ=["value"],mJ={key:0,class:"invalid-feedback"},hJ={class:"form-group"},bJ=(0,l._)("label",{class:"fw-bold"},"Quyền",-1),gJ=(0,l._)("option",{value:"",disabled:"",selected:""},"Chọn quyền",-1),vJ=(0,l._)("option",{value:"1"},"Admin",-1),fJ=(0,l._)("option",{value:"2"},"User",-1),yJ=[gJ,vJ,fJ],wJ={key:0,class:"invalid-feedback"},kJ={colspan:"2"},xJ={key:0,class:"invalid-feedback",style:{display:"block"}},CJ={key:0,class:"alert alert-success text-center"},DJ={class:"modal-footer d-flex justify-content-between"},PJ={class:"form-check"},MJ=(0,l._)("label",{class:"form-check-label fw-bold"},"Không đóng màn hình",-1),SJ=(0,l._)("button",{class:"btn ripple btn-primary",type:"submit"},"Lưu",-1),EJ={class:"modal fade",id:"update_user",ref:"updateUserModal"},TJ={class:"modal-dialog modal-xl",role:"document"},zJ={class:"modal-content modal-content-demo"},UJ=(0,l._)("div",{class:"modal-header"},[(0,l._)("h6",{class:"modal-title"},"Cập nhật người dùng"),(0,l._)("button",{"aria-label":"Close",class:"btn-close","data-bs-dismiss":"modal",type:"button"})],-1),jJ={class:"modal-body"},qJ={class:"table"},IJ={class:"form-group"},LJ=(0,l._)("label",{class:"fw-bold"},"Email",-1),NJ={key:0,class:"invalid-feedback"},RJ={class:"form-group"},VJ=(0,l._)("label",{class:"fw-bold"},"Họ tên",-1),QJ={key:0,class:"invalid-feedback"},OJ={class:"form-group"},AJ=(0,l._)("label",{class:"fw-bold"},"Ngày sinh",-1),JJ={key:0,class:"invalid-feedback"},$J={class:"form-group"},GJ=(0,l._)("label",{class:"fw-bold"},"Giới tính",-1),WJ=(0,l._)("option",{value:"true"},"Nam",-1),BJ=(0,l._)("option",{value:"false"},"Nữ",-1),YJ=[WJ,BJ],HJ={key:0,class:"invalid-feedback"},KJ={class:"form-group"},ZJ=(0,l._)("label",{class:"fw-bold"},"Chức vụ",-1),FJ=(0,l._)("option",{value:"",disabled:"",selected:""},"Chọn chức vụ",-1),XJ=["value"],e$={key:0,class:"invalid-feedback"},t$={class:"form-group"},s$=(0,l._)("label",{class:"fw-bold"},"Bộ phận",-1),a$=(0,l._)("option",{value:"",disabled:"",selected:""},"Chọn bộ phận",-1),l$=["value"],o$={key:0,class:"invalid-feedback"},d$={class:"form-group"},r$=(0,l._)("label",{class:"fw-bold"},"Khu vực",-1),i$=(0,l._)("option",{value:"",disabled:"",selected:""},"Chọn khu vực",-1),n$=["value"],c$={key:0,class:"invalid-feedback"},u$={class:"form-group"},_$=(0,l._)("label",{class:"fw-bold"},"Quyền",-1),p$=(0,l._)("option",{value:"",disabled:"",selected:""},"Chọn quyền",-1),m$=(0,l._)("option",{value:"1"},"Admin",-1),h$=(0,l._)("option",{value:"2"},"User",-1),b$=[p$,m$,h$],g$={key:0,class:"invalid-feedback"},v$=(0,l._)("label",{class:"fw-bold"},"Ảnh hiện tại",-1),f$=["src"],y$={colspan:"2"},w$=(0,l._)("label",{class:"fw-bold"},"Đổi ảnh mới",-1),k$={key:0,class:"invalid-feedback",style:{display:"block"}},x$={key:0,class:"alert alert-success text-center"},C$={class:"modal-footer"},D$=(0,l._)("button",{class:"btn ripple btn-primary",type:"submit"},"Lưu",-1);function P$(e,t,s,o,d,r){return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",tA,[(0,l._)("div",sA,[(0,l._)("div",aA,[lA,(0,l._)("div",oA,[(0,l._)("div",dA,[(0,l._)("div",rA,[(0,l._)("div",iA,[nA,(0,l._)("div",cA,[(0,l._)("table",{data:d.users,class:"table table-bordered",id:"userTable"},[_A,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.users,((e,t)=>((0,l.wg)(),(0,l.iD)("tr",{key:e._id},[(0,l._)("td",null,(0,p.zw)(t+1),1),(0,l._)("td",pA,[(0,l._)("div",mA,[(0,l._)("img",{alt:"avatar",class:"radius",src:"http://192.168.48.31:8080/"+e.avatar},null,8,hA)]),(0,l._)("span",bA,(0,p.zw)(e.fullname),1)]),(0,l._)("td",null,[(0,l._)("a",{href:"mailto:"+e.email},(0,p.zw)(e.email),9,gA)]),(0,l._)("td",null,[(0,l._)("span",{class:(0,p.C_)(!0===e.gender?"tag tag-success tag-pill":"tag tag-warning tag-pill")},(0,p.zw)(1==e.gender?"Nam":0==e.gender?"Nữ":""),3)]),(0,l._)("td",null,[(0,l._)("span",null,(0,p.zw)(r.formatDate(e.birthday)),1)]),(0,l._)("td",null,[(0,l._)("span",null,(0,p.zw)(e.getPostion[0].position_name),1)]),(0,l._)("td",null,[(0,l._)("span",null,(0,p.zw)(e.getDepartment[0].department_name),1)]),(0,l._)("td",null,[(0,l._)("span",null,(0,p.zw)(e.getRegion[0].region_name),1)]),(0,l._)("td",null,[(0,l._)("span",{class:(0,p.C_)("1"===e.role_id?"tag tag-success tag-pill":"tag tag-warning tag-pill")},(0,p.zw)(1==e.role_id?"admin":2==e.role_id?"user":""),3)]),(0,l._)("td",null,[(0,l._)("a",{onClick:t=>r.editUser(e),"data-bs-target":"#update_user","data-bs-toggle":"modal",class:"btn btn-sm btn-outline-info ms-1"},yA,8,vA),(0,l._)("a",{onClick:t=>r.deleteUser(e._id),class:"btn btn-sm btn-outline-danger ms-1"},xA,8,wA)])])))),128))])],8,uA)])])])])])])])]),(0,l._)("div",CA,[(0,l._)("div",DA,[(0,l._)("div",PA,[MA,(0,l._)("form",{onSubmit:t[14]||(t[14]=(0,a.iM)(((...e)=>r.addUser&&r.addUser(...e)),["prevent"]))},[(0,l._)("div",SA,[(0,l._)("table",EA,[(0,l._)("tbody",null,[(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",TA,[zA,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>d.storeUser.email=e),class:(0,p.C_)(["form-control text-body",{"is-invalid":d.addErrors.email}]),placeholder:"Nhập email"},null,2),[[a.nr,d.storeUser.email]]),d.addErrors.email?((0,l.wg)(),(0,l.iD)("div",UA,(0,p.zw)(d.addErrors.email),1)):(0,l.kq)("",!0)])]),(0,l._)("td",null,[(0,l._)("div",jA,[qA,(0,l.wy)((0,l._)("input",{class:(0,p.C_)(["form-control text-body",{"is-invalid":d.addErrors.username}]),type:"text",placeholder:"Tên đăng nhập","onUpdate:modelValue":t[1]||(t[1]=e=>d.storeUser.username=e)},null,2),[[a.nr,d.storeUser.username]]),d.addErrors.username?((0,l.wg)(),(0,l.iD)("div",IA,(0,p.zw)(d.addErrors.username),1)):(0,l.kq)("",!0)])]),(0,l._)("td",null,[(0,l._)("div",LA,[NA,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>d.storeUser.password=e),class:(0,p.C_)(["form-control text-body",{"is-invalid":d.addErrors.password}]),type:"password",placeholder:"Nhập mật khẩu"},null,2),[[a.nr,d.storeUser.password]]),d.addErrors.password?((0,l.wg)(),(0,l.iD)("div",RA,(0,p.zw)(d.addErrors.password),1)):(0,l.kq)("",!0)])]),(0,l._)("td",null,[(0,l._)("div",VA,[QA,(0,l.wy)((0,l._)("input",{class:(0,p.C_)(["form-control text-body",{"is-invalid":d.addErrors.repeat_password}]),type:"password",placeholder:"Nhập lại mật khẩu","onUpdate:modelValue":t[3]||(t[3]=e=>d.storeUser.repeat_password=e)},null,2),[[a.nr,d.storeUser.repeat_password]]),d.addErrors.repeat_password?((0,l.wg)(),(0,l.iD)("div",OA,(0,p.zw)(d.addErrors.repeat_password),1)):(0,l.kq)("",!0)])])]),(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",AA,[JA,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>d.storeUser.fullname=e),class:(0,p.C_)(["form-control text-body",{"is-invalid":d.addErrors.fullname}]),type:"text",placeholder:"Nhập họ tên"},null,2),[[a.nr,d.storeUser.fullname]]),d.addErrors.fullname?((0,l.wg)(),(0,l.iD)("div",$A,(0,p.zw)(d.addErrors.fullname),1)):(0,l.kq)("",!0)])]),(0,l._)("td",null,[(0,l._)("div",GA,[WA,(0,l.wy)((0,l._)("select",{class:(0,p.C_)(["form-control form-select text-body",{"is-invalid":d.addErrors.gender}]),"onUpdate:modelValue":t[5]||(t[5]=e=>d.storeUser.gender=e)},HA,2),[[a.bM,d.storeUser.gender]]),d.addErrors.gender?((0,l.wg)(),(0,l.iD)("div",KA,(0,p.zw)(d.addErrors.gender),1)):(0,l.kq)("",!0)])]),(0,l._)("td",null,[(0,l._)("div",ZA,[FA,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>d.storeUser.birthday=e),class:(0,p.C_)(["form-control text-body",{"is-invalid":d.addErrors.birthday}]),type:"date"},null,2),[[a.nr,d.storeUser.birthday]]),d.addErrors.birthday?((0,l.wg)(),(0,l.iD)("div",XA,(0,p.zw)(d.addErrors.birthday),1)):(0,l.kq)("",!0)])]),(0,l._)("td",null,[(0,l._)("div",eJ,[tJ,(0,l.wy)((0,l._)("select",{class:(0,p.C_)(["form-control form-select text-body",{"is-invalid":d.addErrors.department_id}]),"onUpdate:modelValue":t[7]||(t[7]=e=>d.storeUser.department_id=e)},[sJ,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.departments,(e=>((0,l.wg)(),(0,l.iD)("option",{key:e._id,value:e._id},(0,p.zw)(e.department_name),9,aJ)))),128))],2),[[a.bM,d.storeUser.department_id]]),d.addErrors.department_id?((0,l.wg)(),(0,l.iD)("div",lJ,(0,p.zw)(d.addErrors.department_id),1)):(0,l.kq)("",!0)])])]),(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",oJ,[dJ,(0,l.wy)((0,l._)("select",{class:(0,p.C_)(["form-control form-select text-body",{"is-invalid":d.addErrors.position_id}]),"onUpdate:modelValue":t[8]||(t[8]=e=>d.storeUser.position_id=e)},[rJ,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.positions,(e=>((0,l.wg)(),(0,l.iD)("option",{key:e._id,value:e._id},(0,p.zw)(e.position_name),9,iJ)))),128))],2),[[a.bM,d.storeUser.position_id]]),d.addErrors.position_id?((0,l.wg)(),(0,l.iD)("div",nJ,(0,p.zw)(d.addErrors.position_id),1)):(0,l.kq)("",!0)])]),(0,l._)("td",null,[(0,l._)("div",cJ,[uJ,(0,l.wy)((0,l._)("select",{class:(0,p.C_)(["form-control form-select text-body",{"is-invalid":d.addErrors.region_id}]),"onUpdate:modelValue":t[9]||(t[9]=e=>d.storeUser.region_id=e)},[_J,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.regions,(e=>((0,l.wg)(),(0,l.iD)("option",{key:e._id,value:e._id},(0,p.zw)(e.region_name),9,pJ)))),128))],2),[[a.bM,d.storeUser.region_id]]),d.addErrors.region_id?((0,l.wg)(),(0,l.iD)("div",mJ,(0,p.zw)(d.addErrors.region_id),1)):(0,l.kq)("",!0)])]),(0,l._)("td",null,[(0,l._)("div",hJ,[bJ,(0,l.wy)((0,l._)("select",{class:(0,p.C_)(["form-control form-select text-body",{"is-invalid":d.addErrors.role_id}]),"onUpdate:modelValue":t[10]||(t[10]=e=>d.storeUser.role_id=e)},yJ,2),[[a.bM,d.storeUser.role_id]]),d.addErrors.role_id?((0,l.wg)(),(0,l.iD)("div",wJ,(0,p.zw)(d.addErrors.role_id),1)):(0,l.kq)("",!0)])])]),(0,l._)("tr",null,[(0,l._)("td",kJ,[(0,l._)("input",{class:(0,p.C_)([{"is-invalid":d.addErrors.avatar},"dropify"]),type:"file",id:"imageUpload1",name:"avatar","data-height":"200",onChange:t[11]||(t[11]=(...e)=>r.handleImageChange&&r.handleImageChange(...e))},null,34),d.addErrors.avatar?((0,l.wg)(),(0,l.iD)("div",xJ,(0,p.zw)(d.addErrors.avatar),1)):(0,l.kq)("",!0)])])])])]),d.showSuccessMessage?((0,l.wg)(),(0,l.iD)("div",CJ,(0,p.zw)(d.successMessage),1)):(0,l.kq)("",!0),(0,l._)("div",DJ,[(0,l._)("div",PJ,[(0,l.wy)((0,l._)("input",{class:"form-check-input",type:"checkbox",id:"check1",name:"option1",value:"something","onUpdate:modelValue":t[12]||(t[12]=e=>d.dontCloseModal=e)},null,512),[[a.e8,d.dontCloseModal]]),MJ]),(0,l._)("div",null,[SJ,(0,l._)("button",{class:"btn ripple btn-danger ms-2",onClick:t[13]||(t[13]=e=>r.closeModal("addUserModal","storeUser","addErrors")),type:"button"}," Đóng ")])])],32)])])],512),(0,l._)("div",EJ,[(0,l._)("div",TJ,[(0,l._)("div",zJ,[UJ,(0,l._)("form",{onSubmit:t[25]||(t[25]=(0,a.iM)(((...e)=>r.updateUser&&r.updateUser(...e)),["prevent"])),enctype:"multipart/form-data"},[(0,l._)("div",jJ,[(0,l._)("table",qJ,[(0,l._)("tbody",null,[(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",IJ,[LJ,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[15]||(t[15]=e=>d.selectedUser.email=e),class:(0,p.C_)(["form-control text-body",{"is-invalid":d.updateErrors.email}]),placeholder:"Nhập email"},null,2),[[a.nr,d.selectedUser.email]]),d.updateErrors.email?((0,l.wg)(),(0,l.iD)("div",NJ,(0,p.zw)(d.updateErrors.email),1)):(0,l.kq)("",!0)])]),(0,l._)("td",null,[(0,l._)("div",RJ,[VJ,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[16]||(t[16]=e=>d.selectedUser.fullname=e),class:(0,p.C_)(["form-control text-body",{"is-invalid":d.updateErrors.fullname}]),type:"text",placeholder:"Nhập họ tên"},null,2),[[a.nr,d.selectedUser.fullname]]),d.updateErrors.fullname?((0,l.wg)(),(0,l.iD)("div",QJ,(0,p.zw)(d.updateErrors.fullname),1)):(0,l.kq)("",!0)])]),(0,l._)("td",null,[(0,l._)("div",OJ,[AJ,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[17]||(t[17]=e=>d.selectedUser.birthday=e),class:(0,p.C_)(["form-control text-body",{"is-invalid":d.updateErrors.birthday}]),type:"date"},null,2),[[a.nr,d.selectedUser.birthday]]),d.updateErrors.birthday?((0,l.wg)(),(0,l.iD)("div",JJ,(0,p.zw)(d.updateErrors.birthday),1)):(0,l.kq)("",!0)])]),(0,l._)("td",null,[(0,l._)("div",$J,[GJ,(0,l.wy)((0,l._)("select",{class:(0,p.C_)(["form-control form-select text-body",{"is-invalid":d.updateErrors.gender}]),"onUpdate:modelValue":t[18]||(t[18]=e=>d.selectedUser.gender=e)},YJ,2),[[a.bM,d.selectedUser.gender]]),d.updateErrors.gender?((0,l.wg)(),(0,l.iD)("div",HJ,(0,p.zw)(d.updateErrors.gender),1)):(0,l.kq)("",!0)])])]),(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",KJ,[ZJ,(0,l.wy)((0,l._)("select",{class:(0,p.C_)(["form-control form-select text-body",{"is-invalid":d.updateErrors.position_id}]),"onUpdate:modelValue":t[19]||(t[19]=e=>d.selectedUser.position_id=e)},[FJ,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.positions,(e=>((0,l.wg)(),(0,l.iD)("option",{key:e._id,value:e._id},(0,p.zw)(e.position_name),9,XJ)))),128))],2),[[a.bM,d.selectedUser.position_id]]),d.updateErrors.position_id?((0,l.wg)(),(0,l.iD)("div",e$,(0,p.zw)(d.updateErrors.position_id),1)):(0,l.kq)("",!0)])]),(0,l._)("td",null,[(0,l._)("div",t$,[s$,(0,l.wy)((0,l._)("select",{class:(0,p.C_)(["form-control form-select text-body",{"is-invalid":d.updateErrors.department_id}]),"onUpdate:modelValue":t[20]||(t[20]=e=>d.selectedUser.department_id=e)},[a$,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.departments,(e=>((0,l.wg)(),(0,l.iD)("option",{key:e._id,value:e._id},(0,p.zw)(e.department_name),9,l$)))),128))],2),[[a.bM,d.selectedUser.department_id]]),d.updateErrors.department_id?((0,l.wg)(),(0,l.iD)("div",o$,(0,p.zw)(d.updateErrors.department_id),1)):(0,l.kq)("",!0)])]),(0,l._)("td",null,[(0,l._)("div",d$,[r$,(0,l.wy)((0,l._)("select",{class:(0,p.C_)(["form-control form-select text-body",{"is-invalid":d.updateErrors.region_id}]),"onUpdate:modelValue":t[21]||(t[21]=e=>d.selectedUser.region_id=e)},[i$,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.regions,(e=>((0,l.wg)(),(0,l.iD)("option",{key:e._id,value:e._id},(0,p.zw)(e.region_name),9,n$)))),128))],2),[[a.bM,d.selectedUser.region_id]]),d.updateErrors.region_id?((0,l.wg)(),(0,l.iD)("div",c$,(0,p.zw)(d.updateErrors.region_id),1)):(0,l.kq)("",!0)])]),(0,l._)("td",null,[(0,l._)("div",u$,[_$,(0,l.wy)((0,l._)("select",{class:(0,p.C_)(["form-control form-select text-body",{"is-invalid":d.updateErrors.role_id}]),"onUpdate:modelValue":t[22]||(t[22]=e=>d.selectedUser.role_id=e)},b$,2),[[a.bM,d.selectedUser.role_id]]),d.updateErrors.role_id?((0,l.wg)(),(0,l.iD)("div",g$,(0,p.zw)(d.updateErrors.role_id),1)):(0,l.kq)("",!0)])])]),(0,l._)("tr",null,[(0,l._)("td",null,[v$,(0,l._)("div",null,[(0,l._)("img",{alt:"avatar",class:"float-sm-left wd-100p wd-sm-200 mg-t-10 mg-sm-t-0",src:"http://192.168.48.31:8080/"+d.selectedUser.oldAvatar},null,8,f$)])]),(0,l._)("td",y$,[w$,(0,l._)("input",{class:(0,p.C_)([{"is-invalid":d.updateErrors.avatar},"dropify"]),type:"file",id:"imageUpload",name:"avatar","data-height":"200",onChange:t[23]||(t[23]=(...e)=>r.handleImageChange&&r.handleImageChange(...e))},null,34),d.updateErrors.avatar?((0,l.wg)(),(0,l.iD)("div",k$,(0,p.zw)(d.updateErrors.avatar),1)):(0,l.kq)("",!0)])])])])]),d.showSuccessMessage?((0,l.wg)(),(0,l.iD)("div",x$,(0,p.zw)(d.successMessage),1)):(0,l.kq)("",!0),(0,l._)("div",C$,[D$,(0,l._)("button",{class:"btn ripple btn-danger ms-2",onClick:t[24]||(t[24]=e=>r.closeModal("updateUserModal","selectedUser","updateErrors")),type:"button"}," Đóng ")])],32)])])],512)],64)}var M$={mounted(){const e=document.createElement("script");e.src="/frontend/plugins/fileuploads/js/fileupload.js",e.async=!0,document.head.appendChild(e);const t=document.createElement("script");t.src="/frontend/plugins/fileuploads/js/file-upload.js",t.async=!0,document.head.appendChild(t),this.getUsers()},data(){return{users:[],storeUser:{email:"",username:"",password:"",repeat_password:"",fullname:"",avatar:"",gender:"",birthday:"",department_id:"",position_id:"",region_id:"",role_id:""},addErrors:[],selectedUser:[],dontCloseModal:!1,updateErrors:[],showSuccessMessage:!1,successMessage:"",positions:[],regions:[],departments:[]}},methods:{formatDate(e){if(!e)return"";const t=new Date(e);return isNaN(t.getTime())?e:(0,st.Z)(t,"MM/dd/yyyy")},loadtable(){this.$nextTick((()=>{nt.initializeDataTable("#userTable")}))},getUsers(){va.getData("account/listUser").then((e=>{this.users=e.data.data,this.positions=e.data.dataPosition,this.regions=e.data.dataRegion,this.departments=e.data.dataDepartment,this.loadtable(),console.log(e)})).catch((e=>{console.log(e)}))},handleImageChange(e){this.storeUser.avatar=e.target.files[0],this.selectedUser.avatar=e.target.files[0]},addUser(){const e={email:this.storeUser.email,username:this.storeUser.username,password:this.storeUser.password,repeat_password:this.storeUser.repeat_password,fullname:this.storeUser.fullname,avatar:this.storeUser.avatar,gender:this.storeUser.gender,birthday:this.storeUser.birthday,department_id:this.storeUser.department_id,position_id:this.storeUser.position_id,region_id:this.storeUser.region_id,role_id:this.storeUser.role_id},t=[{name:"email",label:"Email",maxLength:50,type:"email",nullable:!1},{name:"username",label:"Tên đăng nhập",maxLength:50,nullable:!1},{name:"password",label:"Mật khẩu",maxLength:50,nullable:!1},{name:"repeat_password",label:"Mật khẩu nhập lại",maxLength:50,nullable:!1},{name:"fullname",label:"Họ tên",maxLength:50,nullable:!1},{name:"avatar",label:"Ảnh đại diện",maxLength:50,type:"image",nullable:!0},{name:"gender",label:"Giới tính",maxLength:50,nullable:!1},{name:"birthday",label:"Ngày sinh",maxLength:50,nullable:!1},{name:"department_id",label:"Bộ phận",maxLength:50,nullable:!1},{name:"position_id",label:"Chức vụ",maxLength:50,nullable:!1},{name:"region_id",label:"Khu vực",maxLength:50,nullable:!1},{name:"role_id",label:"Quyền",maxLength:50,nullable:!1}];if(this.addErrors=nt.validateData(e,t),0===Object.keys(this.addErrors).length){const e=new FormData;e.append("email",this.storeUser.email),e.append("username",this.storeUser.username),e.append("password",this.storeUser.password),e.append("fullname",this.storeUser.fullname),e.append("avatar",this.storeUser.avatar),e.append("gender",this.storeUser.gender),e.append("birthday",this.storeUser.birthday),e.append("department_id",this.storeUser.department_id),e.append("position_id",this.storeUser.position_id),e.append("region_id",this.storeUser.region_id),e.append("role_id",this.storeUser.role_id),va.postData("account/registerUser",e,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{e.data.error?e.data.error.details.forEach((e=>{const t=e.message,s=e.path[0];this.errors[s]=[],this.errors[s]=t})):this.dontCloseModal?(this.getUsers(),this.storeUser={},this.showSuccessMessage=!0,this.successMessage="Thêm thành công",setTimeout((()=>{this.showSuccessMessage=!1}),1e3)):(this.getUsers(),this.closeModal("addUserModal","storeUser","errors"),nt.showSuccessAlert("Thêm thành công")),console.log(e)})).catch((e=>{console.error("Lỗi khi thêm người dùng:",e)}))}},deleteUser(e){nt.confirmDelete((()=>{va.deleteData(`account/deleteUser/?id=${e}`).then((e=>{nt.showSuccessAlert("Xóa thành công"),this.getUsers()})).catch((e=>{console.log(e)}))}))},closeModal(e,t,s){const a=this.$refs[e];$(a).modal("hide"),this[t]={},this[s]={}},editUser(e){this.selectedUser.oldAvatar=e.avatar,this.selectedUser.id=e._id,this.selectedUser.email=e.email,this.selectedUser.fullname=e.fullname,this.selectedUser.birthday=(0,st.Z)(new Date(e.birthday),"yyyy-MM-dd"),this.selectedUser.gender=e.gender,this.selectedUser.position_id=e.position_id,this.selectedUser.department_id=e.department_id,this.selectedUser.region_id=e.region_id,this.selectedUser.role_id=e.role_id},updateUser(){const e={email:this.selectedUser.email,fullname:this.selectedUser.fullname,avatar:this.selectedUser.avatar,gender:!1!==this.selectedUser.gender?this.selectedUser.gender:"0",birthday:this.selectedUser.birthday,department_id:this.selectedUser.department_id,position_id:this.selectedUser.position_id,region_id:this.selectedUser.region_id,role_id:this.selectedUser.role_id},t=[{name:"email",label:"Email",maxLength:50,nullable:!1},{name:"fullname",label:"Họ tên",maxLength:50,nullable:!1},{name:"avatar",label:"Ảnh đại diện",maxLength:50,nullable:!0,type:"image"},{name:"gender",label:"Giới tính",maxLength:50,nullable:!1},{name:"birthday",label:"Ngày sinh",maxLength:50,nullable:!1},{name:"department_id",label:"Bộ phận",maxLength:50,nullable:!1},{name:"position_id",label:"Chức vụ",maxLength:50,nullable:!1},{name:"region_id",label:"Khu vực",maxLength:50,nullable:!1},{name:"role_id",label:"Quyền",maxLength:50,nullable:!1}];if(this.updateErrors=nt.validateData(e,t),0===Object.keys(this.updateErrors).length){const e=new FormData;e.append("email",this.selectedUser.email),e.append("fullname",this.selectedUser.fullname),e.append("avatar",this.selectedUser.avatar),e.append("old_avatar",this.selectedUser.oldAvatar),e.append("gender",this.selectedUser.gender),e.append("birthday",this.selectedUser.birthday),e.append("department_id",this.selectedUser.department_id),e.append("position_id",this.selectedUser.position_id),e.append("region_id",this.selectedUser.region_id),e.append("role_id",this.selectedUser.role_id),va.putData(`account/updateUser/?id=${this.selectedUser.id}`,e,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{e.data.error?e.data.error.details.forEach((e=>{const t=e.message,s=e.path[0];this.updateErrors[s]=[],this.updateErrors[s]=t})):(nt.showSuccessAlert("Cập nhật thành công"),this.closeModal("updateUserModal","selectedUser","updateErrors"),this.getUsers())})).catch((e=>{console.error("Lỗi khi cập nhật bộ phận:",e)}))}}}};const S$=(0,r.Z)(M$,[["render",P$]]);var E$=S$;const T$={class:"main-content side-content pt-0"},z$={class:"main-container container-fluid pt-5"},U$={class:"inner-body"},j$=(0,l.uE)('<div class="page-header"><div><h2 class="main-content-title tx-24 mg-b-5">Tài Khoản</h2><ol class="breadcrumb"><li class="breadcrumb-item"><a href="#">Trang chủ</a></li><li class="breadcrumb-item active" aria-current="page">Tài khoản</li></ol></div></div>',1),q$={class:"row square"},I$={class:"col-lg-12 col-md-12"},L$={class:"card custom-card"},N$={class:"card-body"},R$={class:"panel profile-cover"},V$={class:"profile-cover__img"},Q$={class:"main-img-user avatar-xxl d-none d-sm-block mx-auto"},O$=["src"],A$={class:"h3 text-white"},J$=(0,l._)("div",{class:"profile-cover__action custom-profile-cover"},null,-1),$$=(0,l._)("div",{class:"profile-tab tab-menu-heading"},[(0,l._)("nav",{class:"nav main-nav-line p-3 tabs-menu profile-nav-line bg-gray-100"},[(0,l._)("a",{class:"nav-link active","data-bs-toggle":"tab",href:"#about"},"Thông tin tài khoản"),(0,l._)("a",{class:"nav-link","data-bs-toggle":"tab",href:"#edit"},"Đổi mật khẩu")])],-1),G$={class:"row row-sm"},W$={class:"col-lg-12 col-md-12"},B$={class:"card custom-card main-content-body-profile"},Y$={class:"tab-content"},H$={class:"main-content-body tab-pane p-4 border-top-0 active",id:"about"},K$={class:"card-body border"},Z$=(0,l._)("div",{class:"mb-4 main-content-label"},"Tài khoản",-1),F$={class:"table table-bordered"},X$={class:"form-group"},eG=(0,l._)("label",{class:"fw-bold"},"Email",-1),tG=["value"],sG={class:"form-group"},aG=(0,l._)("label",{class:"fw-bold"},"Ngày sinh",-1),lG=["value"],oG={class:"form-group"},dG=(0,l._)("label",{class:"fw-bold"},"Giới tính",-1),rG=["value"],iG={class:"form-group"},nG=(0,l._)("label",{class:"fw-bold"},"Bộ phận",-1),cG=["value"],uG={class:"form-group"},_G=(0,l._)("label",{class:"fw-bold"},"Khu vực",-1),pG=["value"],mG={class:"form-group"},hG=(0,l._)("label",{class:"fw-bold"},"Chức vụ",-1),bG=["value"],gG={class:"main-content-body tab-pane p-4 border-top-0",id:"edit"},vG={class:"card-body border"},fG=(0,l._)("div",{class:"mb-4 main-content-label"},"Đổi mật khẩu",-1),yG={class:"form-group"},wG={class:"row row-sm"},kG=(0,l._)("div",{class:"col-md-3"},[(0,l._)("label",{class:"form-label"},"Mật khẩu hiện tại")],-1),xG={class:"col-md-9"},CG={key:0,class:"invalid-feedback"},DG={class:"form-group"},PG={class:"row row-sm"},MG=(0,l._)("div",{class:"col-md-3"},[(0,l._)("label",{class:"form-label"},"Mật khẩu mới")],-1),SG={class:"col-md-9"},EG={key:0,class:"invalid-feedback"},TG={class:"form-group"},zG={class:"row row-sm"},UG=(0,l._)("div",{class:"col-md-3"},[(0,l._)("label",{class:"form-label"},"Nhập lại mật khẩu")],-1),jG={class:"col-md-9"},qG={key:0,class:"invalid-feedback"};function IG(e,t,s,o,d,r){return(0,l.wg)(),(0,l.iD)("div",T$,[(0,l._)("div",z$,[(0,l._)("div",U$,[j$,(0,l._)("div",q$,[(0,l._)("div",I$,[(0,l._)("div",L$,[(0,l._)("div",N$,[(0,l._)("div",R$,[(0,l._)("div",V$,[(0,l._)("div",Q$,[(0,l._)("img",{alt:"avatar",class:"rounded-circle",src:"http://192.168.48.31:8080/"+d.user.avatar},null,8,O$)]),(0,l._)("h3",A$,(0,p.zw)(d.user.fullname),1)]),J$]),$$])])])]),(0,l._)("div",G$,[(0,l._)("div",W$,[(0,l._)("div",B$,[(0,l._)("div",Y$,[(0,l._)("div",H$,[(0,l._)("div",K$,[Z$,(0,l._)("table",F$,[(0,l._)("tbody",null,[(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",X$,[eG,(0,l._)("input",{class:"form-control text-body",type:"email",placeholder:"Nhập email",value:d.user.email,readonly:""},null,8,tG)]),(0,l._)("div",sG,[aG,(0,l._)("input",{class:"form-control text-body",type:"text",value:d.user.birthday,readonly:""},null,8,lG)]),(0,l._)("div",oG,[dG,(0,l._)("input",{class:"form-control text-body",type:"text",value:d.user.gender?"Nam":"Nữ",readonly:""},null,8,rG)])]),(0,l._)("td",null,[(0,l._)("div",iG,[nG,(0,l._)("input",{class:"form-control text-body",type:"text",value:d.user.department,readonly:""},null,8,cG)]),(0,l._)("div",uG,[_G,(0,l._)("input",{class:"form-control text-body",type:"text",value:d.user.region,readonly:""},null,8,pG)]),(0,l._)("div",mG,[hG,(0,l._)("input",{class:"form-control text-body",type:"text",value:d.user.position,readonly:""},null,8,bG)])])])])])])]),(0,l._)("div",gG,[(0,l._)("div",vG,[fG,(0,l._)("div",yG,[(0,l._)("div",wG,[kG,(0,l._)("div",xG,[(0,l.wy)((0,l._)("input",{type:"password","onUpdate:modelValue":t[0]||(t[0]=e=>d.password.old_password=e),class:(0,p.C_)([{"is-invalid":d.changeErrors.old_password},"form-control text-body"]),placeholder:"Mật khẩu hiện tại"},null,2),[[a.nr,d.password.old_password]]),d.changeErrors.old_password?((0,l.wg)(),(0,l.iD)("div",CG,(0,p.zw)(d.changeErrors.old_password),1)):(0,l.kq)("",!0)])])]),(0,l._)("div",DG,[(0,l._)("div",PG,[MG,(0,l._)("div",SG,[(0,l.wy)((0,l._)("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>d.password.new_password=e),class:(0,p.C_)([{"is-invalid":d.changeErrors.new_password},"form-control text-body"]),placeholder:"Mật khẩu mới"},null,2),[[a.nr,d.password.new_password]]),d.changeErrors.new_password?((0,l.wg)(),(0,l.iD)("div",EG,(0,p.zw)(d.changeErrors.new_password),1)):(0,l.kq)("",!0)])])]),(0,l._)("div",TG,[(0,l._)("div",zG,[UG,(0,l._)("div",jG,[(0,l.wy)((0,l._)("input",{type:"password","onUpdate:modelValue":t[2]||(t[2]=e=>d.password.repeat_password=e),class:(0,p.C_)([{"is-invalid":d.changeErrors.repeat_password},"form-control text-body"]),placeholder:"Nhập lại mật khẩu"},null,2),[[a.nr,d.password.repeat_password]]),d.changeErrors.repeat_password?((0,l.wg)(),(0,l.iD)("div",qG,(0,p.zw)(d.changeErrors.repeat_password),1)):(0,l.kq)("",!0)])])]),(0,l._)("button",{class:"btn btn-primary",onClick:t[3]||(t[3]=(...e)=>r.changePassword&&r.changePassword(...e))},"Lưu")])])])])])])])])])}var LG={data(){return{user:[],password:[],changeErrors:[]}},mounted(){this.user=JSON.parse(sessionStorage.getItem("userLogin"))},methods:{changePassword(){const e={old_password:this.password.old_password,new_password:this.password.new_password,repeat_password:this.password.repeat_password},t=[{name:"old_password",label:"Mật khẩu hiện tại",maxLength:50,nullable:!1},{name:"new_password",label:"Mật khẩu mới",maxLength:50,nullable:!1,type:"password"},{name:"repeat_password",label:"Mật khẩu nhập lại",maxLength:50,nullable:!1}];this.changeErrors=nt.validateData(e,t),Object.keys(this.changeErrors).length>0||(e.new_password==e.repeat_password?va.putData(`account/changePasswordUser/${this.user.userID}`,e).then((e=>{console.log(e),console.log(e.data.status),421!=e.data.status?422!=e.data.status?(nt.showSuccessAlert("Đổi mật khẩu thành công"),this.password={}):this.changeErrors.repeat_password="Mật khẩu nhập lại không chính xác":this.changeErrors.old_password="Mật khẩu không chính xác"})).catch((e=>{console.log("Lỗi rồi ",e)})):this.changeErrors.repeat_password="Mật khẩu nhập lại không chính xác")}}};const NG=(0,r.Z)(LG,[["render",IG]]);var RG=NG;var VG=s(2482),QG=s(7851);class OG{constructor(){(0,VG.Z)(this,"socket",void 0)}setupSocketConnection(){this.socket=(0,QG.io)("http://192.168.48.31:5000/")}}new OG;const AG={class:"main-content side-content pt-0"},JG={class:"main-container container-fluid pt-5"},$G={class:"inner-body"},GG=(0,l.uE)('<div class="page-header"><div><h2 class="main-content-title tx-24 mg-b-5">Quản lý Module</h2><ol class="breadcrumb"><li class="breadcrumb-item"><a href="#">Trang chủ</a></li><li class="breadcrumb-item active" aria-current="page"> Module </li></ol></div><div class="d-flex"><div class="justify-content-center"><button type="button" class="btn btn-white btn-icon-text my-2 me-2"><i class="fe fe-download me-2"></i> Nhập </button><a data-bs-target="#add_module" data-bs-toggle="modal" class="btn btn-primary my-2 text-white"><i class="fa fa-plus"></i> Thêm mới </a></div></div></div>',1),WG={class:"row row-sm"},BG={class:"col-lg-12"},YG={class:"card custom-card"},HG={class:"card-body"},KG=(0,l._)("div",null,[(0,l._)("h6",{class:"main-content-label mb-1"},"Danh sách khu vực"),(0,l._)("p",{class:"text-muted card-sub-title"})],-1),ZG={class:"table-responsive"},FG=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{class:"wd-20p"},"STT"),(0,l._)("th",{class:"wd-25p"},"Đường dẫn"),(0,l._)("th",{class:"wd-20p"},"Biểu tượng"),(0,l._)("th",{class:"wd-20p"},"Module"),(0,l._)("th",{class:"wd-20p"},"Ghi chú"),(0,l._)("th",{class:"wd-15p"},"Thao tác")])],-1),XG=(0,l._)("tbody",null,[(0,l._)("tr",null,[(0,l._)("td",null,"1"),(0,l._)("td",null,"quality"),(0,l._)("td",null,"fas fa-check"),(0,l._)("td",null,"QA/QC"),(0,l._)("td"),(0,l._)("td",null,[(0,l._)("a",{"data-bs-target":"#update_module","data-bs-toggle":"modal",class:"btn ripple btn-main-primary text-white"},"Sửa"),(0,l._)("button",{class:"btn ripple btn-danger ms-1"},"Xóa")])]),(0,l._)("tr",null,[(0,l._)("td",null,"2"),(0,l._)("td",null,"assembly"),(0,l._)("td",null,"fas fa-wrench"),(0,l._)("td",null,"Lắp ráp"),(0,l._)("td"),(0,l._)("td",null,[(0,l._)("a",{"data-bs-target":"#update_module","data-bs-toggle":"modal",class:"btn ripple btn-main-primary text-white"},"Sửa"),(0,l._)("button",{class:"btn ripple btn-danger ms-1"},"Xóa")])]),(0,l._)("tr",null,[(0,l._)("td",null,"3"),(0,l._)("td",null,"welding"),(0,l._)("td",null,"fas fa-eye-dropper"),(0,l._)("td",null,"Hàn mạch"),(0,l._)("td"),(0,l._)("td",null,[(0,l._)("a",{"data-bs-target":"#update_module","data-bs-toggle":"modal",class:"btn ripple btn-main-primary text-white"},"Sửa"),(0,l._)("button",{class:"btn ripple btn-danger ms-1"},"Xóa")])]),(0,l._)("tr",null,[(0,l._)("td",null,"3"),(0,l._)("td",null,"jobsheet"),(0,l._)("td",null,"far fa-calendar-alt"),(0,l._)("td",null,"Jobsheet"),(0,l._)("td"),(0,l._)("td",null,[(0,l._)("a",{"data-bs-target":"#update_module","data-bs-toggle":"modal",class:"btn ripple btn-main-primary text-white"},"Sửa"),(0,l._)("button",{class:"btn ripple btn-danger ms-1"},"Xóa")])]),(0,l._)("tr",null,[(0,l._)("td",null,"3"),(0,l._)("td",null,"production_request"),(0,l._)("td",null,"fas fa-file-alt"),(0,l._)("td",null,"Yêu cầu sản xuất"),(0,l._)("td"),(0,l._)("td",null,[(0,l._)("a",{"data-bs-target":"#update_module","data-bs-toggle":"modal",class:"btn ripple btn-main-primary text-white"},"Sửa"),(0,l._)("button",{class:"btn ripple btn-danger ms-1"},"Xóa")])])],-1),eW={class:"modal",id:"add_module"},tW={class:"modal-dialog modal-lg",role:"document"},sW={class:"modal-content modal-content-demo"},aW=(0,l._)("div",{class:"modal-header"},[(0,l._)("h6",{class:"modal-title"},"Thêm mới module"),(0,l._)("button",{"aria-label":"Close",class:"btn-close","data-bs-dismiss":"modal",type:"button"})],-1),lW={class:"modal-body"},oW={class:"table"},dW={class:"align-top"},rW={class:"form-group"},iW=(0,l._)("label",{class:"fw-bold"},"Tên module",-1),nW={class:"align-top"},cW={class:"form-group"},uW=(0,l._)("label",{class:"fw-bold"},"Đường dẫn",-1),_W={class:"align-top"},pW={class:"form-group"},mW=(0,l._)("label",{class:"fw-bold"},"Biểu tượng",-1),hW={class:"align-top"},bW={class:"form-group"},gW=(0,l._)("label",{class:"fw-bold"},"Ghi chú",-1),vW=(0,l._)("div",{class:"modal-footer"},[(0,l._)("button",{class:"btn ripple btn-primary",type:"button"},"Lưu"),(0,l._)("button",{class:"btn ripple btn-light","data-bs-dismiss":"modal",type:"button"}," Đóng ")],-1),fW={class:"modal",id:"update_module"},yW={class:"modal-dialog modal-lg",role:"document"},wW={class:"modal-content modal-content-demo"},kW=(0,l._)("div",{class:"modal-header"},[(0,l._)("h6",{class:"modal-title"},"Cập nhật module"),(0,l._)("button",{"aria-label":"Close",class:"btn-close","data-bs-dismiss":"modal",type:"button"})],-1),xW={class:"modal-body"},CW={class:"table"},DW={class:"align-top"},PW={class:"form-group"},MW=(0,l._)("label",{class:"fw-bold"},"Tên module",-1),SW={class:"align-top"},EW={class:"form-group"},TW=(0,l._)("label",{class:"fw-bold"},"Đường dẫn",-1),zW={class:"align-top"},UW={class:"form-group"},jW=(0,l._)("label",{class:"fw-bold"},"Biểu tượng",-1),qW={class:"align-top"},IW={class:"form-group"},LW=(0,l._)("label",{class:"fw-bold"},"Ghi chú",-1),NW=(0,l._)("div",{class:"modal-footer"},[(0,l._)("button",{class:"btn ripple btn-primary",type:"button"},"Lưu"),(0,l._)("button",{class:"btn ripple btn-light","data-bs-dismiss":"modal",type:"button"}," Đóng ")],-1);function RW(e,t,s,o,d,r){const i=(0,l.up)("DataTable");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",AG,[(0,l._)("div",JG,[(0,l._)("div",$G,[GG,(0,l._)("div",WG,[(0,l._)("div",BG,[(0,l._)("div",YG,[(0,l._)("div",HG,[KG,(0,l._)("div",ZG,[(0,l.Wm)(i,{data:e.users,class:"table table-bordered",id:"example2"},{default:(0,l.w5)((()=>[FG,XG])),_:1},8,["data"])])])])])])])])]),(0,l._)("div",eW,[(0,l._)("div",tW,[(0,l._)("div",sW,[aW,(0,l._)("div",lW,[(0,l._)("table",oW,[(0,l._)("tbody",null,[(0,l._)("tr",null,[(0,l._)("td",dW,[(0,l._)("div",rW,[iW,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.moduleName=t),class:"form-control text-body",type:"text",placeholder:"Nhập tên module"},null,512),[[a.nr,e.moduleName]])])]),(0,l._)("td",nW,[(0,l._)("div",cW,[uW,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[1]||(t[1]=t=>e.modulePath=t),class:"form-control text-body",type:"text",placeholder:"Nhập đường dẫn"},null,512),[[a.nr,e.modulePath]])])])]),(0,l._)("tr",null,[(0,l._)("td",_W,[(0,l._)("div",pW,[mW,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[2]||(t[2]=t=>e.moduleIcon=t),class:"form-control text-body",type:"text",placeholder:"Nhập biểu tượng"},null,512),[[a.nr,e.moduleIcon]])])]),(0,l._)("td",hW,[(0,l._)("div",bW,[gW,(0,l.wy)((0,l._)("textarea",{"onUpdate:modelValue":t[3]||(t[3]=t=>e.moduleNote=t),class:"form-control text-body",name:"",rows:"5",placeholder:"Nhập ghi chú"},null,512),[[a.nr,e.moduleNote]])])])])])])]),vW])])]),(0,l._)("div",fW,[(0,l._)("div",yW,[(0,l._)("div",wW,[kW,(0,l._)("div",xW,[(0,l._)("table",CW,[(0,l._)("tbody",null,[(0,l._)("tr",null,[(0,l._)("td",DW,[(0,l._)("div",PW,[MW,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[4]||(t[4]=t=>e.moduleName=t),class:"form-control text-body",type:"text",placeholder:"Nhập tên module"},null,512),[[a.nr,e.moduleName]])])]),(0,l._)("td",SW,[(0,l._)("div",EW,[TW,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[5]||(t[5]=t=>e.modulePath=t),class:"form-control text-body",type:"text",placeholder:"Nhập đường dẫn"},null,512),[[a.nr,e.modulePath]])])])]),(0,l._)("tr",null,[(0,l._)("td",zW,[(0,l._)("div",UW,[jW,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[6]||(t[6]=t=>e.moduleIcon=t),class:"form-control text-body",type:"text",placeholder:"Nhập biểu tượng"},null,512),[[a.nr,e.moduleIcon]])])]),(0,l._)("td",qW,[(0,l._)("div",IW,[LW,(0,l.wy)((0,l._)("textarea",{"onUpdate:modelValue":t[7]||(t[7]=t=>e.moduleNote=t),class:"form-control text-body",name:"",rows:"5",placeholder:"Nhập ghi chú"},null,512),[[a.nr,e.moduleNote]])])])])])])]),NW])])])],64)}ot.Z.use(dt.Z);var VW={name:"ListModule",components:{DataTable:ot.Z},data(){return{modules:null}}};const QW=(0,r.Z)(VW,[["render",RW]]);var OW=QW;const AW={class:"main-content side-content pt-0"},JW={class:"main-container container-fluid pt-5"},$W={class:"inner-body"},GW=(0,l.uE)('<div class="page-header"><div><h2 class="main-content-title tx-24 mg-b-5"> Quản lý phân quyền </h2><ol class="breadcrumb"><li class="breadcrumb-item"><a href="#">Trang chủ</a></li><li class="breadcrumb-item active" aria-current="page"> Phân quyền </li></ol></div><div class="d-flex"><div class="justify-content-center"><button type="button" class="btn btn-white btn-icon-text my-2 me-2"><i class="fe fe-download me-2"></i> Nhập </button><a data-bs-target="#add_permission" data-bs-toggle="modal" class="btn btn-primary my-2 text-white"><i class="fa fa-plus"></i> Thêm mới </a></div></div></div>',1),WW={class:"row row-sm"},BW={class:"col-lg-12"},YW={class:"card custom-card"},HW={class:"card-body"},KW=(0,l._)("div",null,[(0,l._)("h6",{class:"main-content-label mb-1"},"Danh sách khu vực"),(0,l._)("p",{class:"text-muted card-sub-title"})],-1),ZW={class:"table-responsive"},FW=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{class:"wd-20p"},"STT"),(0,l._)("th",{class:"wd-25p"},"Mã quyền"),(0,l._)("th",{class:"wd-20p"},"Mô tả"),(0,l._)("th",{class:"wd-20p"},"Ghi chú"),(0,l._)("th",{class:"wd-15p"},"Thao tác")])],-1),XW=(0,l._)("tbody",null,[(0,l._)("tr",null,[(0,l._)("td",null,"1"),(0,l._)("td",null,"AP"),(0,l._)("td",null,"Duyệt phiếu YCSX"),(0,l._)("td"),(0,l._)("td",null,[(0,l._)("a",{"data-bs-target":"#update_permission","data-bs-toggle":"modal",class:"btn ripple btn-main-primary text-white"},"Sửa"),(0,l._)("button",{class:"btn ripple btn-danger ms-1"},"Xóa")])]),(0,l._)("tr",null,[(0,l._)("td",null,"2"),(0,l._)("td",null,"SM"),(0,l._)("td",null,"Quản lý kho"),(0,l._)("td"),(0,l._)("td",null,[(0,l._)("a",{"data-bs-target":"#update_permission","data-bs-toggle":"modal",class:"btn ripple btn-main-primary text-white"},"Sửa"),(0,l._)("button",{class:"btn ripple btn-danger ms-1"},"Xóa")])]),(0,l._)("tr",null,[(0,l._)("td",null,"3"),(0,l._)("td",null,"AJ"),(0,l._)("td",null,"Quản lý Jobsheet"),(0,l._)("td"),(0,l._)("td",null,[(0,l._)("a",{"data-bs-target":"#update_permission","data-bs-toggle":"modal",class:"btn ripple btn-main-primary text-white"},"Sửa"),(0,l._)("button",{class:"btn ripple btn-danger ms-1"},"Xóa")])])],-1),eB={class:"modal",id:"add_permission"},tB={class:"modal-dialog modal-lg",role:"document"},sB={class:"modal-content modal-content-demo"},aB=(0,l._)("div",{class:"modal-header"},[(0,l._)("h6",{class:"modal-title"},"Thêm mới quyền"),(0,l._)("button",{"aria-label":"Close",class:"btn-close","data-bs-dismiss":"modal",type:"button"})],-1),lB={class:"modal-body"},oB={class:"table"},dB={class:"form-group"},rB=(0,l._)("label",{class:"fw-bold"},"Mã quyền",-1),iB={class:"form-group"},nB=(0,l._)("label",{class:"fw-bold"},"Mô tả",-1),cB={colspan:"2"},uB={class:"form-group"},_B=(0,l._)("label",{class:"fw-bold"},"Ghi chú",-1),pB=(0,l._)("div",{class:"modal-footer"},[(0,l._)("button",{class:"btn ripple btn-primary",type:"button"},"Lưu"),(0,l._)("button",{class:"btn ripple btn-light","data-bs-dismiss":"modal",type:"button"}," Đóng ")],-1),mB={class:"modal",id:"update_permission"},hB={class:"modal-dialog modal-lg",role:"document"},bB={class:"modal-content modal-content-demo"},gB=(0,l._)("div",{class:"modal-header"},[(0,l._)("h6",{class:"modal-title"},"Cập nhật quyền"),(0,l._)("button",{"aria-label":"Close",class:"btn-close","data-bs-dismiss":"modal",type:"button"})],-1),vB={class:"modal-body"},fB={class:"table"},yB={class:"form-group"},wB=(0,l._)("label",{class:"fw-bold"},"Mã quyền",-1),kB={class:"form-group"},xB=(0,l._)("label",{class:"fw-bold"},"Mô tả",-1),CB={colspan:"2"},DB={class:"form-group"},PB=(0,l._)("label",{class:"fw-bold"},"Ghi chú",-1),MB=(0,l._)("div",{class:"modal-footer"},[(0,l._)("button",{class:"btn ripple btn-primary",type:"button"},"Lưu"),(0,l._)("button",{class:"btn ripple btn-light","data-bs-dismiss":"modal",type:"button"}," Đóng ")],-1);function SB(e,t,s,o,d,r){const i=(0,l.up)("DataTable");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",AW,[(0,l._)("div",JW,[(0,l._)("div",$W,[GW,(0,l._)("div",WW,[(0,l._)("div",BW,[(0,l._)("div",YW,[(0,l._)("div",HW,[KW,(0,l._)("div",ZW,[(0,l.Wm)(i,{data:d.permissions,class:"table table-bordered",id:"example2"},{default:(0,l.w5)((()=>[FW,XW])),_:1},8,["data"])])])])])])])])]),(0,l._)("div",eB,[(0,l._)("div",tB,[(0,l._)("div",sB,[aB,(0,l._)("div",lB,[(0,l._)("table",oB,[(0,l._)("tbody",null,[(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",dB,[rB,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.permissionCode=t),class:"form-control text-body",type:"text",placeholder:"Nhập mã quyền"},null,512),[[a.nr,e.permissionCode]])])]),(0,l._)("td",null,[(0,l._)("div",iB,[nB,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[1]||(t[1]=t=>e.description=t),class:"form-control text-body",type:"text",placeholder:"Nhập Mô tả"},null,512),[[a.nr,e.description]])])])]),(0,l._)("tr",null,[(0,l._)("td",cB,[(0,l._)("div",uB,[_B,(0,l.wy)((0,l._)("textarea",{"onUpdate:modelValue":t[2]||(t[2]=t=>e.note=t),class:"form-control text-body",name:"",rows:"5",placeholder:"Nhập ghi chú"},null,512),[[a.nr,e.note]])])])])])])]),pB])])]),(0,l._)("div",mB,[(0,l._)("div",hB,[(0,l._)("div",bB,[gB,(0,l._)("div",vB,[(0,l._)("table",fB,[(0,l._)("tbody",null,[(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",yB,[wB,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[3]||(t[3]=t=>e.permissionCode=t),class:"form-control text-body",type:"text",placeholder:"Nhập mã quyền"},null,512),[[a.nr,e.permissionCode]])])]),(0,l._)("td",null,[(0,l._)("div",kB,[xB,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[4]||(t[4]=t=>e.description=t),class:"form-control text-body",type:"text",placeholder:"Nhập Mô tả"},null,512),[[a.nr,e.description]])])])]),(0,l._)("tr",null,[(0,l._)("td",CB,[(0,l._)("div",DB,[PB,(0,l.wy)((0,l._)("textarea",{"onUpdate:modelValue":t[5]||(t[5]=t=>e.note=t),class:"form-control text-body",name:"",rows:"5",placeholder:"Nhập ghi chú"},null,512),[[a.nr,e.note]])])])])])])]),MB])])])],64)}ot.Z.use(dt.Z);var EB={name:"ListPermission",components:{DataTable:ot.Z},data(){return{permissions:null}}};const TB=(0,r.Z)(EB,[["render",SB]]);var zB=TB;const UB={class:"main-content side-content pt-0"},jB={class:"main-container container-fluid pt-5"},qB={class:"inner-body"},IB=(0,l.uE)('<div class="page-header"><div><h2 class="main-content-title tx-24 mg-b-5">Quản lý gói cước</h2><ol class="breadcrumb"><li class="breadcrumb-item"><a href="#">Trang chủ</a></li><li class="breadcrumb-item active" aria-current="page"> gói cước </li></ol></div><div class="d-flex"><div class="justify-content-center"><a data-bs-target="#add_Package" data-bs-toggle="modal" class="btn btn-primary btn-rounded my-2 text-white"><i class="fe fe-plus"></i> Thêm mới </a></div></div></div>',1),LB={class:"row row-sm"},NB={class:"col-lg-12"},RB={class:"card custom-card"},VB={class:"card-body"},QB=(0,l._)("div",null,[(0,l._)("h6",{class:"main-content-label mb-1"},"Danh sách gói cước"),(0,l._)("p",{class:"text-muted card-sub-title"})],-1),OB={class:"table-responsive"},AB=["data"],JB=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{class:"wd-20p"},"STT"),(0,l._)("th",{class:"wd-25p"},"Thời hạn (tháng)"),(0,l._)("th",{class:"wd-25p"},"Mô tả"),(0,l._)("th",{class:"wd-15p"},"Thao tác")])],-1),$B=["onClick"],GB=(0,l._)("i",{class:"fe fe-edit-2"},null,-1),WB=[GB],BB=["onClick"],YB=(0,l._)("i",{class:"fe fe-trash"},null,-1),HB=[YB],KB={class:"modal",id:"add_Package",ref:"addPackageModal"},ZB={class:"modal-dialog modal-lg",role:"document"},FB={class:"modal-content modal-content-demo"},XB=(0,l._)("div",{class:"modal-header"},[(0,l._)("h6",{class:"modal-title"},"Thêm mới gói cước"),(0,l._)("button",{"aria-label":"Close",class:"btn-close","data-bs-dismiss":"modal",type:"button"})],-1),eY={class:"modal-body"},tY={class:"table"},sY={class:"form-group"},aY=(0,l._)("label",{class:"fw-bold"},"Thời hạn (tháng)",-1),lY={key:0,class:"invalid-feedback mt-2"},oY={class:"form-group"},dY=(0,l._)("label",{class:"fw-bold"},"Mô tả",-1),rY={key:0,class:"invalid-feedback"},iY={key:0,class:"alert alert-success text-center"},nY={class:"modal-footer d-flex justify-content-between"},cY={class:"form-check"},uY=(0,l._)("label",{class:"form-check-label fw-bold"},"Không đóng màn hình",-1),_Y=(0,l._)("button",{class:"btn ripple btn-primary",type:"submit"},"Lưu",-1),pY={class:"modal",id:"update_Package",ref:"updatePackageModal"},mY={class:"modal-dialog modal-lg",role:"document"},hY={class:"modal-content modal-content-demo"},bY=(0,l._)("div",{class:"modal-header"},[(0,l._)("h6",{class:"modal-title"},"Cập nhật gói cước"),(0,l._)("button",{"aria-label":"Close",class:"btn-close","data-bs-dismiss":"modal",type:"button"})],-1),gY={class:"modal-body"},vY={class:"table"},fY={class:"form-group"},yY=(0,l._)("label",{class:"fw-bold"},"Thời hạn (tháng)",-1),wY={key:0,class:"invalid-feedback"},kY={class:"form-group"},xY=(0,l._)("label",{class:"fw-bold"},"Mô tả",-1),CY={key:0,class:"invalid-feedback"},DY={class:"modal-footer"},PY=(0,l._)("button",{class:"btn ripple btn-primary",type:"submit"},"Lưu",-1);function MY(e,t,s,o,d,r){return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",UB,[(0,l._)("div",jB,[(0,l._)("div",qB,[IB,(0,l._)("div",LB,[(0,l._)("div",NB,[(0,l._)("div",RB,[(0,l._)("div",VB,[QB,(0,l._)("div",OB,[(0,l._)("table",{data:d.packages,class:"table table-bordered",id:"PackageTable"},[JB,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.packages,((e,t)=>((0,l.wg)(),(0,l.iD)("tr",{key:e._id},[(0,l._)("td",null,(0,p.zw)(t+1),1),(0,l._)("td",null,(0,p.zw)(e.sim_package_expiration),1),(0,l._)("td",null,(0,p.zw)(e.sim_package_description),1),(0,l._)("td",null,[(0,l._)("a",{onClick:t=>r.editPackage(e),"data-bs-target":"#update_Package","data-bs-toggle":"modal",class:"btn btn-sm btn-outline-info ms-1"},WB,8,$B),(0,l._)("a",{onClick:t=>r.deletePackage(e._id),class:"btn btn-sm btn-outline-danger ms-1"},HB,8,BB)])])))),128))])],8,AB)])])])])])])])]),(0,l._)("div",KB,[(0,l._)("div",ZB,[(0,l._)("div",FB,[XB,(0,l._)("form",{onSubmit:t[4]||(t[4]=(0,a.iM)(((...e)=>r.addPackage&&r.addPackage(...e)),["prevent"]))},[(0,l._)("div",eY,[(0,l._)("table",tY,[(0,l._)("tbody",null,[(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",sY,[aY,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>d.storePackage.sim_package_expiration=e),class:(0,p.C_)(["form-control text-body",{"is-invalid":d.addErrors.sim_package_expiration}]),name:"sim_package_expiration",type:"number",placeholder:"Nhập Thời hạn"},null,2),[[a.nr,d.storePackage.sim_package_expiration]]),d.addErrors.sim_package_expiration?((0,l.wg)(),(0,l.iD)("div",lY,(0,p.zw)(d.addErrors.sim_package_expiration),1)):(0,l.kq)("",!0)])]),(0,l._)("td",null,[(0,l._)("div",oY,[dY,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>d.storePackage.sim_package_description=e),class:(0,p.C_)(["form-control text-body",{"is-invalid":d.addErrors.sim_package_description}]),name:"sim_package_description",type:"text",placeholder:"Nhập Mô tả"},null,2),[[a.nr,d.storePackage.sim_package_description]]),d.addErrors.sim_package_description?((0,l.wg)(),(0,l.iD)("div",rY,(0,p.zw)(d.addErrors.sim_package_description),1)):(0,l.kq)("",!0)])])])])])]),d.showSuccessMessage?((0,l.wg)(),(0,l.iD)("div",iY,(0,p.zw)(d.successMessage),1)):(0,l.kq)("",!0),(0,l._)("div",nY,[(0,l._)("div",cY,[(0,l.wy)((0,l._)("input",{class:"form-check-input",type:"checkbox",id:"check1",name:"option1",value:"something","onUpdate:modelValue":t[2]||(t[2]=e=>d.dontCloseModal=e)},null,512),[[a.e8,d.dontCloseModal]]),uY]),(0,l._)("div",null,[_Y,(0,l._)("button",{class:"btn ripple btn-danger ms-2",onClick:t[3]||(t[3]=e=>r.closeModal("addPackageModal","storePackage","addErrors")),type:"button"}," Đóng ")])])],32)])])],512),(0,l._)("div",pY,[(0,l._)("div",mY,[(0,l._)("div",hY,[bY,(0,l._)("form",{onSubmit:t[8]||(t[8]=(0,a.iM)(((...e)=>r.updatePackage&&r.updatePackage(...e)),["prevent"]))},[(0,l._)("div",gY,[(0,l._)("table",vY,[(0,l._)("tbody",null,[(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",fY,[yY,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>d.selectedPackage.sim_package_expiration=e),class:(0,p.C_)([{"is-invalid":d.updateErrors.sim_package_expiration},"form-control text-body"]),type:"number",placeholder:"Nhập Thời hạn"},null,2),[[a.nr,d.selectedPackage.sim_package_expiration]]),d.updateErrors.sim_package_expiration?((0,l.wg)(),(0,l.iD)("div",wY,(0,p.zw)(d.updateErrors.sim_package_expiration),1)):(0,l.kq)("",!0)])]),(0,l._)("td",null,[(0,l._)("div",kY,[xY,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>d.selectedPackage.sim_package_description=e),class:(0,p.C_)(["form-control text-body",{"is-invalid":d.updateErrors.sim_package_description}]),type:"text",placeholder:"Nhập Mô tả"},null,2),[[a.nr,d.selectedPackage.sim_package_description]]),d.updateErrors.sim_package_description?((0,l.wg)(),(0,l.iD)("div",CY,(0,p.zw)(d.updateErrors.sim_package_description),1)):(0,l.kq)("",!0)])])])])])]),(0,l._)("div",DY,[PY,(0,l._)("button",{class:"btn ripple btn-danger",onClick:t[7]||(t[7]=e=>r.closeModal("updatePackageModal","selectedPackage","updateErrors")),type:"button"}," Đóng ")])],32)])])],512)],64)}var SY={data(){return{packages:[],storePackage:{sim_package_expiration:"",sim_package_description:""},selectedPackage:[],dontCloseModal:!1,addErrors:[],updateErrors:[],showSuccessMessage:!1,successMessage:""}},mounted(){this.getpackages()},methods:{loadtable(){this.$nextTick((()=>{nt.initializeDataTable("#PackageTable")}))},getpackages(){va.getData("sim-package/listSimPackage").then((e=>{this.packages=e.data.data,this.loadtable()})).catch((e=>{nt.errorRedirect()}))},addPackage(){const e={sim_package_expiration:this.storePackage.sim_package_expiration,sim_package_description:this.storePackage.sim_package_description},t=[{name:"sim_package_expiration",label:"Thời hạn",maxLength:50,type:"number",nullable:!1},{name:"sim_package_description",label:"Mô tả",maxLength:50,nullable:!1}];this.addErrors=nt.validateData(e,t),0===Object.keys(this.addErrors).length&&va.postData("sim-package/storeSimPackage",e).then((e=>{e.data.error?e.data.error.details.forEach((e=>{const t=e.message,s=e.path[0];this.errors[s]=[],this.errors[s]=t})):this.dontCloseModal?(this.getpackages(),this.storePackage={},this.showSuccessMessage=!0,this.successMessage="Thêm thành công",setTimeout((()=>{this.showSuccessMessage=!1}),1e3)):(this.getpackages(),this.closeModal("addPackageModal","storePackage","errors"),nt.showSuccessAlert("Thêm thành công"))})).catch((e=>{console.error("Lỗi khi thêm gói cước:",e)}))},deletePackage(e){nt.confirmDelete((()=>{va.deleteData(`sim-package/deleteSimPackage/?id=${e}`).then((e=>{nt.showSuccessAlert("Xóa thành công"),this.getpackages()})).catch((e=>{console.error("Lỗi khi xóa gói cước:",e)}))}))},closeModal(e,t,s){const a=this.$refs[e];$(a).modal("hide"),this[t]={},this[s]={}},editPackage(e){this.selectedPackage.id=e._id,this.selectedPackage.sim_package_expiration=e.sim_package_expiration,this.selectedPackage.sim_package_description=e.sim_package_description},updatePackage(){const e={sim_package_expiration:this.selectedPackage.sim_package_expiration,sim_package_description:this.selectedPackage.sim_package_description},t=[{name:"sim_package_expiration",label:"Thời hạn",maxLength:50,type:"number",nullable:!1},{name:"sim_package_description",label:"Mô tả",maxLength:50,nullable:!1},{name:"Package_note",label:"Ghi chú",maxLength:50,nullable:!0}];this.updateErrors=nt.validateData(e,t),0===Object.keys(this.updateErrors).length&&va.putData(`sim-package/updateSimPackage/${this.selectedPackage.id}`,e).then((e=>{e.data.error?e.data.error.details.forEach((e=>{const t=e.message,s=e.path[0];this.updateErrors[s]=[],this.updateErrors[s]=t})):(nt.showSuccessAlert("Cập nhật thành công"),this.closeModal("updatePackageModal","selectedPackage","updateErrors"),this.getpackages())})).catch((e=>{console.error("Lỗi khi cập nhật gói cước:",e)}))}}};const EY=(0,r.Z)(SY,[["render",MY]]);var TY=EY;const zY={class:"main-content side-content pt-0"},UY={class:"main-container container-fluid pt-5"},jY={class:"inner-body"},qY=(0,l.uE)('<div class="page-header"><div><h2 class="main-content-title tx-24 mg-b-5"> Quản lý SIM/E-SIM </h2><ol class="breadcrumb"><li class="breadcrumb-item"><a href="#">Trang chủ</a></li><li class="breadcrumb-item active" aria-current="page"> SIM/E-SIM </li></ol></div><div class="d-flex"><div class="justify-content-center"><a data-bs-target="#add_sim" data-bs-toggle="modal" class="btn btn-primary btn-rounded my-2 text-white"><i class="fe fe-plus"></i> Thêm mới </a></div></div></div>',1),IY={class:"row row-sm"},LY={class:"col-lg-12"},NY={class:"card custom-card"},RY={class:"card-body"},VY=(0,l._)("div",null,[(0,l._)("h6",{class:"main-content-label mb-1"}," Danh sách SIM/E-SIM "),(0,l._)("p",{class:"text-muted card-sub-title"})],-1),QY={class:"table-responsive"},OY=["data"],AY=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",null,"STT"),(0,l._)("th",null,"Serial"),(0,l._)("th",null,"Số lot board"),(0,l._)("th",null,"Tên board"),(0,l._)("th",null,"Gói cước"),(0,l._)("th",null,"Ngày kích hoạt"),(0,l._)("th",null,"Ngày hết hạn"),(0,l._)("th",null,"Mục đích"),(0,l._)("th",null,"Phân loại"),(0,l._)("th",null,"Trạng thái"),(0,l._)("th",null,"cảnh báo"),(0,l._)("th",null,"Thao tác")])],-1),JY={key:0},$Y={key:1},GY={key:0},WY={key:1},BY={key:0},YY={key:1},HY={class:"label text-danger d-flex align-items-center"},KY={key:0,class:"dot-label bg-danger me-1"},ZY=["onClick"],FY=(0,l._)("i",{class:"fe fe-edit-2"},null,-1),XY=[FY],eH=["onClick"],tH=(0,l._)("i",{class:"fe fe-trash"},null,-1),sH=[tH],aH={class:"modal",id:"add_sim",ref:"addSimModal"},lH={class:"modal-dialog modal-lg",role:"document"},oH={class:"modal-content modal-content-demo"},dH=(0,l._)("div",{class:"modal-header"},[(0,l._)("h6",{class:"modal-title"},"Thêm mới SIM/E-SIM"),(0,l._)("button",{"aria-label":"Close",class:"btn-close","data-bs-dismiss":"modal",type:"button"})],-1),rH={class:"modal-body"},iH={class:"table"},nH={class:"form-group"},cH=(0,l._)("label",{class:"fw-bold"},"Số SIM/E-SIM",-1),uH={key:0,class:"invalid-feedback mt-2"},_H={class:"form-group"},pH=(0,l._)("label",{class:"fw-bold"},"Phân loại",-1),mH=(0,l._)("option",{value:"",disabled:"",selected:""},"Chọn loại",-1),hH=(0,l._)("option",{selected:""},"SIM",-1),bH=(0,l._)("option",null,"E-SIM",-1),gH=[mH,hH,bH],vH={key:0,class:"invalid-feedback mt-2"},fH={colspan:"2"},yH={class:"form-group"},wH=(0,l._)("label",{class:"fw-bold"},"Ghi chú",-1),kH={key:0,class:"alert alert-success text-center"},xH={class:"modal-footer d-flex justify-content-between"},CH={class:"form-check"},DH=(0,l._)("label",{class:"form-check-label fw-bold"},"Không đóng màn hình",-1),PH=(0,l._)("button",{class:"btn ripple btn-primary",type:"submit"},"Lưu",-1),MH={class:"modal",id:"update_sim",ref:"updateSimModal"},SH={class:"modal-dialog modal-lg",role:"document"},EH={class:"modal-content modal-content-demo"},TH=(0,l._)("div",{class:"modal-header"},[(0,l._)("h6",{class:"modal-title"},"Cập nhật SIM/E-SIM"),(0,l._)("button",{"aria-label":"Close",class:"btn-close","data-bs-dismiss":"modal",type:"button"})],-1),zH={class:"modal-body"},UH={class:"row row-sm"},jH={class:"col-lg-12 col-md-12"},qH={class:"card custom-card"},IH={class:"card-body"},LH={class:"table"},NH={class:"form-group"},RH=(0,l._)("label",{class:"fw-bold"},"Số SIM/E-SIM",-1),VH={key:0,class:"invalid-feedback mt-2"},QH={class:"form-group"},OH=(0,l._)("label",{class:"fw-bold"},"Phân loại",-1),AH=(0,l._)("option",{value:"",disabled:"",selected:""},"Chọn loại",-1),JH=(0,l._)("option",null,"SIM",-1),$H=(0,l._)("option",null,"E-SIM",-1),GH=[AH,JH,$H],WH={key:0,class:"invalid-feedback mt-2"},BH={colspan:"2"},YH={class:"form-group"},HH=(0,l._)("label",{class:"fw-bold"},"Ghi chú",-1),KH={class:"modal-footer"},ZH=(0,l._)("button",{class:"btn ripple btn-primary",type:"submit"},"Lưu",-1);function FH(e,t,s,o,d,r){return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",zY,[(0,l._)("div",UY,[(0,l._)("div",jY,[qY,(0,l._)("div",IY,[(0,l._)("div",LY,[(0,l._)("div",NY,[(0,l._)("div",RY,[VY,(0,l._)("div",QY,[(0,l._)("table",{data:d.sims,class:"table table-bordered",id:"simTable"},[AY,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.sims,((e,t)=>((0,l.wg)(),(0,l.iD)("tr",{key:e._id},[(0,l._)("td",null,(0,p.zw)(t+1),1),(0,l._)("td",null,(0,p.zw)(e.serial_sim),1),(0,l._)("td",null,[e.semi_products&&e.semi_products[0]&&e.semi_products[0].semi_product_lot?((0,l.wg)(),(0,l.iD)("span",JY,(0,p.zw)(e.semi_products[0].semi_product_lot),1)):((0,l.wg)(),(0,l.iD)("span",$Y))]),(0,l._)("td",null,[e.semi_products&&e.semi_products[0]&&e.semi_products[0].semi_product_name?((0,l.wg)(),(0,l.iD)("span",GY,(0,p.zw)(e.semi_products[0].semi_product_name),1)):((0,l.wg)(),(0,l.iD)("span",WY))]),(0,l._)("td",null,[e.sim_package&&e.sim_package[0]&&e.sim_package[0].sim_package_expiration?((0,l.wg)(),(0,l.iD)("span",BY,(0,p.zw)(e.sim_package[0].sim_package_expiration)+" Tháng ",1)):((0,l.wg)(),(0,l.iD)("span",YY))]),(0,l._)("td",null,(0,p.zw)(e.activation_date),1),(0,l._)("td",null,(0,p.zw)(e.expiration_date),1),(0,l._)("td",null,(0,p.zw)(e.purpose),1),(0,l._)("td",null,[(0,l._)("span",{class:(0,p.C_)("E-SIM"===e.sim_type?"tag tag-success tag-pill":"tag tag-warning tag-pill")},(0,p.zw)("E-SIM"==e.sim_type?"E-SIM":"SIM"==e.sim_type?"SIM":""),3)]),(0,l._)("td",null,[(0,l._)("span",{class:(0,p.C_)(["badge bg-pill",r.getStatus(e.sim_status)])},(0,p.zw)(e.sim_status),3)]),(0,l._)("td",null,[(0,l._)("span",HY,[e.sim_warning?((0,l.wg)(),(0,l.iD)("span",KY)):(0,l.kq)("",!0),(0,l.Uk)((0,p.zw)(e.sim_warning),1)])]),(0,l._)("td",null,[(0,l._)("a",{onClick:t=>r.editSim(e),"data-bs-target":"#update_sim","data-bs-toggle":"modal",class:"btn btn-sm btn-outline-info ms-1"},XY,8,ZY),(0,l._)("a",{onClick:t=>r.deleteSim(e._id),class:"btn btn-sm btn-outline-danger ms-1"},sH,8,eH)])])))),128))])],8,OY)])])])])])])])]),(0,l._)("div",aH,[(0,l._)("div",lH,[(0,l._)("div",oH,[dH,(0,l._)("form",{onSubmit:t[5]||(t[5]=(0,a.iM)(((...e)=>r.addSim&&r.addSim(...e)),["prevent"]))},[(0,l._)("div",rH,[(0,l._)("table",iH,[(0,l._)("tbody",null,[(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",nH,[cH,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>d.storeSim.serial_sim=e),class:(0,p.C_)([{"is-invalid":d.addErrors.serial_sim},"form-control text-body"]),type:"text",placeholder:"Nhập số SIM/E-SIM"},null,2),[[a.nr,d.storeSim.serial_sim]]),d.addErrors.serial_sim?((0,l.wg)(),(0,l.iD)("div",uH,(0,p.zw)(d.addErrors.serial_sim),1)):(0,l.kq)("",!0)])]),(0,l._)("td",null,[(0,l._)("div",_H,[pH,(0,l.wy)((0,l._)("select",{class:(0,p.C_)(["form-control form-select text-body",{"is-invalid":d.addErrors.sim_type}]),"onUpdate:modelValue":t[1]||(t[1]=e=>d.storeSim.sim_type=e)},gH,2),[[a.bM,d.storeSim.sim_type]]),d.addErrors.sim_type?((0,l.wg)(),(0,l.iD)("div",vH,(0,p.zw)(d.addErrors.sim_type),1)):(0,l.kq)("",!0)])])]),(0,l._)("tr",null,[(0,l._)("td",fH,[(0,l._)("div",yH,[wH,(0,l.wy)((0,l._)("textarea",{class:"form-control text-body",name:"","onUpdate:modelValue":t[2]||(t[2]=e=>d.storeSim.manage_sim_note=e),rows:"5",placeholder:"Nhập ghi chú"},null,512),[[a.nr,d.storeSim.manage_sim_note]])])])])])])]),d.showSuccessMessage?((0,l.wg)(),(0,l.iD)("div",kH,(0,p.zw)(d.successMessage),1)):(0,l.kq)("",!0),(0,l._)("div",xH,[(0,l._)("div",CH,[(0,l.wy)((0,l._)("input",{class:"form-check-input",type:"checkbox",id:"check1",name:"option1",value:"something","onUpdate:modelValue":t[3]||(t[3]=e=>d.dontCloseModal=e)},null,512),[[a.e8,d.dontCloseModal]]),DH]),(0,l._)("div",null,[PH,(0,l._)("button",{class:"btn ripple btn-danger ms-2",onClick:t[4]||(t[4]=e=>r.closeModal("addSimModal","storeSim","addErrors")),type:"button"}," Đóng ")])])],32)])])],512),(0,l._)("div",MH,[(0,l._)("div",SH,[(0,l._)("div",EH,[TH,(0,l._)("form",{onSubmit:t[10]||(t[10]=(0,a.iM)(((...e)=>r.updateSim&&r.updateSim(...e)),["prevent"]))},[(0,l._)("div",zH,[(0,l._)("div",UH,[(0,l._)("div",jH,[(0,l._)("div",qH,[(0,l._)("div",IH,[(0,l._)("table",LH,[(0,l._)("tbody",null,[(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",NH,[RH,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>d.selectedSim.serial_sim=e),class:(0,p.C_)([{"is-invalid":d.updateErrors.serial_sim},"form-control text-body"]),type:"text",placeholder:"Nhập số SIM/E-SIM"},null,2),[[a.nr,d.selectedSim.serial_sim]]),d.updateErrors.serial_sim?((0,l.wg)(),(0,l.iD)("div",VH,(0,p.zw)(d.updateErrors.serial_sim),1)):(0,l.kq)("",!0)])]),(0,l._)("td",null,[(0,l._)("div",QH,[OH,(0,l.wy)((0,l._)("select",{class:(0,p.C_)(["form-control form-select text-body",{"is-invalid":d.updateErrors.sim_type}]),"onUpdate:modelValue":t[7]||(t[7]=e=>d.selectedSim.sim_type=e)},GH,2),[[a.bM,d.selectedSim.sim_type]]),d.updateErrors.sim_type?((0,l.wg)(),(0,l.iD)("div",WH,(0,p.zw)(d.updateErrors.sim_type),1)):(0,l.kq)("",!0)])])]),(0,l._)("tr",null,[(0,l._)("td",BH,[(0,l._)("div",YH,[HH,(0,l.wy)((0,l._)("textarea",{class:"form-control text-body",name:"","onUpdate:modelValue":t[8]||(t[8]=e=>d.selectedSim.manage_sim_note=e),rows:"5",placeholder:"Nhập ghi chú"},null,512),[[a.nr,d.selectedSim.manage_sim_note]])])])])])])])])])])]),(0,l._)("div",KH,[ZH,(0,l._)("button",{class:"btn ripple btn-danger",onClick:t[9]||(t[9]=e=>r.closeModal("updateSimModal","selectedSim","updateErrors")),type:"button"}," Đóng ")])],32)])])],512)],64)}var XH={data(){return{sims:[],storeSim:{serial_sim:"",sim_type:"",manage_sim_note:""},selectedSim:[],dontCloseModal:!1,addErrors:[],updateErrors:[],showSuccessMessage:!1,successMessage:""}},mounted(){this.getSims()},methods:{loadtable(){this.$nextTick((()=>{nt.initializeDataTable("#simTable")}))},getSims(){va.getData("categories-sim/listCategoriesSim").then((e=>{this.sims=e.data.data,this.loadtable(),console.log(e)})).catch((e=>{console.log(e)}))},addSim(){const e={serial_sim:this.storeSim.serial_sim,sim_type:this.storeSim.sim_type,sim_status:"Chưa kích hoạt",manage_sim_note:this.storeSim.manage_sim_note?this.storeSim.manage_sim_note:""},t=[{name:"serial_sim",label:"Số SIM/E-SIM",maxLength:50,nullable:!1},{name:"sim_type",label:"Phân loại",maxLength:50,nullable:!1},{name:"manage_sim_note",label:"Ghi chú",maxLength:50,nullable:!0}];this.addErrors=nt.validateData(e,t),0===Object.keys(this.addErrors).length&&va.postData("categories-sim/storeCategoriesSim",e).then((e=>{e.data.error?e.data.error.details.forEach((e=>{const t=e.message,s=e.path[0];this.errors[s]=[],this.errors[s]=t})):this.dontCloseModal?(this.getSims(),this.storeSim={},this.showSuccessMessage=!0,this.successMessage="Thêm thành công",setTimeout((()=>{this.showSuccessMessage=!1}),1e3)):(this.getSims(),this.closeModal("addSimModal","storeSim","errors"),nt.showSuccessAlert("Thêm thành công"))})).catch((e=>{console.error("Lỗi khi thêm :",e)}))},closeModal(e,t,s){const a=this.$refs[e];$(a).modal("hide"),this[t]={},this[s]={}},deleteSim(e){nt.confirmDelete((()=>{va.deleteData(`categories-sim/deleteCategoriesSim/?id=${e}`).then((e=>{nt.showSuccessAlert("Xóa thành công"),this.getSims()})).catch((e=>{400===e.response.status?nt.showErrorAlert("Sim/E-Sim đang sử dụng"):console.log(e)}))}))},editSim(e){this.selectedSim.id=e._id,this.selectedSim.serial_sim=e.serial_sim,this.selectedSim.sim_type=e.sim_type,this.selectedSim.manage_sim_note=e.manage_sim_note},updateSim(){const e={serial_sim:this.selectedSim.serial_sim,sim_type:this.selectedSim.sim_type,manage_sim_note:this.selectedSim.manage_sim_note},t=[{name:"serial_sim",label:"Số SIM/E-SIM",maxLength:50,nullable:!1},{name:"sim_type",label:"Phân Loại",maxLength:50,nullable:!1},{name:"manage_sim_note",label:"Ghi chú",maxLength:50,nullable:!0}];this.updateErrors=nt.validateData(e,t),0===Object.keys(this.updateErrors).length&&va.putData(`categories-sim/updateCategoriesSim/${this.selectedSim.id}`,e).then((e=>{e.data.error?e.data.error.details.forEach((e=>{const t=e.message,s=e.path[0];this.updateErrors[s]=[],this.updateErrors[s]=t})):(nt.showSuccessAlert("Cập nhật thành công"),this.closeModal("updateSimModal","selectedSim","updateErrors"),this.getSims())})).catch((e=>{console.error("Lỗi khi cập nhật khu vực:",e)}))},getStatus(e){switch(e){case"Chưa kích hoạt":return"bg-danger-light";case"Đang sử dụng":return"bg-success-light";default:return"bg-danger-light"}}}};const eK=(0,r.Z)(XH,[["render",FH]]);var tK=eK;const sK={class:"main-content side-content pt-0"},aK={class:"main-container container-fluid pt-5"},lK={class:"inner-body"},oK=(0,l.uE)('<div class="page-header"><div><h2 class="main-content-title tx-24 mg-b-5"> Quản lý thiết bị </h2><ol class="breadcrumb"><li class="breadcrumb-item"><a href="#">Trang chủ</a></li><li class="breadcrumb-item active" aria-current="page"> Quản lý thiết bị </li></ol></div><div class="d-flex"><div class="justify-content-center"><a data-bs-target="#add_monitoring_network" data-bs-toggle="modal" class="btn btn-primary btn-rounded my-2 text-white"><i class="fe fe-plus"></i> Thêm mới </a></div></div></div>',1),dK={class:"row row-sm"},rK={class:"col-lg-12"},iK={class:"card custom-card"},nK={class:"card-body"},cK=(0,l._)("div",null,[(0,l._)("h6",{class:"main-content-label mb-1"}," Quản lý thiết bị "),(0,l._)("p",{class:"text-muted card-sub-title"})],-1),uK={class:"table-responsive"},_K=["data"],pK=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",null,"STT"),(0,l._)("th",null,"Khu vực"),(0,l._)("th",null,"Đã lắp đặt"),(0,l._)("th",null,"Dự kiến lắp đặt"),(0,l._)("th",null,"Ghi chú"),(0,l._)("th",null,"Thao tác")])],-1),mK=(0,l._)("i",{class:"fe fe-eye"},null,-1),hK=["onClick"],bK=(0,l._)("i",{class:"fe fe-edit-2"},null,-1),gK=[bK],vK=["onClick"],fK=(0,l._)("i",{class:"fe fe-trash"},null,-1),yK=[fK],wK={class:"row"},kK={class:"col-lg-6 col-md-12"},xK={class:"card custom-card overflow-hidden"},CK={class:"card-body"},DK={class:"col-lg-6 col-md-12"},PK={class:"card custom-card overflow-hidden"},MK={class:"card-body"},SK={class:"modal",id:"add_monitoring_network",ref:"addMonitoringModal"},EK={class:"modal-dialog modal-lg",role:"document"},TK={class:"modal-content modal-content-demo"},zK=(0,l._)("div",{class:"modal-header"},[(0,l._)("h6",{class:"modal-title"},"Thêm mới"),(0,l._)("button",{"aria-label":"Close",class:"btn-close","data-bs-dismiss":"modal",type:"button"})],-1),UK={class:"modal-body"},jK={class:"table"},qK={class:"form-group"},IK=(0,l._)("label",{class:"fw-bold"},"Khu vực",-1),LK=["value"],NK={key:0,class:"invalid-feedback mt-2"},RK={class:"align-top"},VK={class:"form-group"},QK=(0,l._)("label",{class:"fw-bold"},"Dự kiến lắp đặt",-1),OK={key:0,class:"invalid-feedback"},AK={colspan:"2"},JK={class:"form-group"},$K=(0,l._)("label",{class:"fw-bold"},"Ghi chú",-1),GK={class:"invalid-feedback"},WK={key:0,class:"alert alert-success text-center"},BK={class:"modal-footer d-flex justify-content-between"},YK={class:"form-check"},HK=(0,l._)("label",{class:"form-check-label fw-bold"},"Không đóng màn hình",-1),KK=(0,l._)("button",{class:"btn ripple btn-primary",type:"submit"},"Lưu",-1),ZK={class:"modal",id:"update_monitoring_network",ref:"updateMonitoringModal"},FK={class:"modal-dialog modal-lg",role:"document"},XK={class:"modal-content modal-content-demo"},eZ=(0,l._)("div",{class:"modal-header"},[(0,l._)("h6",{class:"modal-title"},"Cập nhật"),(0,l._)("button",{"aria-label":"Close",class:"btn-close","data-bs-dismiss":"modal",type:"button"})],-1),tZ={class:"modal-body"},sZ={class:"table"},aZ={class:"form-group"},lZ=(0,l._)("label",{class:"fw-bold"},"Khu vực",-1),oZ=["value"],dZ={key:0,class:"invalid-feedback mt-2"},rZ={class:"align-top"},iZ={class:"form-group"},nZ=(0,l._)("label",{class:"fw-bold"},"Dự kiến lắp đặt",-1),cZ={key:0,class:"invalid-feedback"},uZ={colspan:"2"},_Z={class:"form-group"},pZ=(0,l._)("label",{class:"fw-bold"},"Ghi chú",-1),mZ={class:"invalid-feedback"},hZ={class:"modal-footer"},bZ=(0,l._)("button",{class:"btn ripple btn-primary",type:"submit"},"Lưu",-1);function gZ(e,t,s,o,d,r){const i=(0,l.up)("router-link"),n=(0,l.up)("ChartByArea"),c=(0,l.up)("ChartByYear");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",sK,[(0,l._)("div",aK,[(0,l._)("div",lK,[oK,(0,l._)("div",dK,[(0,l._)("div",rK,[(0,l._)("div",iK,[(0,l._)("div",nK,[cK,(0,l._)("div",uK,[(0,l._)("table",{data:d.monitors,class:"table table-bordered",id:"monitorTable"},[pK,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.monitors,((e,t)=>((0,l.wg)(),(0,l.iD)("tr",{key:e._id},[(0,l._)("td",null,(0,p.zw)(t+1),1),(0,l._)("td",null,(0,p.zw)(e.getProvinceData?e.getProvinceData[0].province_name:""),1),(0,l._)("td",null,(0,p.zw)(e.installed||""),1),(0,l._)("td",null,(0,p.zw)(e.next_phase||""),1),(0,l._)("td",null,(0,p.zw)(e.note||""),1),(0,l._)("td",null,[(0,l.Wm)(i,{to:"/monitoring_network/detail/"+e._id,class:"btn btn-sm btn-outline-primary ms-1"},{default:(0,l.w5)((()=>[mK])),_:2},1032,["to"]),(0,l._)("a",{onClick:t=>r.editMonitor(e),"data-bs-target":"#update_monitoring_network","data-bs-toggle":"modal",class:"btn btn-sm btn-outline-info ms-1"},gK,8,hK),(0,l._)("a",{onClick:t=>r.deleteMonitor(e._id),class:"btn btn-sm btn-outline-danger ms-1"},yK,8,vK)])])))),128))])],8,_K)])])])])]),(0,l._)("div",wK,[(0,l._)("div",kK,[(0,l._)("div",xK,[(0,l._)("div",CK,[(0,l.Wm)(n)])])]),(0,l._)("div",DK,[(0,l._)("div",PK,[(0,l._)("div",MK,[(0,l.Wm)(c)])])])])])])]),(0,l._)("div",SK,[(0,l._)("div",EK,[(0,l._)("div",TK,[zK,(0,l._)("form",{onSubmit:t[5]||(t[5]=(0,a.iM)(((...e)=>r.addMonitor&&r.addMonitor(...e)),["prevent"]))},[(0,l._)("div",UK,[(0,l._)("table",jK,[(0,l._)("tbody",null,[(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",qK,[IK,(0,l.wy)((0,l._)("select",{class:(0,p.C_)(["form-control form-select text-body",{"is-invalid":d.addErrors.area_id}]),"onUpdate:modelValue":t[0]||(t[0]=e=>d.storeMonitoring.area_id=e)},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.provinces,((e,t)=>((0,l.wg)(),(0,l.iD)("option",{key:e._id,value:e.province_id},(0,p.zw)(e.province_name),9,LK)))),128))],2),[[a.bM,d.storeMonitoring.area_id]]),d.addErrors.area_id?((0,l.wg)(),(0,l.iD)("div",NK,(0,p.zw)(d.addErrors.area_id),1)):(0,l.kq)("",!0)])]),(0,l._)("td",RK,[(0,l._)("div",VK,[QK,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>d.storeMonitoring.next_phase=e),class:(0,p.C_)(["form-control text-body",{"is-invalid":d.addErrors.next_phase}]),type:"number",placeholder:"Số lượng dự kiến lắp đặt"},null,2),[[a.nr,d.storeMonitoring.next_phase]]),d.addErrors.next_phase?((0,l.wg)(),(0,l.iD)("div",OK,(0,p.zw)(d.addErrors.next_phase),1)):(0,l.kq)("",!0)])])]),(0,l._)("tr",null,[(0,l._)("td",AK,[(0,l._)("div",JK,[$K,(0,l.wy)((0,l._)("textarea",{"onUpdate:modelValue":t[2]||(t[2]=e=>d.storeMonitoring.note=e),class:(0,p.C_)(["form-control text-body",{"is-invalid":d.addErrors.note}]),rows:"4",placeholder:"Ghi chú"},null,2),[[a.nr,d.storeMonitoring.note]]),(0,l._)("div",GK,(0,p.zw)(d.addErrors.note),1)])])])])])]),d.showSuccessMessage?((0,l.wg)(),(0,l.iD)("div",WK,(0,p.zw)(d.successMessage),1)):(0,l.kq)("",!0),(0,l._)("div",BK,[(0,l._)("div",YK,[(0,l.wy)((0,l._)("input",{class:"form-check-input",type:"checkbox",id:"check1",name:"option1",value:"something","onUpdate:modelValue":t[3]||(t[3]=e=>d.dontCloseModal=e)},null,512),[[a.e8,d.dontCloseModal]]),HK]),(0,l._)("div",null,[KK,(0,l._)("button",{class:"btn ripple btn-danger ms-2",onClick:t[4]||(t[4]=e=>r.closeModal("addMonitoringModal","storeMonitoring","addErrors")),type:"button"}," Đóng ")])])],32)])])],512),(0,l._)("div",ZK,[(0,l._)("div",FK,[(0,l._)("div",XK,[eZ,(0,l._)("form",{onSubmit:t[10]||(t[10]=(0,a.iM)(((...e)=>r.updateMonitor&&r.updateMonitor(...e)),["prevent"]))},[(0,l._)("div",tZ,[(0,l._)("table",sZ,[(0,l._)("tbody",null,[(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",aZ,[lZ,(0,l.wy)((0,l._)("select",{class:(0,p.C_)(["form-control form-select text-body",{"is-invalid":d.updateErrors.area_id}]),"onUpdate:modelValue":t[6]||(t[6]=e=>d.selectedMonitoring.area_id=e)},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.provinces,((e,t)=>((0,l.wg)(),(0,l.iD)("option",{key:e._id,value:e.province_id},(0,p.zw)(e.province_name),9,oZ)))),128))],2),[[a.bM,d.selectedMonitoring.area_id]]),d.updateErrors.area_id?((0,l.wg)(),(0,l.iD)("div",dZ,(0,p.zw)(d.updateErrors.area_id),1)):(0,l.kq)("",!0)])]),(0,l._)("td",rZ,[(0,l._)("div",iZ,[nZ,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>d.selectedMonitoring.next_phase=e),class:(0,p.C_)(["form-control text-body",{"is-invalid":d.updateErrors.next_phase}]),name:"product_type_name",type:"number",placeholder:"Số lượng dự kiến lắp đặt"},null,2),[[a.nr,d.selectedMonitoring.next_phase]]),d.updateErrors.next_phase?((0,l.wg)(),(0,l.iD)("div",cZ,(0,p.zw)(d.updateErrors.next_phase),1)):(0,l.kq)("",!0)])])]),(0,l._)("tr",null,[(0,l._)("td",uZ,[(0,l._)("div",_Z,[pZ,(0,l.wy)((0,l._)("textarea",{"onUpdate:modelValue":t[8]||(t[8]=e=>d.selectedMonitoring.note=e),class:(0,p.C_)(["form-control text-body",{"is-invalid":d.updateErrors.note}]),rows:"5",placeholder:"Ghi chú"},null,2),[[a.nr,d.selectedMonitoring.note]]),(0,l._)("div",mZ,(0,p.zw)(d.updateErrors.note),1)])])])])])]),(0,l._)("div",hZ,[(0,l._)("div",null,[bZ,(0,l._)("button",{class:"btn ripple btn-danger ms-2",onClick:t[9]||(t[9]=e=>r.closeModal("updateMonitoringModal","storeMonitoring","addErrors")),type:"button"}," Đóng ")])])],32)])])],512)],64)}const vZ=(0,l._)("div",{class:"d-flex justify-content-between"},[(0,l._)("div",{class:"p-2"},[(0,l._)("h6",{class:"main-content-label mb-1"},"Thống kê"),(0,l._)("p",{class:"text-muted card-sub-title"}," Số lượng thiết bị lắp đặt theo vị trí ")])],-1),fZ={class:"chartjs-wrapper-demo"},yZ={ref:"barChart"};function wZ(e,t,s,a,o,d){return(0,l.wg)(),(0,l.iD)(l.HY,null,[vZ,(0,l._)("div",fZ,[(0,l._)("canvas",yZ,null,512)])],64)}var kZ=s(7892),xZ=s(1131);ma.ZP.register(kZ.ZP),ma.ZP.register(xZ.Z);var CZ={data(){return{chart:null,labels:[],data:{installed:[],next_phase:[]}}},mounted(){this.ChartByArea()},methods:{createChart(e,t,s){const a=e.getContext("2d");return new ma.ZP(a,{type:t,data:s,options:{plugins:{zoom:{zoom:{wheel:{enabled:!0},pinch:{enabled:!0},mode:"y",onZoom:({chart:e})=>this.handleZoom(e)},pan:{enabled:!0,mode:"y"}},datalabels:{color:"#fff",display:!0}}}})},handleZoom(e){const t=e.scales.y,s=t._range.min;s<0&&e.resetZoom()},ChartByArea(){va.getData("dashboard-ims/LocationReportIMS").then((e=>{const t=e.data.data.getData,s=e.data.data.getTotal,a=t.map((e=>e.getProvinceData[0].province_name)),l=t.map((e=>e.installed)),o=t.map((e=>e.next_phase));a.push("Tổng"),l.push(s.totalInstalled),o.push(s.totalNextPhase),this.chart=this.createChart(this.$refs.barChart,"bar",{labels:a,datasets:[{label:"Đã lắp đặt",data:l,backgroundColor:"#428bca",borderWidth:2,stack:"Stack 0"},{label:"Dự kiến lắp đặt",data:o,backgroundColor:"#f0ad4e",borderWidth:2,stack:"Stack 0"}]},{scales:{x:{stacked:!0},y:{stacked:!0,beginAtZero:!0,ticks:{stepSize:70}}}})})).catch((e=>{console.log(e)}))}}};const DZ=(0,r.Z)(CZ,[["render",wZ]]);var PZ=DZ;const MZ=(0,l._)("div",{class:"d-flex justify-content-between"},[(0,l._)("div",{class:"p-2"},[(0,l._)("h6",{class:"main-content-label mb-1"},"Thống kê"),(0,l._)("p",{class:"text-muted card-sub-title"}," Số lượng thiết bị lắp đặt theo năm ")])],-1),SZ={class:"chartjs-wrapper-demo"},EZ={ref:"barChart2"};function TZ(e,t,s,a,o,d){return(0,l.wg)(),(0,l.iD)(l.HY,null,[MZ,(0,l._)("div",SZ,[(0,l._)("canvas",EZ,null,512)])],64)}ma.ZP.register(kZ.ZP),ma.ZP.register(xZ.Z);var zZ={data(){return{chart:null}},mounted(){this.ChartByYear()},methods:{createChart(e,t,s){const a=e.getContext("2d");return new ma.ZP(a,{type:t,data:s,options:{plugins:{zoom:{zoom:{wheel:{enabled:!0},pinch:{enabled:!0},mode:"y",onZoom:({chart:e})=>this.handleZoom(e)},pan:{enabled:!0,mode:"y"}},datalabels:{color:"#fff",display:!0}}}})},handleZoom(e){const t=e.scales.y,s=t._range.min;s<0&&e.resetZoom()},ChartByYear(){va.getData("dashboard-ims/YearReportIMS").then((e=>{console.log(e);const t=e.data.data.getTotal.totalInstalledByYear,s=e.data.data.getTotal.SumInstalled,a=e.data.data.getTotal.totalNextPhase,l=t.map((e=>e._id)),o=t.map((e=>e.qty));l.push("Tổng","Dự kiến"),o.push(s,a),this.chart=this.createChart(this.$refs.barChart2,"bar",{labels:l,datasets:[{label:"Số lượng lắp đặt theo năm",data:o,backgroundColor:o.map(((e,t,s)=>t===s.length-1?"green":t===s.length-2?"#f0ad4e":"#428bca"))}]})})).catch((e=>{console.log(e)}))}}};const UZ=(0,r.Z)(zZ,[["render",TZ]]);var jZ=UZ,qZ={components:{ChartByArea:PZ,ChartByYear:jZ},data(){return{storeMonitoring:[],selectedMonitoring:[],addErrors:[],updateErrors:[],dontCloseModal:!1,showSuccessMessage:!1,successMessage:"",monitors:[],provinces:[]}},mounted(){this.getMonitors()},methods:{loadtable(){this.$nextTick((()=>{nt.initializeDataTable("#monitorTable")}))},getMonitors(){va.getData("manager-ims/listManagerIMS").then((e=>{this.monitors=e.data.data.getData,this.provinces=e.data.data.provinces,this.loadtable()})).catch((e=>{console.log(e)}))},addMonitor(){const e={area_id:this.storeMonitoring.area_id,next_phase:this.storeMonitoring.next_phase,note:this.storeMonitoring.note},t=[{name:"area_id",label:"Tên khu vực",nullable:!1},{name:"next_phase",label:"Số lượng dự kiến",type:"number",nullable:!0},{name:"note",label:"Ghi chú",nullable:!0}];this.addErrors=nt.validateData(e,t),Object.keys(this.addErrors).length>0||va.postData("manager-ims/storeManagerIMS",e).then((e=>{200==e.data.status&&(this.dontCloseModal?(this.getMonitors(),this.storeMonitoring={},this.showSuccessMessage=!0,this.successMessage="Thêm thành công",setTimeout((()=>{this.showSuccessMessage=!1}),1e3)):(this.getMonitors(),nt.showSuccessAlert("Thêm thành công"),this.closeModal("addMonitoringModal","storeMonitoring","addErrors")))})).catch((e=>{console.log(e)}))},editMonitor(e){this.selectedMonitoring={id:e._id,area_id:e.area_id,next_phase:e.next_phase,note:e.note}},updateMonitor(){const e={area_id:this.selectedMonitoring.area_id,next_phase:this.selectedMonitoring.next_phase,note:this.selectedMonitoring.note},t=[{name:"area_id",label:"Tên khu vực",nullable:!1},{name:"next_phase",label:"Số lượng dự kiến",type:"number",nullable:!1},{name:"note",label:"Ghi chú",nullable:!0}];this.updateErrors=nt.validateData(e,t),Object.keys(this.updateErrors).length>0||va.putData(`manager-ims/updateManagerIMS/${this.selectedMonitoring.id}`,e).then((e=>{console.log(e),200==e.data.status&&(nt.showSuccessAlert("Cập nhật thành công"),this.getMonitors(),this.closeModal("updateMonitoringModal","selectedMonitoring","updateErrors"))})).catch((e=>{console.log(e)}))},deleteMonitor(e){nt.confirmDelete((()=>{va.deleteData(`manager-ims/deleteManagerIMS/${e}`).then((e=>{nt.showSuccessAlert("Xóa thành công"),this.getMonitors()})).catch((e=>{console.error("Lỗi khi xóa khu vực:",e)}))}))},closeModal(e,t,s){const a=this.$refs[e];$(a).modal("hide"),this[t]={},this[s]={}}}};const IZ=(0,r.Z)(qZ,[["render",gZ]]);var LZ=IZ;const NZ={class:"main-content side-content pt-0"},RZ={class:"main-container container-fluid pt-5"},VZ={class:"inner-body"},QZ={class:"page-header"},OZ=(0,l.uE)('<div><h2 class="main-content-title tx-24 mg-b-5"> Quản lý thiết bị </h2><ol class="breadcrumb"><li class="breadcrumb-item"><a href="#">Trang chủ</a></li><li class="breadcrumb-item active" aria-current="page"> Quản lý thiết bị </li></ol></div>',1),AZ={class:"d-flex"},JZ={class:"justify-content-center"},$Z=(0,l._)("button",{"data-bs-target":"#add_detail_monitoring","data-bs-toggle":"modal",class:"btn btn-primary btn-rounded my-2 me-2 btn-icon-text"},[(0,l._)("i",{class:"fe fe-plus"}),(0,l.Uk)(" Thêm mới ")],-1),GZ=(0,l._)("i",{class:"fe fe-corner-down-left"},null,-1),WZ={class:"row row-sm"},BZ={class:"col-lg-12"},YZ={class:"card custom-card"},HZ={class:"card-body"},KZ=(0,l._)("div",null,[(0,l._)("h6",{class:"main-content-label mb-1"}," Khu Vực "),(0,l._)("p",{class:"text-muted card-sub-title"})],-1),ZZ={class:"table-responsive"},FZ={class:"table table-bordered",id:"DetailMonitor"},XZ=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",null,"STT"),(0,l._)("th",null,"Tên trạm"),(0,l._)("th",null,"Ngày lắp đặt"),(0,l._)("th",null,"Địa chỉ"),(0,l._)("th",null,"Khách hàng"),(0,l._)("th",null,"Ảnh"),(0,l._)("th",null,"Tọa độ"),(0,l._)("th",null,"Thao tác")])],-1),eF=["onClick"],tF=(0,l._)("i",{class:"fe fe-eye"},null,-1),sF=[tF],aF=["onClick"],lF=(0,l._)("i",{class:"fe fe-eye"},null,-1),oF=[lF],dF=["onClick"],rF=(0,l._)("i",{class:"fe fe-edit-2"},null,-1),iF=[rF],nF=["onClick"],cF=(0,l._)("i",{class:"fe fe-trash"},null,-1),uF=[cF],_F={class:"modal fade",id:"monitoring_network_image",ref:"MonitoringNetwork"},pF={class:"modal-dialog modal-xl",role:"document"},mF={class:"modal-content modal-content-demo"},hF=(0,l._)("div",{class:"modal-header"},[(0,l._)("h6",{class:"modal-title"},"Hình ảnh"),(0,l._)("button",{"aria-label":"Close",class:"btn-close","data-bs-dismiss":"modal",type:"button"})],-1),bF={class:"modal-body"},gF={class:"card custom-card"},vF={class:"card-body"},fF={class:"carousel-slider"},yF={id:"carousel",class:"carousel slide","data-bs-ride":"carousel"},wF={class:"carousel-inner"},kF=["src"],xF=(0,l._)("a",{class:"carousel-control-prev",href:"#carousel",role:"button","data-bs-slide":"prev"},[(0,l._)("i",{class:"fa fa-angle-left fs-30","aria-hidden":"true"})],-1),CF=(0,l._)("a",{class:"carousel-control-next",href:"#carousel",role:"button","data-bs-slide":"next"},[(0,l._)("i",{class:"fa fa-angle-right fs-30","aria-hidden":"true"})],-1),DF={class:"modal-footer"},PF={class:"modal fade",id:"monitoring_network_location",ref:"MonitoringNetworkLocation"},MF={class:"modal-dialog modal-xl",role:"document"},SF={class:"modal-content modal-content-demo"},EF=(0,l._)("div",{class:"modal-header"},[(0,l._)("h6",{class:"modal-title"},"Hình ảnh"),(0,l._)("button",{"aria-label":"Close",class:"btn-close","data-bs-dismiss":"modal",type:"button"})],-1),TF={class:"modal-body"},zF={class:"card custom-card"},UF={class:"card-body"},jF={style:{height:"500px"}},qF={class:"d-flex"},IF={class:"form-group"},LF={class:"form-group ms-2"},NF={class:"form-group"},RF={ref:"mapContainer1",style:{width:"100%",height:"400px"}},VF={class:"modal-footer"},QF={class:"modal fade",id:"add_detail_monitoring",ref:"addDetailMonitorModal"},OF={class:"modal-dialog modal-xl",role:"document"},AF={class:"modal-content modal-content-demo"},JF={class:"modal-header"},$F=(0,l._)("h6",{class:"modal-title"},"Thêm mới",-1),GF={class:"modal-body"},WF={class:"table"},BF={class:"form-group"},YF=(0,l._)("label",{class:"fw-bold"},"Tên trạm",-1),HF={key:0,class:"invalid-feedback"},KF={class:"form-group"},ZF=(0,l._)("label",{class:"fw-bold"},"Ngày lắp đặt",-1),FF={key:0,class:"invalid-feedback"},XF={class:"form-group"},eX=(0,l._)("label",{class:"fw-bold"},"Khách hàng",-1),tX={key:0,class:"invalid-feedback"},sX={class:"align-top",colspan:"3"},aX={class:"form-group"},lX=(0,l._)("label",{class:"fw-bold"},"Địa chỉ lắp đặt",-1),oX={key:0,class:"invalid-feedback"},dX={class:"align-top",colspan:"3"},rX={class:"form-group"},iX=(0,l._)("label",{class:"fw-bold"},"Chi tiết lắp đặt",-1),nX={key:0,class:"invalid-feedback"},cX={class:"align-top"},uX={class:"form-group"},_X=(0,l._)("label",{class:"fw-bold"},"Hình ảnh",-1),pX={key:0,class:"invalid-feedback"},mX={class:"align-top",colspan:"2"},hX={class:"form-group"},bX=(0,l._)("label",{class:"fw-bold"},"Tọa độ",-1),gX={style:{height:"500px"}},vX={class:"d-flex"},fX={class:"form-group"},yX={class:"form-group ms-2"},wX={class:"form-group"},kX={key:0,class:"invalid-feedback"},xX={ref:"mapContainer",style:{width:"100%",height:"330px"}},CX={key:0,class:"alert alert-success text-center"},DX={class:"modal-footer d-flex justify-content-between"},PX={class:"form-check"},MX=(0,l._)("label",{class:"form-check-label fw-bold"},"Không đóng màn hình",-1),SX={class:"modal fade",id:"update_detail_monitoring",ref:"updateDetailMonitorModal"},EX={class:"modal-dialog modal-xl",role:"document"},TX={class:"modal-content modal-content-demo"},zX={class:"modal-header"},UX=(0,l._)("h6",{class:"modal-title"},"Thêm mới",-1),jX={class:"modal-body"},qX={class:"table"},IX={class:"form-group"},LX=(0,l._)("label",{class:"fw-bold"},"Tên trạm",-1),NX={key:0,class:"invalid-feedback"},RX={class:"form-group"},VX=(0,l._)("label",{class:"fw-bold"},"Ngày lắp đặt",-1),QX={key:0,class:"invalid-feedback"},OX={class:"form-group"},AX=(0,l._)("label",{class:"fw-bold"},"Khách hàng",-1),JX={key:0,class:"invalid-feedback"},$X={class:"align-top",colspan:"3"},GX={class:"form-group"},WX=(0,l._)("label",{class:"fw-bold"},"Địa chỉ lắp đặt",-1),BX={key:0,class:"invalid-feedback"},YX=(0,l._)("tr",null,[(0,l._)("td",{class:"align-top"},[(0,l._)("div",{class:"form-group"},[(0,l._)("label",{class:"fw-bold"},"Hình ảnh"),(0,l._)("div",null,[(0,l._)("input",{id:"demo",type:"file",name:"files",accept:"image/jpeg, image/png, text/html, application/zip, text/css, text/js",multiple:""})])])]),(0,l._)("td",{class:"align-top",colspan:"2"},[(0,l._)("div",{class:"form-group"},[(0,l._)("label",{class:"fw-bold"},"Tọa độ")])])],-1),HX={class:"modal-footer"};function KX(e,t,s,o,d,r){const i=(0,l.up)("RouterLink");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",NZ,[(0,l._)("div",RZ,[(0,l._)("div",VZ,[(0,l._)("div",QZ,[OZ,(0,l._)("div",AZ,[(0,l._)("div",JZ,[$Z,(0,l.Wm)(i,{to:"/monitoring_network",class:"btn btn-white btn-rounded my-2 btn-icon-text"},{default:(0,l.w5)((()=>[GZ,(0,l.Uk)(" Trở lại ")])),_:1})])])]),(0,l._)("div",WZ,[(0,l._)("div",BZ,[(0,l._)("div",YZ,[(0,l._)("div",HZ,[KZ,(0,l._)("div",ZZ,[(0,l._)("table",FZ,[XZ,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.monitors,((e,t)=>((0,l.wg)(),(0,l.iD)("tr",{key:e._id},[(0,l._)("td",null,(0,p.zw)(t+1),1),(0,l._)("td",null,(0,p.zw)(e.name_station),1),(0,l._)("td",null,(0,p.zw)(e.installtion_date),1),(0,l._)("td",null,(0,p.zw)(e.address_of_station),1),(0,l._)("td",null,(0,p.zw)(e.customer),1),(0,l._)("td",null,[(0,l._)("a",{onClick:t=>r.viewImages(e),"data-bs-target":"#monitoring_network_image","data-bs-toggle":"modal",class:"btn btn-sm btn-outline-primary ms-1"},sF,8,eF)]),(0,l._)("td",null,[(0,l._)("a",{onClick:t=>r.viewLocation(e),"data-bs-target":"#monitoring_network_location","data-bs-toggle":"modal",class:"btn btn-sm btn-outline-primary ms-1"},oF,8,aF)]),(0,l._)("td",null,[(0,l._)("a",{onClick:t=>r.editDetailMonitor(e),"data-bs-target":"#update_detail_monitoring","data-bs-toggle":"modal",class:"btn btn-sm btn-outline-info ms-1"},iF,8,dF),(0,l._)("a",{onClick:t=>r.deleteDetailMonitor(e._id),class:"btn btn-sm btn-outline-danger ms-1"},uF,8,nF)])])))),128))])])])])])])])])])]),(0,l._)("div",_F,[(0,l._)("div",pF,[(0,l._)("div",mF,[hF,(0,l._)("div",bF,[(0,l._)("div",null,[(0,l._)("div",gF,[(0,l._)("div",vF,[(0,l._)("div",fF,[(0,l._)("div",yF,[(0,l._)("div",wF,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.images,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{key:t,class:(0,p.C_)({"carousel-item":!0,active:0===t})},[(0,l._)("img",{src:"http://192.168.48.31:8080/"+e,alt:"img"},null,8,kF)],2)))),128))]),xF,CF])])])])])]),(0,l._)("div",DF,[(0,l._)("div",null,[(0,l._)("button",{class:"btn ripple btn-danger ms-2",onClick:t[0]||(t[0]=e=>r.closeModal("MonitoringNetwork","selectedSemiPro","addErrors")),type:"button"}," Đóng ")])])])])],512),(0,l._)("div",PF,[(0,l._)("div",MF,[(0,l._)("div",SF,[EF,(0,l._)("div",TF,[(0,l._)("div",null,[(0,l._)("div",zF,[(0,l._)("div",UF,[(0,l._)("div",jF,[(0,l._)("div",null,[(0,l._)("div",null,[(0,l._)("div",qF,[(0,l._)("div",IF,[(0,l.wy)((0,l._)("input",{class:"form-control text-body","onUpdate:modelValue":t[1]||(t[1]=e=>d.infoLocation.lat=e),type:"text",readonly:""},null,512),[[a.nr,d.infoLocation.lat]])]),(0,l._)("div",LF,[(0,l.wy)((0,l._)("input",{class:"form-control text-body","onUpdate:modelValue":t[2]||(t[2]=e=>d.infoLocation.lng=e),type:"text",readonly:""},null,512),[[a.nr,d.infoLocation.lng]])])]),(0,l._)("div",NF,[(0,l.wy)((0,l._)("input",{class:"form-control text-body","onUpdate:modelValue":t[3]||(t[3]=e=>d.infoLocation.address=e),type:"text",readonly:""},null,512),[[a.nr,d.infoLocation.address]])])]),(0,l._)("div",null,[(0,l._)("div",RF,null,512)])])])])])])]),(0,l._)("div",VF,[(0,l._)("div",null,[(0,l._)("button",{class:"btn ripple btn-danger ms-2",onClick:t[4]||(t[4]=e=>r.closeModal("MonitoringNetworkLocation","selectedSemiPro","addErrors")),type:"button"}," Đóng ")])])])])],512),(0,l._)("div",QF,[(0,l._)("div",OF,[(0,l._)("div",AF,[(0,l._)("div",JF,[$F,(0,l._)("button",{"aria-label":"Close",class:"btn-close",onClick:t[5]||(t[5]=e=>r.closeModal("addDetailMonitorModal")),type:"button"})]),(0,l._)("div",GF,[(0,l._)("table",WF,[(0,l._)("tbody",null,[(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",BF,[YF,(0,l.wy)((0,l._)("input",{class:(0,p.C_)(["form-control text-body",{"is-invalid":d.addErrors.name_station}]),"onUpdate:modelValue":t[6]||(t[6]=e=>d.storeMonitor.name_station=e),type:"text",placeholder:"Tên trạm"},null,2),[[a.nr,d.storeMonitor.name_station]]),d.addErrors.name_station?((0,l.wg)(),(0,l.iD)("div",HF,(0,p.zw)(d.addErrors.name_station),1)):(0,l.kq)("",!0)])]),(0,l._)("td",null,[(0,l._)("div",KF,[ZF,(0,l.wy)((0,l._)("input",{class:(0,p.C_)(["form-control text-body",{"is-invalid":d.addErrors.installtion_date}]),"onUpdate:modelValue":t[7]||(t[7]=e=>d.storeMonitor.installtion_date=e),type:"date"},null,2),[[a.nr,d.storeMonitor.installtion_date]]),d.addErrors.installtion_date?((0,l.wg)(),(0,l.iD)("div",FF,(0,p.zw)(d.addErrors.installtion_date),1)):(0,l.kq)("",!0)])]),(0,l._)("td",null,[(0,l._)("div",XF,[eX,(0,l.wy)((0,l._)("input",{class:(0,p.C_)(["form-control text-body",{"is-invalid":d.addErrors.customer}]),"onUpdate:modelValue":t[8]||(t[8]=e=>d.storeMonitor.customer=e),type:"text",placeholder:"Khách hàng"},null,2),[[a.nr,d.storeMonitor.customer]]),d.addErrors.customer?((0,l.wg)(),(0,l.iD)("div",tX,(0,p.zw)(d.addErrors.customer),1)):(0,l.kq)("",!0)])])]),(0,l._)("tr",null,[(0,l._)("td",sX,[(0,l._)("div",aX,[lX,(0,l.wy)((0,l._)("input",{class:(0,p.C_)(["form-control text-body",{"is-invalid":d.addErrors.address_of_station}]),"onUpdate:modelValue":t[9]||(t[9]=e=>d.storeMonitor.address_of_station=e),type:"text",placeholder:"Địa chỉ lắp đặt"},null,2),[[a.nr,d.storeMonitor.address_of_station]]),d.addErrors.address_of_station?((0,l.wg)(),(0,l.iD)("div",oX,(0,p.zw)(d.addErrors.address_of_station),1)):(0,l.kq)("",!0)])])]),(0,l._)("tr",null,[(0,l._)("td",dX,[(0,l._)("div",rX,[iX,(0,l.wy)((0,l._)("textarea",{class:(0,p.C_)(["form-control text-body",{"is-invalid":d.addErrors.detail_installtion}]),"onUpdate:modelValue":t[10]||(t[10]=e=>d.storeMonitor.detail_installtion=e),rows:"5",placeholder:"Chi tiết lắp đặt"},null,2),[[a.nr,d.storeMonitor.detail_installtion]]),d.addErrors.detail_installtion?((0,l.wg)(),(0,l.iD)("div",nX,(0,p.zw)(d.addErrors.detail_installtion),1)):(0,l.kq)("",!0)])])]),(0,l._)("tr",null,[(0,l._)("td",cX,[(0,l._)("div",uX,[_X,(0,l._)("div",{class:(0,p.C_)({"is-invalid":d.addErrors.images})},[(0,l._)("input",{type:"file",class:"dropify",name:"images",accept:"image/*","data-height":"200",onChange:t[11]||(t[11]=(...e)=>r.handleImageChange&&r.handleImageChange(...e)),multiple:""},null,32),(0,l._)("ul",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.selectedFiles,((e,t)=>((0,l.wg)(),(0,l.iD)("li",{key:t},(0,p.zw)(e.name),1)))),128))])],2),d.addErrors.images?((0,l.wg)(),(0,l.iD)("div",pX,(0,p.zw)(d.addErrors.images),1)):(0,l.kq)("",!0)])]),(0,l._)("td",mX,[(0,l._)("div",hX,[bX,(0,l._)("div",gX,[(0,l._)("div",null,[(0,l._)("div",null,[(0,l._)("div",vX,[(0,l._)("div",fX,[(0,l.wy)((0,l._)("input",{class:(0,p.C_)(["form-control text-body",{"is-invalid":d.addErrors.location}]),onInput:t[12]||(t[12]=(...e)=>r.onCoordinateInput&&r.onCoordinateInput(...e)),type:"text","onUpdate:modelValue":t[13]||(t[13]=e=>d.selectedCoordinates.lat=e),placeholder:"Kinh độ"},null,34),[[a.nr,d.selectedCoordinates.lat]])]),(0,l._)("div",yX,[(0,l.wy)((0,l._)("input",{class:(0,p.C_)(["form-control text-body",{"is-invalid":d.addErrors.location}]),onInput:t[14]||(t[14]=(...e)=>r.onCoordinateInput&&r.onCoordinateInput(...e)),type:"text","onUpdate:modelValue":t[15]||(t[15]=e=>d.selectedCoordinates.lng=e),placeholder:"Vĩ độ"},null,34),[[a.nr,d.selectedCoordinates.lng]])])]),(0,l._)("div",wX,[(0,l.wy)((0,l._)("input",{class:(0,p.C_)(["form-control text-body",{"is-invalid":d.addErrors.location}]),type:"text",placeholder:"Địa chỉ","onUpdate:modelValue":t[16]||(t[16]=e=>d.selectedAddress=e),onInput:t[17]||(t[17]=(...e)=>r.onAddressInput&&r.onAddressInput(...e))},null,34),[[a.nr,d.selectedAddress]]),d.addErrors.location?((0,l.wg)(),(0,l.iD)("div",kX,(0,p.zw)(d.addErrors.location),1)):(0,l.kq)("",!0)])]),(0,l._)("div",null,[(0,l._)("div",xX,null,512)])])])])])])])])]),d.showSuccessMessage?((0,l.wg)(),(0,l.iD)("div",CX,(0,p.zw)(d.successMessage),1)):(0,l.kq)("",!0),(0,l._)("div",DX,[(0,l._)("div",PX,[(0,l.wy)((0,l._)("input",{class:"form-check-input",type:"checkbox",id:"check1",name:"option1",value:"something","onUpdate:modelValue":t[18]||(t[18]=e=>d.dontCloseModal=e)},null,512),[[a.e8,d.dontCloseModal]]),MX]),(0,l._)("div",null,[(0,l._)("button",{class:"btn ripple btn-primary",onClick:t[19]||(t[19]=(...e)=>r.addDetailMonitor&&r.addDetailMonitor(...e))},"Lưu"),(0,l._)("button",{class:"btn ripple btn-danger ms-2",onClick:t[20]||(t[20]=e=>r.closeModal("addDetailMonitorModal","storeMonitor","addErrors")),type:"button"}," Đóng ")])])])])],512),(0,l._)("div",SX,[(0,l._)("div",EX,[(0,l._)("div",TX,[(0,l._)("div",zX,[UX,(0,l._)("button",{"aria-label":"Close",class:"btn-close",onClick:t[21]||(t[21]=e=>r.closeModal("updateDetailMonitorModal")),type:"button"})]),(0,l._)("div",jX,[(0,l._)("table",qX,[(0,l._)("tbody",null,[(0,l._)("tr",null,[(0,l._)("td",null,[(0,l._)("div",IX,[LX,(0,l.wy)((0,l._)("input",{class:(0,p.C_)(["form-control text-body",{"is-invalid":d.updateErrors.name_station}]),"onUpdate:modelValue":t[22]||(t[22]=e=>d.selectedMonitor.name_station=e),type:"text",placeholder:"Tên trạm"},null,2),[[a.nr,d.selectedMonitor.name_station]]),d.updateErrors.name_station?((0,l.wg)(),(0,l.iD)("div",NX,(0,p.zw)(d.updateErrors.name_station),1)):(0,l.kq)("",!0)])]),(0,l._)("td",null,[(0,l._)("div",RX,[VX,(0,l.wy)((0,l._)("input",{class:(0,p.C_)(["form-control text-body",{"is-invalid":d.updateErrors.installtion_date}]),"onUpdate:modelValue":t[23]||(t[23]=e=>d.selectedMonitor.installtion_date=e),type:"date"},null,2),[[a.nr,d.selectedMonitor.installtion_date]]),d.updateErrors.installtion_date?((0,l.wg)(),(0,l.iD)("div",QX,(0,p.zw)(d.updateErrors.installtion_date),1)):(0,l.kq)("",!0)])]),(0,l._)("td",null,[(0,l._)("div",OX,[AX,(0,l.wy)((0,l._)("input",{class:(0,p.C_)(["form-control text-body",{"is-invalid":d.updateErrors.customer}]),"onUpdate:modelValue":t[24]||(t[24]=e=>d.selectedMonitor.customer=e),type:"text",placeholder:"Khách hàng"},null,2),[[a.nr,d.selectedMonitor.customer]]),d.updateErrors.customer?((0,l.wg)(),(0,l.iD)("div",JX,(0,p.zw)(d.updateErrors.customer),1)):(0,l.kq)("",!0)])])]),(0,l._)("tr",null,[(0,l._)("td",$X,[(0,l._)("div",GX,[WX,(0,l.wy)((0,l._)("input",{class:(0,p.C_)(["form-control text-body",{"is-invalid":d.updateErrors.address_of_station}]),"onUpdate:modelValue":t[25]||(t[25]=e=>d.selectedMonitor.address_of_station=e),type:"text",placeholder:"Địa chỉ lắp đặt"},null,2),[[a.nr,d.selectedMonitor.address_of_station]]),d.updateErrors.address_of_station?((0,l.wg)(),(0,l.iD)("div",BX,(0,p.zw)(d.updateErrors.address_of_station),1)):(0,l.kq)("",!0)])])]),YX])])]),(0,l._)("div",HX,[(0,l._)("div",null,[(0,l._)("button",{class:"btn ripple btn-primary",onClick:t[26]||(t[26]=(...e)=>r.updateDetailMonitor&&r.updateDetailMonitor(...e))},"Lưu"),(0,l._)("button",{class:"btn ripple btn-danger ms-2",onClick:t[27]||(t[27]=e=>r.closeModal("updateDetailMonitorModal","selectedMonitor","updateErrors")),type:"button"}," Đóng ")])])])])],512)],64)}var ZX=s(3153),FX=s.n(ZX),XX={data(){return{storeMonitor:[],selectedMonitor:[],addErrors:[],updateErrors:[],dontCloseModal:!1,showSuccessMessage:!1,successMessage:"",monitors:[],selectedFiles:[],images:[],province:[],map:null,mapContainer:null,selectedCoordinates:{},selectedAddress:null,marker:null,satelliteLayer:null,currentLayer:null,infoLocation:[],viewMap:null,viewMarker:null}},mounted(){const e=document.createElement("script");e.src="/frontend/plugins/fileuploads/js/fileupload.js",e.async=!0,document.head.appendChild(e);const t=document.createElement("script");t.src="/frontend/plugins/fileuploads/js/file-upload.js",t.async=!0,document.head.appendChild(t),this.getDetailMonitors(),this.createMap()},methods:{toggleMapLayer(){const e="map"===this.currentLayer?this.satelliteLayer:this.mapLayer,t="map"===this.currentLayer?this.mapLayer:this.satelliteLayer;e.addTo(this.map),t.removeFrom(this.map),this.currentLayer="map"===this.currentLayer?"satellite":"map"},createMap(){this.map=FX().map(this.$refs.mapContainer).setView([51.505,-.09],13),this.mapLayer=FX().tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19}),this.satelliteLayer=FX().tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}"),this.mapLayer.addTo(this.map),this.currentLayer="map",this.map.on("click",this.onMapClick)},addSatelliteLayer(){this.satelliteLayer=FX().tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}").addTo(this.map)},onMapClick(e){this.marker&&this.marker.removeFrom(this.map),this.marker=FX().marker([e.latlng.lat,e.latlng.lng]).addTo(this.map),this.selectedCoordinates={lat:e.latlng.lat.toFixed(6),lng:e.latlng.lng.toFixed(6)},this.getAddressFromCoordinates(e.latlng.lat,e.latlng.lng)},async getAddressFromCoordinates(e,t){try{const s=await axios.get(`https://nominatim.openstreetmap.org/reverse?lat=${e}&lon=${t}&format=json`);this.selectedAddress=s.data.display_name}catch(s){console.error("Error fetching address:",s),this.selectedAddress="Lỗi khi tìm kiếm địa chỉ"}},onCoordinateInput(){this.selectedAddress="";const e=parseFloat(this.selectedCoordinates.lat),t=parseFloat(this.selectedCoordinates.lng);isNaN(e)||isNaN(t)||(this.setMarker(e,t),this.getAddressFromCoordinates(e,t))},setMarker(e,t){this.marker&&this.marker.removeFrom(this.map),this.marker=FX().marker([e,t]).addTo(this.map)},async getCoordinatesFromAddress(e){try{const t=await axios.get(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(e)}`);if(t.data&&t.data.length>0){const{lat:e,lon:s}=t.data[0];this.setMarker(parseFloat(e),parseFloat(s)),this.selectedCoordinates={lat:e.toFixed(6),lng:s.toFixed(6)}}else console.error("Không tìm thấy tọa độ cho địa chỉ.")}catch(t){console.error("Lỗi khi lấy tọa độ:",t)}},onAddressInput(){this.selectedCoordinates={},""!==this.selectedAddress.trim()&&this.getCoordinatesFromAddress()},async getCoordinatesFromAddress(){try{const e=await axios.get(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(this.selectedAddress)}`);if(e.data&&e.data.length>0){const t=e.data[0];this.selectedCoordinates={lat:t.lat,lng:t.lon},this.setMarker(t.lat,t.lon),this.map&&this.map.setView([t.lat,t.lon],13)}}catch(e){console.error("Error fetching coordinates:",e)}},handleImageChange(e){const t=e.target.files;this.selectedFiles=Array.from(t),this.storeMonitor.images=Array.from(t)},loadtable(){this.$nextTick((()=>{nt.initializeDataTable("#DetailMonitor")}))},getDetailMonitors(){va.getData(`detail_manager-ims/listDetailManagerIMS/${this.$route.params.id}`).then((e=>{this.monitors=e.data.data,this.loadtable(),this.province=e.data.getProvinceId,console.log(e)})).catch((e=>{console.log(e)}))},addDetailMonitor(){const e={name_station:this.storeMonitor.name_station,installtion_date:this.storeMonitor.installtion_date,address_of_station:this.storeMonitor.address_of_station,customer:this.storeMonitor.customer,detail_installtion:this.storeMonitor.images},t=[{name:"name_station",label:"Tên trạm",nullable:!1},{name:"installtion_date",label:"Tên trạm",nullable:!1},{name:"address_of_station",label:"Tên trạm",nullable:!1},{name:"customer",label:"Tên trạm",nullable:!1}],s=[this.selectedCoordinates.lat,this.selectedCoordinates.lng,this.selectedAddress];if(this.storeMonitor.location=JSON.stringify(s),this.addErrors=nt.validateData(e,t),this.storeMonitor.images||(this.addErrors.images="Hình ảnh không được bỏ trống"),(this.selectedCoordinates.lat||this.selectedCoordinates.lng)&&this.selectedAddress||(this.addErrors.location="Vui lòng chọn vị trí"),Object.keys(this.addErrors).length>0)return;const a=new FormData;a.append("name_station",this.storeMonitor.name_station),a.append("installtion_date",this.storeMonitor.installtion_date),a.append("address_of_station",this.storeMonitor.address_of_station),a.append("area_id",this.province.province_id),a.append("customer",this.storeMonitor.customer),a.append("detail_installtion",this.storeMonitor.detail_installtion),a.append("location",this.storeMonitor.location),this.storeMonitor.images.forEach((e=>{a.append("images",e)})),va.postData("detail_manager-ims/storeDetailManagerIMS",a,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{200==e.data.status&&(this.dontCloseModal?(this.getDetailMonitors(),this.storeMonitor={},this.showSuccessMessage=!0,this.successMessage="Thêm thành công",setTimeout((()=>{this.showSuccessMessage=!1}),1e3)):(this.getDetailMonitors(),nt.showSuccessAlert("Thêm thành công"),this.closeModal("addDetailMonitorModal","storeMonitor","addErrors")))})).catch((e=>{console.log(e)}))},editDetailMonitor(e){this.selectedMonitor={id:e._id,name_station:e.name_station,installtion_date:(0,st.Z)(new Date(e.installtion_date),"yyyy-MM-dd"),address_of_station:e.address_of_station,customer:e.customer},console.log(this.selectedMonitor.installtion_date)},updateDetailMonitor(){const e={name_station:this.selectedMonitor.name_station,installtion_date:this.selectedMonitor.installtion_date,address_of_station:this.selectedMonitor.address_of_station,customer:this.selectedMonitor.customer},t=[{name:"name_station",label:"Tên trạm",nullable:!1},{name:"installtion_date",label:"Tên trạm",nullable:!1},{name:"address_of_station",label:"Tên trạm",nullable:!1},{name:"customer",label:"Tên trạm",nullable:!1}];this.updateErrors=nt.validateData(e,t),Object.keys(this.updateErrors).length>0||va.putData(`detail_manager-ims/updateDetailManagerIMS/${this.selectedMonitor.id}`,e).then((e=>{console.log(e),200==e.data.status&&(nt.showSuccessAlert("Cập nhật thành công"),this.getDetailMonitors(),this.closeModal("updateDetailMonitorModal","selectedMonitor","updateErrors"))})).catch((e=>{console.log(e)}))},deleteDetailMonitor(e){nt.confirmDelete((()=>{va.deleteData(`detail_manager-ims/deleteDetailManagerIMS/${e}`).then((e=>{nt.showSuccessAlert("Xóa thành công"),this.getDetailMonitors()})).catch((e=>{console.error("Lỗi khi xóa khu vực:",e)}))}))},viewImages(e){if(e.image){const t=JSON.parse(e.image);this.images=t}},viewLocation(e){const t=JSON.parse(e.location);this.infoLocation.lat=t[0],this.infoLocation.lng=t[1],this.infoLocation.address=t[2],this.viewMap?this.viewMap.setView([t[0],t[1]],13):(this.viewMap=FX().map(this.$refs.mapContainer1).setView([t[0],t[1]],13),this.mapLayer=FX().tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19}),this.satelliteLayer=FX().tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}"),this.mapLayer.addTo(this.viewMap)),this.viewMarker?this.viewMarker.setLatLng([t[0],t[1]]):this.viewMarker=FX().marker([t[0],t[1]]).addTo(this.viewMap)},closeModal(e,t,s){const a=this.$refs[e];$(a).modal("hide"),this[t]={},this[s]={}}}};const e0=(0,r.Z)(XX,[["render",KX]]);var t0=e0;const s0={class:"main-content side-content pt-0"},a0=(0,l._)("div",{class:"main-container container-fluid pt-5"},[(0,l._)("div",{class:"inner-body"},[(0,l._)("div",{class:"page-header"},[(0,l._)("div",null,[(0,l._)("h2",{class:"main-content-title tx-24 mg-b-5"},"Tin nhắn"),(0,l._)("ol",{class:"breadcrumb"},[(0,l._)("li",{class:"breadcrumb-item"},[(0,l._)("a",{href:"#"},"Trang chủ")]),(0,l._)("li",{class:"breadcrumb-item active","aria-current":"page"},"Tin nhắn")])])]),(0,l._)("div",{class:"row row-sm"},[(0,l._)("div",{class:"col-sm-11 col-md-5 col-lg-5 col-xl-3 recent-chat"},[(0,l._)("div",{class:"card custom-card"},[(0,l._)("div",{class:"main-content-app pt-0"},[(0,l._)("div",{class:"main-content-left main-content-left-chat"},[(0,l._)("div",{class:"card-body"},[(0,l._)("div",{class:"input-group"},[(0,l._)("input",{type:"text",class:"form-control",placeholder:"Tìm kiếm ..."}),(0,l._)("span",{class:""},[(0,l._)("button",{class:"btn ripple btn-primary",type:"button"},"Tìm kiếm")])])]),(0,l._)("nav",{class:"nav main-nav-line main-nav-line-chat card-body"},[(0,l._)("a",{class:"nav-link active","data-bs-toggle":"tab",href:"#ChatList"},"Gần đây"),(0,l._)("a",{class:"nav-link","data-bs-toggle":"tab",href:"#ChatCalls"},"Cuộc gọi"),(0,l._)("a",{class:"nav-link","data-bs-toggle":"tab",href:"#ChatContacts"},"Liên hệ")]),(0,l._)("div",{class:"tab-content main-chat-list"},[(0,l._)("div",{class:"tab-pane active",id:"ChatList"},[(0,l._)("div",{class:"main-chat-list tab-pane"},[(0,l._)("a",{class:"media new",href:"#"},[(0,l._)("div",{class:"main-img-user online"},[(0,l._)("img",{alt:"",src:"/frontend/img/users/default_avatar.jpg"}),(0,l.Uk)(),(0,l._)("span",null,"2")]),(0,l._)("div",{class:"media-body"},[(0,l._)("div",{class:"media-contact-name"},[(0,l._)("span",null,"Trần Nhật Trường"),(0,l.Uk)(),(0,l._)("span",null,"2 giờ trước")]),(0,l._)("p",null,"Chúc mừng năm mới")])]),(0,l._)("a",{class:"media new",href:"#"},[(0,l._)("div",{class:"main-img-user"},[(0,l._)("img",{alt:"",src:"/frontend/img/users/default_avatar.jpg"}),(0,l.Uk)(),(0,l._)("span",null,"1")]),(0,l._)("div",{class:"media-body"},[(0,l._)("div",{class:"media-contact-name"},[(0,l._)("span",null,"Kim Ngân"),(0,l.Uk)(),(0,l._)("span",null,"3 giờ trước")]),(0,l._)("p",null,"Chức mừng sinh nhật")])]),(0,l._)("a",{class:"media selected",href:"#"},[(0,l._)("div",{class:"main-img-user online"},[(0,l._)("img",{alt:"",src:"/frontend/img/users/default_avatar.jpg"})]),(0,l._)("div",{class:"media-body"},[(0,l._)("div",{class:"media-contact-name"},[(0,l._)("span",null,"Thạch Chanh Tha"),(0,l.Uk)(),(0,l._)("span",null,"10 giờ trước")]),(0,l._)("p",null,"Nam quam nunc, bl ndit vel aecenas et ante tincid")])])])]),(0,l._)("div",{class:"tab-pane",id:"ChatCalls"},[(0,l._)("a",{href:"#",class:"d-flex align-items-center media"},[(0,l._)("div",{class:"mb-0 me-2"},[(0,l._)("div",{class:"main-img-user online"},[(0,l._)("img",{alt:"",src:"/frontend/img/users/default_avatar.jpg"}),(0,l.Uk)(),(0,l._)("span",null,"2")])]),(0,l._)("div",{class:"align-items-center justify-content-between"},[(0,l._)("div",{class:"media-body ms-2"},[(0,l._)("div",{class:"media-contact-name"},[(0,l._)("span",null,"Amelia Taylor"),(0,l._)("span")]),(0,l._)("div",{class:"d-flex align-items-center"},[(0,l._)("i",{class:"fe fe-arrow-up-right text-success me-2"}),(0,l._)("p",{class:"text-muted tx-13"},"Hôm nay, 05:30 AM")])])]),(0,l._)("div",{class:"ms-auto"},[(0,l._)("i",{class:"contact-status text-success fe fe-phone-outgoing"})])]),(0,l._)("a",{href:"#",class:"d-flex align-items-center media"},[(0,l._)("div",{class:"mb-0 me-2"},[(0,l._)("div",{class:"main-img-user online"},[(0,l._)("img",{alt:"",src:"/frontend/img/users/default_avatar.jpg"}),(0,l.Uk)(),(0,l._)("span",null,"2")])]),(0,l._)("div",{class:"align-items-center justify-content-between"},[(0,l._)("div",{class:"media-body ms-2"},[(0,l._)("div",{class:"media-contact-name"},[(0,l._)("span",null,"Samantha Lewis"),(0,l._)("span")]),(0,l._)("div",{class:"d-flex align-items-center"},[(0,l._)("i",{class:"fe fe-arrow-up-right text-success me-2"}),(0,l._)("p",{class:"text-muted tx-13"},"1 july 2020, 10:23 AM")])])]),(0,l._)("div",{class:"ms-auto"},[(0,l._)("i",{class:"contact-status text-success fe fe-phone-incoming"})])]),(0,l._)("a",{href:"#",class:"d-flex align-items-center media"},[(0,l._)("div",{class:"mb-0 me-2"},[(0,l._)("div",{class:"main-img-user online"},[(0,l._)("img",{alt:"",src:"/frontend/img/users/default_avatar.jpg"}),(0,l.Uk)(),(0,l._)("span",null,"2")])]),(0,l._)("div",{class:"align-items-center justify-content-between"},[(0,l._)("div",{class:"media-body ms-2"},[(0,l._)("div",{class:"media-contact-name"},[(0,l._)("span",null,"Victoria Kerr"),(0,l._)("span")]),(0,l._)("div",{class:"d-flex align-items-center"},[(0,l._)("i",{class:"fe fe-arrow-down-left text-danger me-2"}),(0,l._)("p",{class:"text-muted tx-13"},"1 july 2020, 4:45 PM")])])]),(0,l._)("div",{class:"ms-auto"},[(0,l._)("i",{class:"contact-status text-danger fe fe-phone-call"})])]),(0,l._)("a",{href:"#",class:"d-flex align-items-center media"},[(0,l._)("div",{class:"mb-0 me-2"},[(0,l._)("div",{class:"main-img-user online"},[(0,l._)("img",{alt:"",src:"/frontend/img/users/default_avatar.jpg"}),(0,l.Uk)(),(0,l._)("span",null,"2")])]),(0,l._)("div",{class:"align-items-center justify-content-between"},[(0,l._)("div",{class:"media-body ms-2"},[(0,l._)("div",{class:"media-contact-name"},[(0,l._)("span",null,"Nhật Trường"),(0,l._)("span")]),(0,l._)("div",{class:"d-flex align-items-center"},[(0,l._)("i",{class:"fe fe-arrow-up-right text-success me-2"}),(0,l._)("p",{class:"text-muted tx-13"},"2 july 2020, 11:14 PM")])])]),(0,l._)("div",{class:"ms-auto"},[(0,l._)("i",{class:"contact-status text-success fe fe-phone-outgoing"})])])]),(0,l._)("div",{class:"tab-pane",id:"ChatContacts"},[(0,l._)("a",{href:"#",class:"d-flex align-items-center media"},[(0,l._)("div",{class:"mb-0 me-2"},[(0,l._)("div",{class:"main-img-user online"},[(0,l._)("img",{alt:"",src:"/frontend/img/users/default_avatar.jpg"}),(0,l.Uk)(),(0,l._)("span",null,"2")])]),(0,l._)("div",{class:"align-items-center justify-content-between"},[(0,l._)("div",{class:"media-body ms-2"},[(0,l._)("div",{class:"media-contact-name"},[(0,l._)("span",null,"Lillian Ross"),(0,l._)("span")]),(0,l._)("div",{class:"d-flex align-items-center"},[(0,l._)("p",{class:"text-muted tx-13"},"Home")])])]),(0,l._)("div",{class:"ms-auto"},[(0,l._)("i",{class:"contact-status text-primary fe fe-message-square me-2"}),(0,l._)("i",{class:"contact-status text-success fe fe-phone-call me-2"}),(0,l._)("i",{class:"contact-status text-danger fe fe-video"})])]),(0,l._)("a",{href:"#",class:"d-flex align-items-center media"},[(0,l._)("div",{class:"mb-0 me-2"},[(0,l._)("div",{class:"main-img-user online"},[(0,l._)("img",{alt:"",src:"/frontend/img/users/default_avatar.jpg"}),(0,l.Uk)(),(0,l._)("span",null,"2")])]),(0,l._)("div",{class:"align-items-center justify-content-between"},[(0,l._)("div",{class:"media-body ms-2"},[(0,l._)("div",{class:"media-contact-name"},[(0,l._)("span",null,"Richard Berry"),(0,l._)("span")]),(0,l._)("div",{class:"d-flex align-items-center"},[(0,l._)("p",{class:"text-muted tx-13"},"Home")])])]),(0,l._)("div",{class:"ms-auto"},[(0,l._)("i",{class:"contact-status text-primary fe fe-message-square me-2"}),(0,l._)("i",{class:"contact-status text-success fe fe-phone-call me-2"}),(0,l._)("i",{class:"contact-status text-danger fe fe-video"})])]),(0,l._)("a",{href:"#",class:"d-flex align-items-center media"},[(0,l._)("div",{class:"mb-0 me-2"},[(0,l._)("div",{class:"main-img-user online"},[(0,l._)("img",{alt:"",src:"/frontend/img/users/default_avatar.jpg"}),(0,l.Uk)(),(0,l._)("span",null,"2")])]),(0,l._)("div",{class:"align-items-center justify-content-between"},[(0,l._)("div",{class:"media-body ms-2"},[(0,l._)("div",{class:"media-contact-name"},[(0,l._)("span",null,"Abraham Clark"),(0,l._)("span")]),(0,l._)("div",{class:"d-flex align-items-center"},[(0,l._)("p",{class:"text-muted tx-13"},"Mobile")])])]),(0,l._)("div",{class:"ms-auto"},[(0,l._)("i",{class:"contact-status text-primary fe fe-message-square me-2"}),(0,l._)("i",{class:"contact-status text-success fe fe-phone-call me-2"}),(0,l._)("i",{class:"contact-status text-danger fe fe-video"})])])])])])])])]),(0,l._)("div",{class:"col-sm-12 col-md-6 col-lg-6 col-xl-8 custom-main-chat"},[(0,l._)("div",{class:"card custom-card"},[(0,l._)("div",{class:"main-content-app pt-0"},[(0,l._)("div",{class:"main-content-body main-content-body-chat"},[(0,l._)("div",{class:"main-chat-header pt-3"},[(0,l._)("div",{class:"main-img-user online"},[(0,l._)("img",{alt:"avatar",src:"/frontend/img/users/default_avatar.jpg"})]),(0,l._)("div",{class:"main-chat-msg-name"},[(0,l._)("h6",null,"Thạch Chanh Tha"),(0,l._)("span",{class:"dot-label bg-success"}),(0,l._)("small",{class:"me-3"},"online")]),(0,l._)("nav",{class:"nav"},[(0,l._)("a",{class:"nav-link",href:"","data-bs-toggle":"dropdown",role:"button","aria-haspopup":"true","aria-expanded":"false"},[(0,l._)("i",{class:"fe fe-more-horizontal"})]),(0,l._)("div",{class:"dropdown-menu dropdown-menu-end shadow"},[(0,l._)("a",{class:"dropdown-item",href:"#"},[(0,l._)("i",{class:"fe fe-phone-call me-1"}),(0,l.Uk)(" Phone Call")]),(0,l._)("a",{class:"dropdown-item",href:"#"},[(0,l._)("i",{class:"fe fe-video me-1"}),(0,l.Uk)(" Video Call")]),(0,l._)("a",{class:"dropdown-item",href:"#"},[(0,l._)("i",{class:"fe fe-user-plus me-1"}),(0,l.Uk)(" Add Contact")]),(0,l._)("a",{class:"dropdown-item",href:"#"},[(0,l._)("i",{class:"fe fe-trash-2 me-1"}),(0,l.Uk)(" Delete")])]),(0,l._)("a",{class:"nav-link","data-bs-toggle":"tooltip",href:"",title:"Phone Call"},[(0,l._)("i",{class:"fe fe-phone-call"})]),(0,l._)("a",{class:"nav-link","data-bs-toggle":"tooltip",href:"",title:"Video Call"},[(0,l._)("i",{class:"fe fe-video"})]),(0,l._)("a",{class:"nav-link","data-bs-toggle":"tooltip",href:"",title:"Add Contact"},[(0,l._)("i",{class:"fe fe-user-plus"})]),(0,l._)("a",{class:"nav-link","data-bs-toggle":"tooltip",href:"",title:"Delete"},[(0,l._)("i",{class:"fe fe-trash-2"})])])]),(0,l._)("div",{class:"main-chat-body",id:"ChatBody"},[(0,l._)("div",{class:"content-inner"},[(0,l._)("label",{class:"main-chat-time"},[(0,l._)("span",null,"3 ngày trước")]),(0,l._)("div",{class:"media flex-row-reverse"},[(0,l._)("div",{class:"main-img-user online"},[(0,l._)("img",{alt:"avatar",src:"/frontend/img/users/default_avatar.jpg"})]),(0,l._)("div",{class:"media-body"},[(0,l._)("div",{class:"main-msg-wrapper"}," Nulla consequat massa quis enim. Donec pede justo, fringilla vel... "),(0,l._)("div",{class:"main-msg-wrapper2"}," rhoncus ut, imperdiet a, venenatis vitae, justo... "),(0,l._)("div",null,[(0,l._)("span",null,"9:48 am"),(0,l.Uk)(),(0,l._)("a",{href:""},[(0,l._)("i",{class:"icon ion-android-more-horizontal"})])])])]),(0,l._)("div",{class:"media"},[(0,l._)("div",{class:"main-img-user online"},[(0,l._)("img",{alt:"avatar",src:"/frontend/img/users/default_avatar.jpg"})]),(0,l._)("div",{class:"media-body"},[(0,l._)("div",{class:"main-msg-wrapper"}," Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. "),(0,l._)("div",null,[(0,l._)("span",null,"9:32 am"),(0,l.Uk)(),(0,l._)("a",{href:""},[(0,l._)("i",{class:"icon ion-android-more-horizontal"})])])])]),(0,l._)("div",{class:"media flex-row-reverse"},[(0,l._)("div",{class:"main-img-user online"},[(0,l._)("img",{alt:"avatar",src:"/frontend/img/users/default_avatar.jpg"})]),(0,l._)("div",{class:"media-body"},[(0,l._)("div",{class:"main-msg-wrapper"}," Nullam dictum felis eu pede mollis pretium "),(0,l._)("div",null,[(0,l._)("span",null,"11:22 am"),(0,l.Uk)(),(0,l._)("a",{href:""},[(0,l._)("i",{class:"icon ion-android-more-horizontal"})])])])]),(0,l._)("label",{class:"main-chat-time"},[(0,l._)("span",null,"Hôm qua")]),(0,l._)("div",{class:"media"},[(0,l._)("div",{class:"main-img-user online"},[(0,l._)("img",{alt:"avatar",src:"/frontend/img/users/default_avatar.jpg"})]),(0,l._)("div",{class:"media-body"},[(0,l._)("div",{class:"main-msg-wrapper"}," Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. "),(0,l._)("div",null,[(0,l._)("span",null,"9:32 am"),(0,l.Uk)(),(0,l._)("a",{href:""},[(0,l._)("i",{class:"icon ion-android-more-horizontal"})])])])]),(0,l._)("div",{class:"media flex-row-reverse"},[(0,l._)("div",{class:"main-img-user online"},[(0,l._)("img",{alt:"avatar",src:"/frontend/img/users/default_avatar.jpg"})]),(0,l._)("div",{class:"media-body"},[(0,l._)("div",{class:"main-msg-wrapper"}," Donec quam felis, ultricies nec, pellentesque eu, pretium quis, sem. Nulla consequat massa quis enim. Donec pede justo, fringilla vel, aliquet nec. In enim justo, rhoncus ut, imperdiet a, venenatis vitae, justo. "),(0,l._)("div",{class:"main-msg-wrapper2"}," Nullam dictum felis eu pede mollis pretium "),(0,l._)("div",null,[(0,l._)("span",null,"9:48 am"),(0,l.Uk)(),(0,l._)("a",{href:""},[(0,l._)("i",{class:"icon ion-android-more-horizontal"})])])])]),(0,l._)("label",{class:"main-chat-time"},[(0,l._)("span",null,"Hôm nay")]),(0,l._)("div",{class:"media"},[(0,l._)("div",{class:"main-img-user online"},[(0,l._)("img",{alt:"avatar",src:"/frontend/img/users/default_avatar.jpg"})]),(0,l._)("div",{class:"media-body"},[(0,l._)("div",{class:"main-msg-wrapper"}," Maecenas tempus, tellus eget condimentum rhoncus "),(0,l._)("div",{class:"pd-0"},[(0,l._)("img",{alt:"avatar",class:"wd-150 mb-1",src:"/frontend/img/messages/3.jpg"}),(0,l._)("img",{alt:"avatar",class:"wd-150 mb-1",src:"/frontend/img/messages/4.jpg"}),(0,l._)("img",{alt:"avatar",class:"wd-150 mb-1",src:"/frontend/img/messages/5.jpg"})]),(0,l._)("div",null,[(0,l._)("span",null,"10:12 am"),(0,l.Uk)(),(0,l._)("a",{href:""},[(0,l._)("i",{class:"icon ion-android-more-horizontal"})])])])]),(0,l._)("div",{class:"media flex-row-reverse"},[(0,l._)("div",{class:"main-img-user online"},[(0,l._)("img",{alt:"avatar",src:"/frontend/img/users/default_avatar.jpg"})]),(0,l._)("div",{class:"media-body"},[(0,l._)("div",{class:"main-msg-wrapper"}," Maecenas tempus, tellus eget condimentum rhoncus "),(0,l._)("div",{class:"main-msg-wrapper2"}," Nam quam nunc, blandit vel, luctus pulvinar, hendrerit id, lorem. Maecenas nec odio et ante tincidunt tempus. Donec vitae sapien ut libero venenatis faucibus. "),(0,l._)("div",null,[(0,l._)("span",null,"09:40 am"),(0,l.Uk)(),(0,l._)("a",{href:""},[(0,l._)("i",{class:"icon ion-android-more-horizontal"})])])])])])]),(0,l._)("div",{class:"main-chat-footer"},[(0,l._)("nav",{class:"nav"},[(0,l._)("a",{class:"nav-link","data-bs-toggle":"tooltip",href:"",title:"Add Photo"},[(0,l._)("i",{class:"fe fe-image"})]),(0,l._)("a",{class:"nav-link","data-bs-toggle":"tooltip",href:"",title:"Attach a File"},[(0,l._)("i",{class:"fe fe-paperclip"})]),(0,l._)("a",{class:"nav-link","data-bs-toggle":"tooltip",href:"",title:"Emoji"},[(0,l._)("i",{class:"far fa-smile"})]),(0,l._)("a",{class:"nav-link","data-bs-toggle":"tooltip",href:"",title:"Record Voice"},[(0,l._)("i",{class:"fe fe-mic"})])]),(0,l._)("input",{class:"form-control",placeholder:"Nhập tin nhắn tại đây...",type:"text"}),(0,l._)("a",{class:"main-msg-send",href:""},[(0,l._)("i",{class:"far fa-paper-plane"})])])])])])])])])],-1),l0=[a0];function o0(e,t,s,a,o,d){return(0,l.wg)(),(0,l.iD)("div",s0,l0)}var d0={name:"Chat"};const r0=(0,r.Z)(d0,[["render",o0]]);var i0=r0;const n0=[{path:"/index",name:"index",component:qa},{path:"/production_required",name:"listProductionRequired",component:Bl},{path:"/production_required/detail/:id",name:"ProRequiredDetail",component:Xn},{path:"/production_required/add",name:"addProductionRequired",component:nr},{path:"/production_required/edit/:id",name:"updateProRequired",component:vn},{path:"/jobsheets",name:"jobsheets",component:tf},{path:"/jobsheets/product/:id",name:"jobsheetPoduct",component:Kw},{path:"/jobsheets/semi-product/:id",name:"jobsheetSemiPoduct",component:QC},{path:"/weldings",name:"weldings",component:BP},{path:"/assemblys",name:"assemblys",component:fS},{path:"/qualitycontrol",name:"qualitycontrol",component:wE},{path:"/qualitycontrol/detail/:id",name:"viewqualitycontrol",component:SU},{path:"/positions",name:"positions",component:Ij},{path:"/departments",name:"departments",component:Aq},{path:"/users",name:"users",component:E$},{path:"/profile",name:"profile",component:RG},{path:"/modules",name:"modules",component:OW},{path:"/permissions",name:"permissions",component:zB},{path:"/regions",name:"regions",component:HI},{path:"/product_types",name:"product_types",component:sN},{path:"/product_groups",name:"product_groups",component:nR},{path:"/product_catalogs",name:"product_catalogs",component:bV},{path:"/semi_products",name:"semi_products",component:eA},{path:"/packages",name:"packages",component:TY},{path:"/sims",name:"sims",component:tK},{path:"/jobsheet/detail",name:"/jobsheet/detail",component:Kw},{path:"/weldings/detail/:id",name:"viewwelding",component:TT},{path:"/assemblys/detail/:id",name:"viewassembly",component:Qz},{path:"/chats",name:"chats",component:i0},{path:"/monitoring_network",name:"monitoring_network",component:LZ},{path:"/monitoring_network/detail/:id",name:"monitoring_network_detail",component:t0}],c0=[{path:"/",name:"signin",component:Ya},{path:"/forgot-password",name:"ForgotPass",component:rl},{path:"/reset-password/:id",name:"ResetPass",component:yl},{path:"/:pathMatch(.*)*",beforeEnter:(e,t,s)=>{e.meta.title="Lỗi đường dẫn",e.meta.content="Có thể bạn đã gõ sai đường dẫn hoặc trang không tồn tại",s()},component:Vt},{path:"/error-no-connection",name:"ConnectionError",beforeEnter:(e,t,s)=>{e.meta.title="Lỗi kết nối",e.meta.content="Xảy ra lỗi trong quá trình kết nối đến máy chủ.",s()},component:Vt}],u0=[{path:"/index",component:Ct,children:n0,beforeEnter:Qt},{path:"/",component:St,children:c0}],_0=(0,c.p7)({history:(0,c.PO)("/"),routes:u0});var p0=_0,m0=s(6553),h0=s.n(m0),b0=s(2594),g0=s(3636),v0=s(1045),f0=s(10);s(4415);window.axios=ha.Z;const y0=(0,b0.WB)();(0,a.ri)(n).use(p0).use(h0()).use(ut()).component("v-select",g0.Z).use(y0).component("VueDatePicker",v0.Z).use(f0.Z).mount("#app")}},t={};function s(a){var l=t[a];if(void 0!==l)return l.exports;var o=t[a]={exports:{}};return e[a].call(o.exports,o,o.exports,s),o.exports}s.m=e,function(){var e=[];s.O=function(t,a,l,o){if(!a){var d=1/0;for(c=0;c<e.length;c++){a=e[c][0],l=e[c][1],o=e[c][2];for(var r=!0,i=0;i<a.length;i++)(!1&o||d>=o)&&Object.keys(s.O).every((function(e){return s.O[e](a[i])}))?a.splice(i--,1):(r=!1,o<d&&(d=o));if(r){e.splice(c--,1);var n=l();void 0!==n&&(t=n)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[a,l,o]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,a){var l,o,d=a[0],r=a[1],i=a[2],n=0;if(d.some((function(t){return 0!==e[t]}))){for(l in r)s.o(r,l)&&(s.m[l]=r[l]);if(i)var c=i(s)}for(t&&t(a);n<d.length;n++)o=d[n],s.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return s.O(c)},a=self["webpackChunkvue_test"]=self["webpackChunkvue_test"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=s.O(void 0,[998],(function(){return s(6010)}));a=s.O(a)})();
//# sourceMappingURL=app.d6d5782d.js.map